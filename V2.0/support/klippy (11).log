Loaded MCU 'EBBCan' 119 commands (v0.12.0-267-g12cd1d9e-dirty-20240725_173632-Core400 / gcc: (15:12.2.rel1-1) 12.2.1 20221205 binutils: (2.40-2+18+b1) 2.40)
MCU 'EBBCan' config: ADC_MAX=4095 BUS_PINS_i2c1_PA9_PA10=PA9,PA10 BUS_PINS_i2c1_PB6_PB7=PB6,PB7 BUS_PINS_i2c1_PB8_PB9=PB8,PB9 BUS_PINS_i2c2_PB10_PB11=PB10,PB11 BUS_PINS_i2c2_PB13_PB14=PB13,PB14 BUS_PINS_i2c3_PB3_PB4=PB3,PB4 BUS_PINS_i2c3_PC0_PC1=PC0,PC1 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2_PB2_PB11_PB10=PB2,PB11,PB10 BUS_PINS_spi2a=PC2,PC3,PB10 BUS_PINS_spi3=PB4,PB5,PB3 CANBUS_FREQUENCY=1000000 CLOCK_FREQ=64000000 MCU=stm32g0b1xx PWM_MAX=255 RECEIVE_WINDOW=192 RESERVE_PINS_CAN=PB0,PB1 RESERVE_PINS_crystal=PF0,PF1 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
Configured MCU 'EBBCan' (1024 moves)
Loaded MCU 'PITB' 115 commands (v0.12.0-267-g12cd1d9e / gcc: (15:12.2.rel1-1) 12.2.1 20221205 binutils: (2.40-2+18+b1) 2.40)
MCU 'PITB' config: ADC_MAX=4095 BUS_PINS_i2c0a=gpio0,gpio1 BUS_PINS_i2c0b=gpio4,gpio5 BUS_PINS_i2c0c=gpio8,gpio9 BUS_PINS_i2c0d=gpio12,gpio13 BUS_PINS_i2c0e=gpio16,gpio17 BUS_PINS_i2c0f=gpio20,gpio21 BUS_PINS_i2c0g=gpio24,gpio25 BUS_PINS_i2c0h=gpio28,gpio29 BUS_PINS_i2c1a=gpio2,gpio3 BUS_PINS_i2c1b=gpio6,gpio7 BUS_PINS_i2c1c=gpio10,gpio11 BUS_PINS_i2c1d=gpio14,gpio15 BUS_PINS_i2c1e=gpio18,gpio19 BUS_PINS_i2c1f=gpio22,gpio23 BUS_PINS_i2c1g=gpio26,gpio27 BUS_PINS_spi0a=gpio0,gpio3,gpio2 BUS_PINS_spi0b=gpio4,gpio7,gpio6 BUS_PINS_spi0c=gpio16,gpio19,gpio18 BUS_PINS_spi0d=gpio20,gpio23,gpio22 BUS_PINS_spi1a=gpio8,gpio11,gpio10 BUS_PINS_spi1b=gpio12,gpio15,gpio14 BUS_PINS_spi1c=gpio24,gpio27,gpio26 CANBUS_FREQUENCY=1000000 CLOCK_FREQ=12000000 MCU=rp2040 PWM_MAX=255 RECEIVE_WINDOW=192 RESERVE_PINS_CAN=gpio9,gpio8 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
Configured MCU 'PITB' (1024 moves)
===== Config file =====
[mcu]
canbus_uuid = 70559fc0ed52

[mcu EBBCan]
canbus_uuid = 1e0fae8aa7ce

[save_variables]
filename = ~/printer_data/config/variables.cfg

[fan_generic Air_Scrubber]
pin = PA2
max_power = 1
off_below = 0.25
kick_start_time = 0.5

[delayed_gcode filter_off]
gcode = 
	SET_FAN_SPEED FAN=Air_Scrubber SPEED=0

[gcode_macro TOGGLE_Air_Scrubber]
gcode = 
	{% if printer['fan_generic Air_Scrubber'].speed > 0 %}
	SET_FAN_SPEED FAN=Air_Scrubber SPEED=0
	{% else %}
	SET_FAN_SPEED FAN=Air_Scrubber SPEED=1
	{% endif %}

[tmc2209 manual_stepper selector]
uart_pin = PB7
run_current = 0.3
stealthchop_threshold = 0

[tmc2209 manual_stepper chameleon]
uart_pin = PD15
run_current = 0.8
stealthchop_threshold = 0

[manual_stepper selector]
step_pin = PE1
dir_pin = PE0
enable_pin = !PE2
microsteps = 1
rotation_distance = 2

[manual_stepper chameleon]
step_pin = PC7
dir_pin = PC6
enable_pin = !PC8
microsteps = 16
rotation_distance = 34.408602151

[neopixel mmu_LED]
pin = PE15
chain_count = 3
color_order = GRBW
initial_red = 0.3
initial_green = 0.3
initial_blue = 0.3
initial_white = 0.0

[gcode_macro TOOL_INIT]
description = homes the tool selector. Needed before any tool change.
variable_tool = 0
variable_ysplit_distance = 670
gcode = 
	MANUAL_STEPPER STEPPER=selector SET_POSITION=0
	MANUAL_STEPPER STEPPER=selector MOVE=-1.65
	MANUAL_STEPPER STEPPER=selector SET_POSITION=0
	MANUAL_STEPPER STEPPER=selector MOVE=0.12
	MANUAL_STEPPER STEPPER=selector SET_POSITION=0
	MANUAL_STEPPER STEPPER=chameleon SET_POSITION=0
	
	SET_GCODE_VARIABLE MACRO=TOOL_INIT VARIABLE=tool VALUE={TOOL}
	SET_GCODE_VARIABLE MACRO=TOOL_INIT VARIABLE=ysplit_distance VALUE={YSPLIT_DISTANCE}

[gcode_macro WIPE]
gcode = 
	G1 X170 F5000
	G1 X250
	G1 X170
	G1 X250

[gcode_macro _Cut_Filament]
description = Cut filament by pressing the cutter on a pin with a horizontal movement.
gcode = 
	{% set svv = printer.save_variables.variables %}
	SAVE_GCODE_STATE NAME=_filament_change_state
	{% set prev_pa = printer.extruder.pressure_advance %}
	SET_PRESSURE_ADVANCE ADVANCE=0
	G1 E-33 F3000
	G1 X15 Y0 F10000
	G1 X15 Y-23 F10000
	G1 X-2 Y-23 F10000
	
	
	G1 E-100 F3000
	G1 X15 Y-23 F10000
	SET_PRESSURE_ADVANCE ADVANCE={prev_pa}
	RESTORE_GCODE_STATE NAME=_filament_change_state MOVE=1

[gcode_macro TS0]
gcode = 
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=0 WHITE=1 INDEX=1 TRANSMIT=1
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=0 WHITE=0 INDEX=3 TRANSMIT=1
	TOOL_SELECT TOOL=0

[gcode_macro TS1]
gcode = 
	SET_LED LED=mmu_LED RED=1 GREEN=0 BLUE=0 WHITE=0 INDEX=1 TRANSMIT=1
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=0 WHITE=0 INDEX=3 TRANSMIT=1
	TOOL_SELECT TOOL=1

[gcode_macro TS2]
gcode = 
	SET_LED LED=mmu_LED RED=0 GREEN=1 BLUE=0 WHITE=0 INDEX=1 TRANSMIT=1
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=0 WHITE=0 INDEX=3 TRANSMIT=1
	TOOL_SELECT TOOL=2

[gcode_macro TS3]
gcode = 
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=1 WHITE=0 INDEX=1 TRANSMIT=1
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=0 WHITE=0 INDEX=3 TRANSMIT=1
	TOOL_SELECT TOOL=3

[gcode_macro TOOL_SELECT]
gcode = 
	{% set TOOL = params.TOOL|int %}
	M117 "Setting tool to TOOL{TOOL}"
	{% if TOOL == 0 %}
	MANUAL_STEPPER stepper=selector MOVE=0
	{% elif TOOL == 1 %}
	MANUAL_STEPPER stepper=selector MOVE=0.5
	{% elif TOOL == 2 %}
	MANUAL_STEPPER stepper=selector MOVE=1.0
	{% elif TOOL == 3 %}
	MANUAL_STEPPER stepper=selector MOVE=1.5
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TOOL_INIT VARIABLE=tool VALUE={TOOL}

[gcode_macro TOOL_FREE]
gcode = 
	{% set TOOL = params.TOOL|int %}
	M117 "Free filament path for tool {TOOL}"
	{% if TOOL == 0 %}
	MANUAL_STEPPER stepper=selector MOVE=1
	{% elif TOOL == 1 %}
	MANUAL_STEPPER stepper=selector MOVE=1.5
	{% elif TOOL == 2 %}
	MANUAL_STEPPER stepper=selector MOVE=0
	{% elif TOOL == 3 %}
	MANUAL_STEPPER stepper=selector MOVE=0.5
	{% endif %}

[gcode_macro CHAMELEON_UNLOAD]
description = Unloads the filament from the tubing
gcode = 
	SET_LED LED=mmu_LED RED=1 GREEN=0 BLUE=0 WHITE=0 INDEX=2 TRANSMIT=1
	{% set TOOL=printer["gcode_macro TOOL_INIT"].tool %}
	{% set YSPLIT_DIST=printer["gcode_macro TOOL_INIT"].ysplit_distance %}
	MANUAL_STEPPER STEPPER=chameleon SET_POSITION=0
	{% if TOOL == 0 or TOOL == 1 %}
	M117 "Move tool {TOOL} by -{YSPLIT_DIST}"
	MANUAL_STEPPER stepper=chameleon MOVE=-{YSPLIT_DIST} SPEED=200 ACCEL=200
	{% else %}
	M117 "Move tool {TOOL} by {YSPLIT_DIST}"
	MANUAL_STEPPER stepper=chameleon MOVE={YSPLIT_DIST} SPEED=200 ACCEL=200
	{% endif %}
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=0 WHITE=1 INDEX=2 TRANSMIT=1

[gcode_macro CHAMELEON_LOAD]
description = Loads the filament into the extruder bowden
gcode = 
	SET_LED LED=mmu_LED RED=0 GREEN=1 BLUE=0 WHITE=0 INDEX=2 TRANSMIT=1
	{% set TOOL=printer["gcode_macro TOOL_INIT"].tool %}
	{% set YSPLIT_DIST=printer["gcode_macro TOOL_INIT"].ysplit_distance %}
	MANUAL_STEPPER STEPPER=chameleon SET_POSITION=0
	{% if TOOL == 0 or TOOL == 1 %}
	M117 "Move tool {TOOL} by {YSPLIT_DIST}"
	MANUAL_STEPPER stepper=chameleon MOVE={YSPLIT_DIST} SPEED=200 ACCEL=200
	{% else %}
	M117 "Move tool {TOOL} by -{YSPLIT_DIST}"
	MANUAL_STEPPER stepper=chameleon MOVE=-{YSPLIT_DIST} SPEED=200 ACCEL=200
	{% endif %}
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=0 WHITE=1 INDEX=2 TRANSMIT=1

[gcode_macro EXTRUDER_UNLOAD]
description = Unloads the filament from the extruder before a tool change
gcode = 
	_Cut_Filament

[gcode_macro EXTRUDER_LOAD]
description = Loads the filament in the extruder after a tool change
gcode = 
	G92 E0
	G1 E98 F3000
	G1 E5 F300

[gcode_macro T0]
description = Changes the filament to that loaded in tool 0
gcode = 
	
	{% set TOOL= printer["gcode_macro TOOL_INIT"].tool %}
	{% set YSPLIT_DIST=printer["gcode_macro TOOL_INIT"].ysplit_distance %}
	
	PAUSE
	EXTRUDER_UNLOAD
	TOOL_SELECT TOOL={TOOL}
	CHAMELEON_UNLOAD
	
	{% set TOOL=0 %}
	SET_GCODE_VARIABLE MACRO=TOOL_INIT VARIABLE=tool VALUE=0
	TOOL_SELECT TOOL={TOOL}
	CHAMELEON_LOAD
	
	TOOL_FREE TOOL={TOOL}
	EXTRUDER_LOAD
	
	WIPE
	
	RESUME

[gcode_macro T1]
description = Changes the filament to that loaded in tool 1
gcode = 
	
	{% set TOOL= printer["gcode_macro TOOL_INIT"].tool %}
	{% set YSPLIT_DIST=printer["gcode_macro TOOL_INIT"].ysplit_distance %}
	
	PAUSE
	EXTRUDER_UNLOAD
	TOOL_SELECT TOOL={TOOL}
	CHAMELEON_UNLOAD
	
	{% set TOOL=1 %}
	SET_GCODE_VARIABLE MACRO=TOOL_INIT VARIABLE=tool VALUE={TOOL}
	TOOL_SELECT TOOL={TOOL}
	CHAMELEON_LOAD
	
	TOOL_FREE TOOL={TOOL}
	EXTRUDER_LOAD
	
	WIPE
	
	RESUME

[gcode_macro T2]
description = Changes the filament to that loaded in tool 2
gcode = 
	
	{% set TOOL= printer["gcode_macro TOOL_INIT"].tool %}
	{% set YSPLIT_DIST=printer["gcode_macro TOOL_INIT"].ysplit_distance %}
	
	PAUSE
	EXTRUDER_UNLOAD
	TOOL_SELECT TOOL={TOOL}
	CHAMELEON_UNLOAD
	
	{% set TOOL=2 %}
	SET_GCODE_VARIABLE MACRO=TOOL_INIT VARIABLE=tool VALUE={TOOL}
	TOOL_SELECT TOOL={TOOL}
	CHAMELEON_LOAD
	
	TOOL_FREE TOOL={TOOL}
	EXTRUDER_LOAD
	
	WIPE
	
	RESUME

[gcode_macro T3]
description = Changes the filament to that loaded in tool 2
gcode = 
	
	{% set TOOL= printer["gcode_macro TOOL_INIT"].tool %}
	{% set YSPLIT_DIST=printer["gcode_macro TOOL_INIT"].ysplit_distance %}
	
	PAUSE
	EXTRUDER_UNLOAD
	TOOL_SELECT TOOL={TOOL}
	CHAMELEON_UNLOAD
	
	{% set TOOL=3 %}
	TOOL_SELECT TOOL={TOOL}
	SET_GCODE_VARIABLE MACRO=TOOL_INIT VARIABLE=tool VALUE={TOOL}
	CHAMELEON_LOAD
	
	TOOL_FREE TOOL={TOOL}
	EXTRUDER_LOAD
	
	WIPE
	
	RESUME

[mcu PITB]
canbus_uuid = 2e8f2c113235

[fan_generic PITB_FAN0]
pin = PITB:gpio0
max_power = 1.0
kick_start_time = 0.5
off_below = 0.10

[fan_generic PITB_FAN1]
pin = PITB:gpio18
max_power = 1.0
kick_start_time = 0.5
off_below = 0.10

[neopixel PITB_LED]
pin = PITB:gpio19
color_order = GRBW
initial_red = 0.0
initial_green = 0.0
initial_blue = 0.0
initial_white = 0.0

[temperature_sensor mcu_pitb]
sensor_type = temperature_mcu
sensor_mcu = PITB

[output_pin activity_led]
pin = PITB:gpio15

[temperature_sensor enclosure_temp]
sensor_type = BME280
i2c_address = 118
i2c_mcu = PITB
i2c_bus = i2c0g

[neopixel Hotend_LED]
pin = EBBCan:PD3
chain_count = 3
color_order = GRBW
initial_red = 0.0
initial_green = 0.0
initial_blue = 0.0
initial_white = 0.0

[gcode_macro _sb_vars]
variable_colors = {
	'logo': {
	'busy': {'r': 0.4, 'g': 0.0, 'b': 0.0, 'w': 0.0},
	'cleaning': {'r': 0.0, 'g': 0.02, 'b': 0.5, 'w': 0.0},
	'calibrating_z': {'r': 0.8, 'g': 0., 'b': 0.35, 'w': 0.0},
	'heating': {'r': 0.3, 'g': 0.18, 'b': 0.0, 'w': 0.0},
	'homing': {'r': 0.0, 'g': 0.6, 'b': 0.2, 'w': 0.0},
	'leveling': {'r': 0.5, 'g': 0.1, 'b': 0.4, 'w': 0.0},
	'meshing': {'r': 0.2, 'g': 1.0, 'b': 0.0, 'w': 0.0},
	'off': {'r': 0.0, 'g': 0.0, 'b': 0.0, 'w': 0.0},
	'printing': {'r': 1.0, 'g': 1.0, 'b': 1.0, 'w': 1.0},
	'standby': {'r': 0.01, 'g': 0.01, 'b': 0.5, 'w': 0.1}
	},
	'nozzle': {
	'heating': {'r': 0.8, 'g': 0.35, 'b': 0.0, 'w':0.0},
	'off': {'r': 0.0, 'g': 0.0, 'b': 0.0, 'w': 0.0},
	'on': {'r': 0.8, 'g': 0.8, 'b': 0.8, 'w':1.0},
	'standby': {'r': 0.0, 'g': 0.0, 'b': 0.0, 'w':0.5},
	'hot': {'r': 1.0, 'g': 0.0, 'b': 0.0, 'w': 0.0},
	'cold': {'r': 0.3, 'g': 0.0, 'b': 1.0, 'w': 0.0}
	},
	'thermal': {
	'hot': {'r': 1.0, 'g': 0.0, 'b': 0.0, 'w': 0.0},
	'cold': {'r': 0.3, 'g': 0.0, 'b': 0.3, 'w': 0.0},
	'busy': {'r': 0.4, 'g': 0.0, 'b': 0.0, 'w': 0.0},
	'cleaning': {'r': 0.0, 'g': 0.02, 'b': 0.5, 'w': 0.0},
	'calibrating_z': {'r': 0.8, 'g': 0., 'b': 0.35, 'w': 0.0},
	'heating': {'r': 0.3, 'g': 0.18, 'b': 0.0, 'w': 0.0},
	'homing': {'r': 0.0, 'g': 0.6, 'b': 0.2, 'w': 0.0},
	'leveling': {'r': 0.5, 'g': 0.1, 'b': 0.4, 'w': 0.0},
	'meshing': {'r': 0.2, 'g': 1.0, 'b': 0.0, 'w': 0.0},
	'off': {'r': 0.0, 'g': 0.0, 'b': 0.0, 'w': 0.0},
	'printing': {'r': 1.0, 'g': 1.0, 'b': 1.0, 'w': 1.0},
	'standby': {'r': 0.01, 'g': 0.01, 'b': 0.01, 'w': 0.1}
	}
	}
variable_logo_led_name = "Hotend_LED"
variable_logo_idx = "3"
variable_nozzle_led_name = "Hotend_LED"
variable_nozzle_idx = "1,2"
variable_thermal_led_name = "Main_LED"
variable_thermal_idx = "1,2,3,4,5,6,7,8,9,10,21,22,23,24"
variable_control1_led_name = "LCD_BUTTON_LED"
variable_control1_idx = "1"
variable_thermal_config = {
	'extruder': {
	'cool_temp': 40,
	'leds': 'nozzle',
	},
	'heater_bed': {
	'cool_temp': 40,
	'leds': 'thermal',
	},
	}
gcode = 

[gcode_macro _set_sb_leds]
gcode = 
	{% set red = params.RED|default(0)|float %}
	{% set green = params.GREEN|default(0)|float %}
	{% set blue = params.BLUE|default(0)|float %}
	{% set white = params.WHITE|default(0)|float %}
	{% set led = params.LED|string %}
	{% set idx = (params.IDX|string).split(',') %}
	{% set transmit_last = params.TRANSMIT|default(1) %}
	
	{% for led_index in idx %}
	{% set transmit=transmit_last if loop.last else 0 %}
	set_led led={led} red={red} green={green} blue={blue} white={white} index={led_index} transmit={transmit}
	{% endfor %}

[gcode_macro _set_sb_leds_by_name]
gcode = 
	{% set leds_name = params.LEDS %}
	{% set color_name = params.COLOR %}
	{% set color = printer["gcode_macro _sb_vars"].colors[leds_name][color_name] %}
	{% set led = printer["gcode_macro _sb_vars"][leds_name + "_led_name"] %}
	{% set idx = printer["gcode_macro _sb_vars"][leds_name + "_idx"] %}
	{% set transmit = params.TRANSMIT|default(1) %}
	
	_set_sb_leds led={led} red={color.r} green={color.g} blue={color.b} white={color.w} idx="{idx}" transmit={transmit}

[gcode_macro _set_thermal_leds]
gcode = 
	{% set red = params.RED|default(0)|float %}
	{% set green = params.GREEN|default(0)|float %}
	{% set blue = params.BLUE|default(0)|float %}
	{% set white = params.WHITE|default(0)|float %}
	{% set led = printer["gcode_macro _sb_vars"].thermal_led_name %}
	{% set idx = printer["gcode_macro _sb_vars"].thermal_idx %}
	{% set transmit=params.TRANSMIT|default(1) %}
	
	_set_sb_leds led={led} red={red} green={green} blue={blue} white={white} idx="{idx}" transmit={transmit}

[gcode_macro _set_logo_leds]
gcode = 
	{% set red = params.RED|default(0)|float %}
	{% set green = params.GREEN|default(0)|float %}
	{% set blue = params.BLUE|default(0)|float %}
	{% set white = params.WHITE|default(0)|float %}
	{% set led = printer["gcode_macro _sb_vars"].logo_led_name %}
	{% set idx = printer["gcode_macro _sb_vars"].logo_idx %}
	{% set transmit=params.TRANSMIT|default(1) %}
	
	_set_sb_leds led={led} red={red} green={green} blue={blue} white={white} idx="{idx}" transmit={transmit}

[gcode_macro _set_nozzle_leds]
gcode = 
	{% set red = params.RED|default(0)|float %}
	{% set green = params.GREEN|default(0)|float %}
	{% set blue = params.BLUE|default(0)|float %}
	{% set white = params.WHITE|default(0)|float %}
	{% set led = printer["gcode_macro _sb_vars"].nozzle_led_name %}
	{% set idx = printer["gcode_macro _sb_vars"].nozzle_idx %}
	{% set transmit=params.TRANSMIT|default(1) %}
	
	_set_sb_leds led={led} red={red} green={green} blue={blue} white={white} idx="{idx}" transmit={transmit}

[gcode_macro set_thermal_leds_off]
gcode = 
	{% set transmit=params.TRANSMIT|default(1) %}
	_set_thermal_leds red=0 blue=0 green=0 white=0 transmit={transmit}

[gcode_macro set_logo_leds_off]
gcode = 
	{% set transmit=params.TRANSMIT|default(1) %}
	_set_logo_leds red=0 blue=0 green=0 white=0 transmit={transmit}

[gcode_macro set_nozzle_leds_on]
gcode = 
	{% set transmit=params.TRANSMIT|default(1) %}
	_set_sb_leds_by_name leds="nozzle" color="on" transmit={transmit}

[gcode_macro set_nozzle_leds_off]
gcode = 
	{% set transmit=params.TRANSMIT|default(1) %}
	_set_sb_leds_by_name leds="nozzle" color="off" transmit={transmit}

[gcode_macro status_off]
gcode = 
	set_logo_leds_off transmit=0
	set_thermal_leds_off transmit=0
	set_nozzle_leds_off

[gcode_macro status_ready]
gcode = 
	_set_sb_leds_by_name leds="logo" color="standby" transmit=1
	_set_sb_leds_by_name leds="thermal" color="standby" transmit=1
	_set_sb_leds_by_name leds="nozzle" color="standby" transmit=1

[gcode_macro status_busy]
gcode = 
	_set_sb_leds_by_name leds="logo" color="busy" transmit=1
	_set_sb_leds_by_name leds="thermal" color="busy" transmit=1
	set_nozzle_leds_on

[gcode_macro status_heating]
gcode = 
	_set_sb_leds_by_name leds="logo" color="heating" transmit=1
	_set_sb_leds_by_name leds="thermal" color="heating" transmit=1
	_set_sb_leds_by_name leds="nozzle" color="heating" transmit=1

[gcode_macro status_leveling]
gcode = 
	_set_sb_leds_by_name leds="logo" color="leveling" transmit=1
	_set_sb_leds_by_name leds="thermal" color="leveling" transmit=1
	set_nozzle_leds_on

[gcode_macro status_homing]
gcode = 
	_set_sb_leds_by_name leds="logo" color="homing" transmit=1
	_set_sb_leds_by_name leds="thermal" color="homing" transmit=1
	set_nozzle_leds_on

[gcode_macro status_cleaning]
gcode = 
	_set_sb_leds_by_name leds="logo" color="cleaning" transmit=1
	_set_sb_leds_by_name leds="thermal" color="cleaning" transmit=1
	set_nozzle_leds_on

[gcode_macro status_meshing]
gcode = 
	_set_sb_leds_by_name leds="logo" color="meshing" transmit=1
	_set_sb_leds_by_name leds="thermal" color="meshing" transmit=1
	set_nozzle_leds_on

[gcode_macro status_calibrating_z]
gcode = 
	_set_sb_leds_by_name leds="logo" color="calibrating_z" transmit=1
	_set_sb_leds_by_name leds="thermal" color="calibrating_z" transmit=1
	set_nozzle_leds_on

[gcode_macro status_printing]
gcode = 
	_set_sb_leds_by_name leds="logo" color="printing" transmit=1
	_set_sb_leds_by_name leds="thermal" color="printing" transmit=1
	set_nozzle_leds_on

[virtual_sdcard]
path = ~/printer_data/gcodes
on_error_gcode = CANCEL_PRINT

[pause_resume]
recover_velocity = 50.

[display_status]

[respond]
default_type = echo
default_prefix = 

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = CANCEL_PRINT_BASE
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set allow_park = client.park_at_cancel | default(false) | lower == 'true' %}
	{% set retract = client.cancel_retract | default(5.0) | abs %}
	
	{% set park_x = "" if (client.park_at_cancel_x | default(none) is none)
	else "X=" ~ client.park_at_cancel_x %}
	{% set park_y = "" if (client.park_at_cancel_y | default(none) is none)
	else "Y=" ~ client.park_at_cancel_y %}
	{% set custom_park = park_x | length > 0 or park_y | length > 0 %}
	
	
	{% if printer['gcode_macro RESUME'].restore_idle_timeout > 0 %}
	SET_IDLE_TIMEOUT TIMEOUT={printer['gcode_macro RESUME'].restore_idle_timeout}
	{% endif %}
	{% if (custom_park or not printer.pause_resume.is_paused) and allow_park %} _TOOLHEAD_PARK_PAUSE_CANCEL {park_x} {park_y} {% endif %}
	_CLIENT_RETRACT LENGTH={retract}
	TURN_OFF_HEATERS
	M106 S0
	{client.user_cancel_macro | default("")}
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=idle_state VALUE=False
	
	SET_PAUSE_NEXT_LAYER ENABLE=0
	SET_PAUSE_AT_LAYER ENABLE=0 LAYER=0
	CANCEL_PRINT_BASE

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = PAUSE_BASE
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set idle_timeout = client.idle_timeout | default(0) %}
	{% set temp = printer[printer.toolhead.extruder].target if printer.toolhead.extruder != '' else 0 %}
	{% set restore = False if printer.toolhead.extruder == ''
	else True  if params.RESTORE | default(1) | int == 1 else False %}
	
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=last_extruder_temp VALUE="{{'restore': restore, 'temp': temp}}"
	
	{% if idle_timeout > 0 %}
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=restore_idle_timeout VALUE={printer.configfile.settings.idle_timeout.timeout}
	SET_IDLE_TIMEOUT TIMEOUT={idle_timeout}
	{% endif %}
	PAUSE_BASE
	{client.user_pause_macro | default("")}
	_TOOLHEAD_PARK_PAUSE_CANCEL {rawparams}

[gcode_macro RESUME]
description = Resume while heat soaking results in the soaking phase being skipped, any complete callback is run
rename_existing = _HEAT_SOAK__BASE_RESUME
variable_last_extruder_temp = {'restore': False, 'temp': 0}
variable_restore_idle_timeout = 0
variable_idle_state = False
gcode = 
	HEAT_SOAK_RESUME ON_RESUME=_HEAT_SOAK__BASE_RESUME

[gcode_macro SET_PAUSE_NEXT_LAYER]
description = Enable a pause if the next layer is reached
gcode = 
	{% set pause_next_layer = printer['gcode_macro SET_PRINT_STATS_INFO'].pause_next_layer %}
	{% set ENABLE = params.ENABLE | default(1)|int != 0 %}
	{% set MACRO = params.MACRO | default(pause_next_layer.call, True) %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{ 'enable': ENABLE, 'call': MACRO }}"

[gcode_macro SET_PAUSE_AT_LAYER]
description = Enable/disable a pause if a given layer number is reached
gcode = 
	{% set pause_at_layer = printer['gcode_macro SET_PRINT_STATS_INFO'].pause_at_layer %}
	{% set ENABLE = params.ENABLE | int != 0 if params.ENABLE is defined
	else params.LAYER is defined %}
	{% set LAYER = params.LAYER | default(pause_at_layer.layer) | int %}
	{% set MACRO = params.MACRO | default(pause_at_layer.call, True) %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{ 'enable': ENABLE, 'layer': LAYER, 'call': MACRO }}"

[gcode_macro SET_PRINT_STATS_INFO]
rename_existing = SET_PRINT_STATS_INFO_BASE
description = Overwrite, to get pause_next_layer and pause_at_layer feature
variable_pause_next_layer = { 'enable': False, 'call': "PAUSE" }
variable_pause_at_layer = { 'enable': False, 'layer': 0, 'call': "PAUSE" }
gcode = 
	{% if pause_next_layer.enable %}
	RESPOND TYPE=echo MSG='{"%s, forced by pause_next_layer" % pause_next_layer.call}'
	{pause_next_layer.call}
	SET_PAUSE_NEXT_LAYER ENABLE=0
	{% elif pause_at_layer.enable and params.CURRENT_LAYER is defined and params.CURRENT_LAYER | int == pause_at_layer.layer %}
	RESPOND TYPE=echo MSG='{"%s, forced by pause_at_layer [%d]" % (pause_at_layer.call, pause_at_layer.layer)}'
	{pause_at_layer.call}
	SET_PAUSE_AT_LAYER ENABLE=0
	{% endif %}
	SET_PRINT_STATS_INFO_BASE {rawparams}

[gcode_macro _TOOLHEAD_PARK_PAUSE_CANCEL]
description = Helper: park toolhead used in PAUSE and CANCEL_PRINT
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set use_custom     = client.use_custom_pos | default(false) | lower == 'true' %}
	{% set custom_park_x  = client.custom_park_x | default(0.0) %}
	{% set custom_park_y  = client.custom_park_y | default(0.0) %}
	{% set park_dz        = client.custom_park_dz | default(2.0) | abs %}
	{% set sp_hop         = client.speed_hop | default(15) * 60 %}
	{% set sp_move        = client.speed_move | default(velocity) * 60 %}
	
	{% set origin    = printer.gcode_move.homing_origin %}
	{% set act       = printer.gcode_move.gcode_position %}
	{% set max       = printer.toolhead.axis_maximum %}
	{% set cone      = printer.toolhead.cone_start_z | default(max.z) %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	
	{% set z_min = params.Z_MIN | default(0) | float %}
	{% set z_park = [[(act.z + park_dz), z_min]|max, (max.z - origin.z)] | min %}
	{% set x_park = params.X       if params.X is defined
	else custom_park_x  if use_custom
	else 0.0            if round_bed
	else (max.x - 5.0) %}
	{% set y_park = params.Y       if params.Y is defined
	else custom_park_y  if use_custom
	else (max.y - 5.0)  if round_bed and z_park < cone
	else 0.0            if round_bed
	else (max.y - 5.0) %}
	
	_CLIENT_RETRACT
	{% if "xyz" in printer.toolhead.homed_axes %}
	G90
	G1 Z{z_park} F{sp_hop}
	G1 X{x_park} Y{y_park} F{sp_move}
	{% if not printer.gcode_move.absolute_coordinates %} G91 {% endif %}
	{% else %}
	RESPOND TYPE=echo MSG='Printer not homed'
	{% endif %}

[gcode_macro _CLIENT_EXTRUDE]
description = Extrudes, if the extruder is hot enough
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set use_fw_retract = (client.use_fw_retract | default(false) | lower == 'true') and (printer.firmware_retraction is defined) %}
	{% set length = params.LENGTH | default(client.unretract) | default(1.0) | float %}
	{% set speed = params.SPEED | default(client.speed_unretract) | default(35) %}
	{% set absolute_extrude = printer.gcode_move.absolute_extrude %}
	
	{% if printer.toolhead.extruder != '' %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if use_fw_retract %}
	{% if length < 0 %}
	G10
	{% else %}
	G11
	{% endif %}
	{% else %}
	M83
	G1 E{length} F{(speed | float | abs) * 60}
	{% if absolute_extrude %}
	M82
	{% endif %}
	{% endif %}
	{% else %}
	RESPOND TYPE=echo MSG='{"\"%s\" not hot enough" % printer.toolhead.extruder}'
	{% endif %}
	{% endif %}

[gcode_macro _CLIENT_RETRACT]
description = Retracts, if the extruder is hot enough
gcode = 
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set length = params.LENGTH | default(client.retract) | default(1.0) | float %}
	{% set speed = params.SPEED | default(client.speed_retract) | default(35) %}
	
	_CLIENT_EXTRUDE LENGTH=-{length | float | abs} SPEED={speed | float | abs}

[gcode_macro GET_TIMELAPSE_SETUP]
description = Print the Timelapse setup
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set output_txt = ["Timelapse Setup:"] %}
	{% set _dummy = output_txt.append("enable: %s" % tl.enable) %}
	{% set _dummy = output_txt.append("park: %s" % tl.park.enable) %}
	{% if tl.park.enable %}
	{% set _dummy = output_txt.append("park position: %s time: %s s" % (tl.park.pos, tl.park.time)) %}
	{% set _dummy = output_txt.append("park cord x:%s y:%s dz:%s" % (tl.park.coord.x, tl.park.coord.y, tl.park.coord.dz)) %}
	{% set _dummy = output_txt.append("travel speed: %s mm/s" % tl.speed.travel) %}
	{% endif %}
	{% set _dummy = output_txt.append("fw_retract: %s" % tl.extruder.fw_retract) %}
	{% if not tl.extruder.fw_retract %}
	{% set _dummy = output_txt.append("retract: %s mm speed: %s mm/s" % (tl.extruder.retract, tl.speed.retract)) %}
	{% set _dummy = output_txt.append("extrude: %s mm speed: %s mm/s" % (tl.extruder.extrude, tl.speed.extrude)) %}
	{% endif %}
	{% set _dummy = output_txt.append("verbose: %s" % tl.verbose) %}
	{action_respond_info(output_txt|join("\n"))}

[gcode_macro _SET_TIMELAPSE_SETUP]
description = Set user parameters for timelapse
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	{% set park = {'min'   : {'x': (min.x / 1.42)|round(3) if round_bed else min.x|round(3),
	'y': (min.y / 1.42)|round(3) if round_bed else min.y|round(3)},
	'max'   : {'x': (max.x / 1.42)|round(3) if round_bed else max.x|round(3),
	'y': (max.y / 1.42)|round(3) if round_bed else max.y|round(3)},
	'center': {'x': (max.x-(max.x-min.x)/2)|round(3),
	'y': (max.y-(max.y-min.y)/2)|round(3)}} %}
	
	{% if params.ENABLE %}
	{% if params.ENABLE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=enable VALUE={True if params.ENABLE|lower == 'true' else False}
	{% else %}
	{action_raise_error("ENABLE=%s not supported. Allowed values are [True, False]" % params.ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.VERBOSE %}
	{% if params.VERBOSE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=verbose VALUE={True if params.VERBOSE|lower == 'true' else False}
	{% else %}
	{action_raise_error("VERBOSE=%s not supported. Allowed values are [True, False]" % params.VERBOSE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_X %}
	{% if params.CUSTOM_POS_X|float >= min.x and params.CUSTOM_POS_X|float <= max.x %}
	{% set _dummy = tl.park.custom.update({'x':params.CUSTOM_POS_X|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_X=%s must be within [%s - %s]" % (params.CUSTOM_POS_X, min.x, max.x))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_Y %}
	{% if params.CUSTOM_POS_Y|float >= min.y and params.CUSTOM_POS_Y|float <= max.y %}
	{% set _dummy = tl.park.custom.update({'y':params.CUSTOM_POS_Y|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_Y=%s must be within [%s - %s]" % (params.CUSTOM_POS_Y, min.y, max.y))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_DZ %}
	{% if params.CUSTOM_POS_DZ|float >= min.z and params.CUSTOM_POS_DZ|float <= max.z %}
	{% set _dummy = tl.park.custom.update({'dz':params.CUSTOM_POS_DZ|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_DZ=%s must be within [%s - %s]" % (params.CUSTOM_POS_DZ, min.z, max.z))}
	{% endif %}
	{% endif %}
	{% if params.PARK_ENABLE %}
	{% if params.PARK_ENABLE|lower is in ['true', 'false'] %}
	{% set _dummy = tl.park.update({'enable':True if params.PARK_ENABLE|lower == 'true' else False}) %}
	{% else %}
	{action_raise_error("PARK_ENABLE=%s not supported. Allowed values are [True, False]" % params.PARK_ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.PARK_POS %}
	{% if params.PARK_POS|lower is in ['center','front_left','front_right','back_left','back_right','custom','x_only','y_only'] %}
	{% set dic = {'center'      : {'x': park.center.x   , 'y': park.center.y   , 'dz': 1                },
	'front_left'  : {'x': park.min.x      , 'y': park.min.y      , 'dz': 0                },
	'front_right' : {'x': park.max.x      , 'y': park.min.y      , 'dz': 0                },
	'back_left'   : {'x': park.min.x      , 'y': park.max.y      , 'dz': 0                },
	'back_right'  : {'x': park.max.x      , 'y': park.max.y      , 'dz': 0                },
	'custom'      : {'x': tl.park.custom.x, 'y': tl.park.custom.y, 'dz': tl.park.custom.dz},
	'x_only'      : {'x': tl.park.custom.x, 'y': 'none'          , 'dz': tl.park.custom.dz},
	'y_only'      : {'x': 'none'          , 'y': tl.park.custom.y, 'dz': tl.park.custom.dz}} %}
	{% set _dummy = tl.park.update({'pos':params.PARK_POS|lower}) %}
	{% set _dummy = tl.park.update({'coord':dic[tl.park.pos]}) %}
	{% else %}
	{action_raise_error("PARK_POS=%s not supported. Allowed values are [CENTER, FRONT_LEFT, FRONT_RIGHT, BACK_LEFT, BACK_RIGHT, CUSTOM, X_ONLY, Y_ONLY]"
	% params.PARK_POS|upper)}
	{% endif %}
	{% endif %}
	{% if params.PARK_TIME %}
	{% if params.PARK_TIME|float >= 0.0 %}
	{% set _dummy = tl.park.update({'time':params.PARK_TIME|float|round(3)}) %}
	{% else %}
	{action_raise_error("PARK_TIME=%s must be a positive number" % params.PARK_TIME)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=park VALUE="{tl.park}"
	{% if params.TRAVEL_SPEED %}
	{% if params.TRAVEL_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'travel':params.TRAVEL_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("TRAVEL_SPEED=%s must be larger than 0" % params.TRAVEL_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_SPEED %}
	{% if params.RETRACT_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'retract':params.RETRACT_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_SPEED=%s must be larger than 0" % params.RETRACT_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.EXTRUDE_SPEED %}
	{% if params.EXTRUDE_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'extrude':params.EXTRUDE_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_SPEED=%s must be larger than 0" % params.EXTRUDE_SPEED)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=speed VALUE="{tl.speed}"
	{% if params.EXTRUDE_DISTANCE %}
	{% if params.EXTRUDE_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'extrude':params.EXTRUDE_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_DISTANCE=%s must be specified as positiv number" % params.EXTRUDE_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_DISTANCE %}
	{% if params.RETRACT_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'retract':params.RETRACT_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_DISTANCE=%s must be specified as positiv number" % params.RETRACT_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.FW_RETRACT %}
	{% if params.FW_RETRACT|lower is in ['true', 'false'] %}
	{% if 'firmware_retraction' in printer.configfile.settings %}
	{% set _dummy = tl.extruder.update({'fw_retract': True if params.FW_RETRACT|lower == 'true' else False}) %}
	{% else %}
	{% set _dummy = tl.extruder.update({'fw_retract':False}) %}
	{% if params.FW_RETRACT|capitalize == 'True' %}
	{action_raise_error("[firmware_retraction] not defined in printer.cfg. Can not enable fw_retract")}
	{% endif %}
	{% endif %}
	{% else %}
	{action_raise_error("FW_RETRACT=%s not supported. Allowed values are [True, False]" % params.FW_RETRACT|capitalize)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=extruder VALUE="{tl.extruder}"
	{% if printer.configfile.settings['gcode_macro pause'] is defined %}
	{% set _dummy = tl.macro.update({'pause': printer.configfile.settings['gcode_macro pause'].rename_existing}) %}
	{% endif %}
	{% if printer.configfile.settings['gcode_macro resume'] is defined %}
	{% set _dummy = tl.macro.update({'resume': printer.configfile.settings['gcode_macro resume'].rename_existing}) %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=macro VALUE="{tl.macro}"

[gcode_macro TIMELAPSE_TAKE_FRAME]
description = Take Timelapse shoot
variable_enable = False
variable_takingframe = False
variable_park = {'enable': False,
	'pos'   : 'center',
	'time'  : 0.1,
	'custom': {'x': 0, 'y': 0, 'dz': 0},
	'coord' : {'x': 0, 'y': 0, 'dz': 0}}
variable_extruder = {'fw_retract': False,
	'retract': 1.0,
	'extrude': 1.0}
variable_speed = {'travel': 100,
	'retract': 15,
	'extrude': 15}
variable_verbose = True
variable_check_time = 0.5
variable_restore = {'absolute': {'coordinates': True, 'extrude': True}, 'speed': 1500, 'e':0, 'factor': {'speed': 1.0, 'extrude': 1.0}}
variable_macro = {'pause': 'PAUSE', 'resume': 'RESUME'}
variable_is_paused = False
gcode = 
	{% set hyperlapse = True if params.HYPERLAPSE and params.HYPERLAPSE|lower =='true' else False %}
	{% if enable %}
	{% if (hyperlapse and printer['gcode_macro HYPERLAPSE'].run) or
	(not hyperlapse and not printer['gcode_macro HYPERLAPSE'].run) %}
	{% if park.enable %}
	{% set pos = {'x': 'X' + park.coord.x|string if park.pos != 'y_only' else '',
	'y': 'Y' + park.coord.y|string if park.pos != 'x_only' else '',
	'z': 'Z'+ [printer.gcode_move.gcode_position.z + park.coord.dz, printer.toolhead.axis_maximum.z]|min|string} %}
	{% set restore = {'absolute': {'coordinates': printer.gcode_move.absolute_coordinates,
	'extrude'    : printer.gcode_move.absolute_extrude},
	'speed'   : printer.gcode_move.speed,
	'e'       : printer.gcode_move.gcode_position.e,
	'factor'  : {'speed'  : printer.gcode_move.speed_factor,
	'extrude': printer.gcode_move.extrude_factor}} %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=restore VALUE="{restore}"
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, minimum extruder temperature not reached!")}{% endif %}
	{% else %}
	{% if extruder.fw_retract %}
	G10
	{% else %}
	M83
	G0 E-{extruder.retract} F{speed.retract * 60}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=True
	{macro.pause}
	SET_GCODE_OFFSET X=0 Y=0
	G90
	{% if "xyz" not in printer.toolhead.homed_axes %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, axis not homed yet!")}{% endif %}
	{% else %}
	G0 {pos.x} {pos.y} {pos.z} F{speed.travel * 60}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=takingframe VALUE=True
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={check_time}
	M400
	{% endif %}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE={hyperlapse}
	{% endif %}
	{% else %}
	{% if verbose %}{action_respond_info("Timelapse: disabled, take frame ignored")}{% endif %}
	{% endif %}

[gcode_macro _TIMELAPSE_NEW_FRAME]
description = action call for timelapse shoot. must be a seperate macro
gcode = 
	{action_call_remote_method("timelapse_newframe",
	macropark=printer['gcode_macro TIMELAPSE_TAKE_FRAME'].park,
	hyperlapse=params.HYPERLAPSE)}

[delayed_gcode _WAIT_TIMELAPSE_TAKE_FRAME]
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set factor = {'speed': printer.gcode_move.speed_factor, 'extrude': printer.gcode_move.extrude_factor} %}
	{% if tl.takingframe %}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={tl.check_time}
	{% else %}
	{tl.macro.resume} VELOCITY={tl.speed.travel}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=False
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{action_respond_info("Timelapse: Warning minimum extruder temperature not reached!")}
	{% else %}
	{% if tl.extruder.fw_retract %}
	G11
	{% else %}
	G0 E{tl.extruder.extrude} F{tl.speed.extrude * 60}
	G0 F{tl.restore.speed}
	{% if tl.restore.absolute.extrude %}
	M82
	G92 E{tl.restore.e}
	{% endif %}
	{% endif %}
	{% endif %}
	{% if tl.restore.factor.speed   != factor.speed   %} M220 S{(factor.speed*100)|round(0)}   {% endif %}
	{% if tl.restore.factor.extrude != factor.extrude %} M221 S{(factor.extrude*100)|round(0)} {% endif %}
	{% if not tl.restore.absolute.coordinates %} G91 {% endif %}
	{% endif %}

[gcode_macro HYPERLAPSE]
description = Start/Stop a hyperlapse recording
variable_cycle = 0
variable_run = False
gcode = 
	{% set cycle = params.CYCLE|default(30)|int %}
	{% if params.ACTION and params.ACTION|lower == 'start' %}
	{action_respond_info("Hyperlapse: frames started (Cycle %d sec)" % cycle)}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=True
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=cycle VALUE={cycle}
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True
	{% elif params.ACTION and params.ACTION|lower == 'stop' %}
	{% if run %}{action_respond_info("Hyperlapse: frames stopped")}{% endif %}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=False
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION=0
	{% else %}
	{action_raise_error("Hyperlapse: No valid input parameter
	Use:
	- HYPERLAPSE ACTION=START [CYCLE=time]
	- HYPERLAPSE ACTION=STOP")}
	{% endif %}

[delayed_gcode _HYPERLAPSE_LOOP]
gcode = 
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={printer["gcode_macro HYPERLAPSE"].cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True

[gcode_macro TIMELAPSE_RENDER]
description = Render Timelapse video and wait for the result
variable_render = False
variable_run_identifier = 0
gcode = 
	{action_respond_info("Timelapse: Rendering started")}
	{action_call_remote_method("timelapse_render", byrendermacro="True")}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=render VALUE=True
	{printer.configfile.settings['gcode_macro pause'].rename_existing}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5

[delayed_gcode _WAIT_TIMELAPSE_RENDER]
gcode = 
	{% set ri = printer['gcode_macro TIMELAPSE_RENDER'].run_identifier % 4 %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=run_identifier VALUE={ri + 1}
	{% if printer['gcode_macro TIMELAPSE_RENDER'].render %}
	M117 Rendering {['-','\\','|','/'][ri]}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5
	{% else %}
	{action_respond_info("Timelapse: Rendering finished")}
	M117
	{printer.configfile.settings['gcode_macro resume'].rename_existing}
	{% endif %}

[gcode_macro TEST_STREAM_DELAY]
description = Helper macro to find stream and park delay
gcode = 
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set act = printer.toolhead.position %}
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% if act.z > 5.0 %}
	G0 X{min.x + 5.0} F{tl.speed.travel|int * 60}
	G0 X{(max.x-min.x)/2}
	G4 P{tl.park.time|float * 1000}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE=FALSE
	G0 X{max.x - 5.0}
	{% else %}
	{action_raise_error("Toolhead z %.3f to low. Please place head above z = 5.0" % act.z)}
	{% endif %}

[gcode_macro HEAT_SOAK]
description = Wait for a temperature sensor to reach thermal equilibrium
variable_last_temp = 0
variable_last_soak_temp_rate = None
variable_temp_history = None
variable_smoothed_temp_history = None
variable_stage = "done"
variable_total_time_elapsed = 0
variable_soak_time_remaining = 30
variable_check_interval = 1
variable_heating_report_interval = 2
variable_soaking_report_interval = 5
variable_heater_sensor = None
variable_soaker_sensor = None
variable_target_temp = 0.0
variable_min_soak_temp = 0
variable_target_rate = 0.3
variable_complete = None
variable_cancel = None
variable_temp_smooth_time = 4.0
variable_rate_smooth_time = 20.0
variable_resume_trigger = False
variable_was_print_active = False
gcode = 
	{ action_respond_info( "Heat Soak starting" )}
	
	
	{% set SOAKER = params.SOAKER | string %}
	{% set RATE = params.RATE | default(0.3) | float %}
	{% set SOAK_TEMP = params.SOAK_TEMP | default(0.0) | float %}
	{% set HEATER = (params.HEATER | string) %}
	{% set TARGET = params.TARGET | default(0) | float %}
	{% set TIMEOUT = (params.TIMEOUT | default(30) | int) * 60 %}
	{% set TEMP_SMOOTH = params.TEMP_SMOOTH | default(4.0) | float %}
	{% set RATE_SMOOTH = params.RATE_SMOOTH | default(20) | float %}
	{% set COMPLETE  = (params.COMPLETE | string) %}
	{% set CANCEL  = (params.CANCEL | string) %}
	{% set HEATING_REPORT_INTERVAL  = params.HEATING_REPORT_INTERVAL | default(2) | int %}
	{% set SOAKING_REPORT_INTERVAL  = params.SOAKING_REPORT_INTERVAL | default(5) | int %}
	
	
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=heater_sensor           VALUE="{HEATER | pprint}"
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=target_temp             VALUE={TARGET}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=min_soak_temp           VALUE={SOAK_TEMP}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=soaker_sensor           VALUE="{SOAKER | pprint}"
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=target_rate             VALUE={RATE}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=soak_time_remaining     VALUE={TIMEOUT}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=complete                VALUE="'{COMPLETE}'"
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=cancel                  VALUE="'{CANCEL}'"
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=temp_smooth_time        VALUE={TEMP_SMOOTH}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=rate_smooth_time        VALUE={RATE_SMOOTH}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=heating_report_interval VALUE={HEATING_REPORT_INTERVAL}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=soaking_report_interval VALUE={SOAKING_REPORT_INTERVAL}
	
	
	{% set soak_temp = printer[SOAKER].temperature %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=last_temp               VALUE={soak_temp}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=temp_history            VALUE="{[soak_temp] | pprint}"
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=smoothed_temp_history   VALUE="{[] | pprint}"
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=total_time_elapsed      VALUE=0
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=last_soak_temp_rate     VALUE=None
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=check_interval          VALUE=1.0
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=resume_trigger          VALUE=False
	{% set is_print_active = printer['virtual_sdcard'].is_active or printer['virtual_sdcard'].file_position != 0.0 %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=was_print_active        VALUE={is_print_active}
	
	
	{% if (HEATER and TARGET != 0.0) %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=stage               VALUE="'heating'"
	SET_HEATER_TEMPERATURE HEATER={HEATER} TARGET={TARGET}
	{% else %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=stage               VALUE="'soaking'"
	{% endif %}
	
	
	{% if is_print_active %}
	PAUSE
	{% endif %}
	
	UPDATE_DELAYED_GCODE ID=_heat_soaker DURATION={check_interval}

[gcode_macro STOP_HEAT_SOAK]
description = stops heat soak activity without running any callbacks
gcode = 
	UPDATE_DELAYED_GCODE ID=_heat_soaker DURATION=0
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=stage VALUE="'done'"

[gcode_macro CANCEL_HEAT_SOAK]
description = cancels an in-progress HEAT_SOAK cycle and runs the cancel callback
gcode = 
	
	{% set heat_soak = printer['gcode_macro HEAT_SOAK'] %}
	{% set stage = heat_soak.stage %}
	{% if stage in ("heating", "soaking") %}
	STOP_HEAT_SOAK
	{% if heat_soak.cancel %}
	{heat_soak.cancel}
	{% endif %}
	{% endif %}

[gcode_macro HEAT_SOAK_RESUME]
description = Resume while heat soaking results in the soaking phase being skipped, any complete callback is run
gcode = 
	{% set ON_RESUME = (params.ON_RESUME | default("_HEAT_SOAK__BASE_RESUME")) | string %}
	{% set heat_soak = printer['gcode_macro HEAT_SOAK'] %}
	{% set stage = heat_soak.stage %}
	{% if stage == "heating"  %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=resume_trigger VALUE=True
	{% elif stage == "soaking" %}
	STOP_HEAT_SOAK
	{% if heat_soak.complete %}
	{heat_soak.complete}
	{% endif %}
	{ON_RESUME} {% for p in params %}{'%s=%s ' % (p, params[p])}{% endfor %}
	{% else %}
	{ON_RESUME} {% for p in params %}{'%s=%s ' % (p, params[p])}{% endfor %}
	{% endif %}

[delayed_gcode _heat_soaker]
gcode = 
	{% set heat_soak = printer['gcode_macro HEAT_SOAK'] %}
	
	
	
	
	{% set file_position_is_zero = (printer['virtual_sdcard'].file_position == 0.0 )%}
	{% if heat_soak.was_print_active and file_position_is_zero %}
	STOP_HEAT_SOAK
	{action_respond_info("HEAT_SOAK aborted. Detected a change in virtual_sdcard print state. Call STOP_HEAT_SOAK from CANCEL_PRINT to stop seeing this error message.")}
	{% endif %}
	
	
	{% if not file_position_is_zero and not printer['pause_resume'].is_paused %}
	STOP_HEAT_SOAK
	{action_respond_info("HEAT_SOAK aborted. Print is no longer paused. Call STOP_HEAT_SOAK or HEAT_SOAK_RESUME from your RESUME macro to stop seeing this error message.")}
	{% endif %}
	
	
	{% set total_time_elapsed = heat_soak.total_time_elapsed + heat_soak.check_interval %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=total_time_elapsed VALUE={ total_time_elapsed }
	
	{% set soaker_sensor = printer[heat_soak.soaker_sensor] %}
	{% set soak_temp = soaker_sensor.temperature %}
	{% if heat_soak.heater_sensor %}
	{% set heater_sensor = printer[heat_soak.heater_sensor] %}
	{% set heater_temp = heater_sensor.temperature | round(1) %}
	{% endif %}
	{% set stage = heat_soak.stage %}
	
	
	{% set temp_history = heat_soak.temp_history %}
	{% set smoothed_temp_history = heat_soak.smoothed_temp_history %}
	{% set temp_diff = soak_temp - (temp_history | last) %}
	{% set _ = temp_history.append(soak_temp) %}
	{% set soak_temp_smoothed = None %}
	{% set slope = None %}
	{% if (temp_history | length) > heat_soak.temp_smooth_time %}
	{% set temp_history = temp_history[1:] %}
	
	{% set soak_temp_smoothed = ((temp_history | sum) / (temp_history | length)) %}
	
	{% set _ = smoothed_temp_history.append(soak_temp_smoothed) %}
	
	{% set soak_temp_smoothed = soak_temp_smoothed | round(3) %}
	
	{% if (smoothed_temp_history | length) > heat_soak.rate_smooth_time %}
	{% set smoothed_temp_history = smoothed_temp_history[1:] %}
	
	
	
	
	{% set count = (smoothed_temp_history | length) %}
	{% set times = range(0, count, 1) %}
	{% set x_sum = (times | sum) | float %}
	{% set y_sum = (smoothed_temp_history | sum) | float %}
	
	
	{% set xx_sum_arr = [] %}
	{% set xy_sum_arr = [] %}
	{% for i in times %}
	{% set x = times[i] %}
	{% set y = smoothed_temp_history[i] %}
	{% set _ = xx_sum_arr.append(x * x) %}
	{% set _ = xy_sum_arr.append(x * y) %}
	{% endfor %}
	{% set xx_sum = (xx_sum_arr | sum) | float %}
	{% set xy_sum = (xy_sum_arr | sum) | float %}
	
	{% set slope = (60.0 * ((count | float * xy_sum) - (x_sum * y_sum)) / ((count | float * xx_sum) - (x_sum * x_sum))) | round(3) %}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=temp_history VALUE="{(temp_history | pprint | replace("\n", ""))}"
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=smoothed_temp_history VALUE="{(smoothed_temp_history | pprint | replace("\n", ""))}"
	
	
	{% if stage == "heating" %}
	{% if heater_temp < heat_soak.target_temp %}
	{% if total_time_elapsed % heat_soak.heating_report_interval == 0 %}
	{% set message = "Heating -- %.1fC / %.1fC -- %.1fm elapsed" % (heater_temp, heat_soak.target_temp, total_time_elapsed / 60.0) %}
	M117 {message}
	{action_respond_info(message)}
	{% endif %}
	{% else %}
	{action_respond_info("Heating completed after ~%.1fm, starting heat soak phase." % (total_time_elapsed / 60.0))}
	
	{% set stage = "done" if heat_soak.resume_trigger else "soaking" %}
	
	{% set total_time_elapsed = 0 %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=total_time_elapsed VALUE={ total_time_elapsed }
	{% endif %}
	{% endif %}
	
	
	{% if stage == "soaking" %}
	
	{% set soak_time_remaining = [heat_soak.soak_time_remaining - heat_soak.check_interval, 0] | max %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=soak_time_remaining VALUE={ soak_time_remaining }
	
	
	{% if soak_time_remaining <= 0 %}
	{action_respond_info("Heat soak timed out after ~%.1fm" % (total_time_elapsed / 60.0))}
	{% set stage = "cancel" %}
	
	{% elif slope is none or soak_temp_smoothed is none %}
	{% if total_time_elapsed % heat_soak.soaking_report_interval == 0 %}
	
	{% set message = "Soaking -- gathering data -- %.1fm remaining" % (soak_time_remaining / 60.0) %}
	M117 { message }
	{action_respond_info(message)}
	{% endif %}
	
	{% elif (slope > heat_soak.target_rate) or (heat_soak.min_soak_temp > 0 and soak_temp_smoothed < heat_soak.min_soak_temp) %}
	{% if total_time_elapsed % heat_soak.soaking_report_interval == 0 %}
	{% set format_vars = [
	soak_temp_smoothed | float,
	(heat_soak.min_soak_temp | float | round(0) | string) if (heat_soak.min_soak_temp > 0) else "--",
	slope,
	heat_soak.target_rate,
	soak_time_remaining / 60.0
	] %}
	{% set message = "Soaking -- temp: {0:.1f}C / {1}C -- rate: {2:.3f}C/m / {3:.3f}C/m -- {4:.1f}m remaining".format(*format_vars) %}
	M117 { message }
	{action_respond_info(message)}
	{% endif %}
	
	{% else %}
	{action_respond_info("Heat soak complete after ~%.1fm at %.3fC/m / %.1fC" % (total_time_elapsed / 60.0, slope, soak_temp))}
	{% set stage = "done" %}
	{% endif %}
	{% endif %}
	
	
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=stage VALUE="'{stage}'"
	
	{% if stage in ("done", "cancel") %}
	STOP_HEAT_SOAK
	{% if stage == "cancel" %}
	{% if heat_soak.cancel %}
	{heat_soak.cancel}
	{% elif printer['virtual_sdcard'].is_active %}
	CANCEL_PRINT
	{% endif %}
	{% else %}
	{% if heat_soak.complete %}
	{heat_soak.complete}
	{% endif %}
	{% if printer['pause_resume'].is_paused  %}
	RESUME
	{% endif %}
	{% endif %}
	{% else %}
	
	UPDATE_DELAYED_GCODE ID=_heat_soaker DURATION={ heat_soak.check_interval }
	
	G4 P1
	{% endif %}
	
	
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=stage VALUE="'{stage}'"

[gcode_macro PRINT_WARMUP]
description = Perform initial homing and heating tasks
gcode = 
	{% set EXTRUDER_TEMP = params.EXTRUDER_TEMP | default(190) | float %}
	{% set BED_TEMP = params.BED_TEMP | default(60) | float %}
	
	
	M104 S{EXTRUDER_TEMP * 0.75}
	M140 S{BED_TEMP}
	G32
	
	
	HEAT_SOAK HEATER='heater_bed' TARGET={BED_TEMP} SOAKER='temperature_sensor top_bed' SOAK_TEMP={BED_TEMP * 0.80}

[gcode_macro M106]
rename_existing = M106.1
gcode = 
	{% if params.P is defined and params.P|int > 0 %}
	{% if params.P|int == 1 %}
	M106.1 S{params.S|int}
	{% endif %}
	{% if params.P|int == 2 %}
	SET_FAN_SPEED FAN=exhaust_fan SPEED={(params.S|int / 255 )}
	{% endif %}
	{% if params.P|int == 3 %}
	SET_FAN_SPEED FAN=Air_Scrubber SPEED={(params.S|int / 255 )}
	{% endif %}
	{% else %}
	M106.1 S{params.S|int}
	{% endif %}

[gcode_macro M300]
gcode = 
	
	{% set S = params.S|default(1000)|int %}
	
	{% set P = params.P|default(100)|int %}
	SET_PIN PIN=_BEEPER_pin VALUE=0.5 CYCLE_TIME={ 1.0/S if S > 0 else 1 }
	G4 P{P}
	SET_PIN PIN=_BEEPER_pin VALUE=0

[gcode_macro M600]
gcode = 
	PAUSE
	M117 Colour Change Macro
	Change_FILAMENT_UNLOAD
	M117 Load new Filament
	PLAY_TONE l=5

[gcode_macro M601]
gcode = 
	PAUSE
	M117 Printer Paused
	PLAY_TONE l=5

[gcode_macro Rescan_Bed]
gcode = 
	G28
	bed_mesh_calibrate
	BED_MESH_PROFILE SAVE="400custom"
	SAVE_CONFIG

[gcode_macro UNLOAD_FILAMENT]
variable_unloading_speed_start = 80
variable_unloading_speed = 20
variable_cooling_tube_position = 35
variable_cooling_tube_length = 10
variable_initial_cooling_speed = 10
variable_final_cooling_speed = 50
variable_cooling_moves = 4
gcode = 
	{% set UNLOADING_SPEED_START = params.UNLOADING_SPEED_START|default(printer['gcode_macro UNLOAD_FILAMENT_FORM_TIP']['unloading_speed_start']) %}
	{% set UNLOADING_SPEED = params.UNLOADING_SPEED|default(printer['gcode_macro UNLOAD_FILAMENT_FORM_TIP']['unloading_speed']) %}
	{% set COOLING_TUBE_LENGTH = params.COOLING_TUBE_LENGTH|default(printer['gcode_macro UNLOAD_FILAMENT_FORM_TIP']['cooling_tube_length']) %}
	{% set COOLING_TUBE_POSITION = params.COOLING_TUBE_POSITION|default(printer['gcode_macro UNLOAD_FILAMENT_FORM_TIP']['cooling_tube_position']) %}
	{% set INITIAL_COOLING_SPEED = params.INITIAL_COOLING_SPEED|default(printer['gcode_macro UNLOAD_FILAMENT_FORM_TIP']['initial_cooling_speed']) %}
	{% set FINAL_COOLING_SPEED = params.FINAL_COOLING_SPEED|default(printer['gcode_macro UNLOAD_FILAMENT_FORM_TIP']['final_cooling_speed']) %}
	{% set COOLING_MOVES = params.COOLING_MOVES|default(printer['gcode_macro UNLOAD_FILAMENT_FORM_TIP']['cooling_moves']) %}
	SAVE_GCODE_STATE NAME=load_state
	M117 Heating-
	M104 S205
	G28
	M109 S210
	M117 Unloading...
	M83
	G1 X105 Y0 Z80
	SET_PRESSURE_ADVANCE ADVANCE=0
	{% set TOTAL_RETRACTION_DISTANCE = COOLING_TUBE_POSITION|float + COOLING_TUBE_LENGTH|float / 2 - 15 %}
	G1 E-15 F{1.0 * UNLOADING_SPEED_START|float * 60}
	G1 E-{0.7 * TOTAL_RETRACTION_DISTANCE} F{1.0 * UNLOADING_SPEED|float * 60}
	G1 E-{0.2 * TOTAL_RETRACTION_DISTANCE} F{0.5 * UNLOADING_SPEED|float * 60}
	G1 E-{0.1 * TOTAL_RETRACTION_DISTANCE} F{0.3 * UNLOADING_SPEED|float * 60}
	{% set SPEED_INC = (FINAL_COOLING_SPEED|float - INITIAL_COOLING_SPEED|float) / (2 * COOLING_MOVES|float - 1) %}
	{% for move in range(COOLING_MOVES|int) %}
	G1 E{COOLING_TUBE_LENGTH} F{(INITIAL_COOLING_SPEED|float + SPEED_INC*move*2) * 60}
	G1 E-{COOLING_TUBE_LENGTH} F{(INITIAL_COOLING_SPEED|float + SPEED_INC*(move*2+1)) * 60}
	{% endfor %}
	G1 E-300 F3000
	G1 E-300 F3000
	G1 E-100 F1000
	M82
	M117 Sucess!
	RESTORE_GCODE_STATE NAME=load_state MOVE=1

[delayed_gcode POWER_ON_PRINTER]
initial_duration = 1
gcode = 
	PLAY_TONE l=1

[gcode_macro PLAY_TONE]
gcode = 
	{% set l = params.L|default(0)|int %}
	
	{% if l == 1 %}
	M300 P184 S392
	M300 P184 S523
	M300 P187 S659
	M300 P417 S784
	M300 P139 S659
	M300 P400 S784
	
	{% elif l == 2 %}
	M300 P146 S494
	M300 P97 S698
	M300 P157 S0
	M300 P132 S698
	M300 P174 S698
	M300 P168 S659
	M300 P176 S587
	M300 P134 S523
	M300 P95 S330
	M300 P31 S0
	
	{% elif l == 3 %}
	M300 P100 S659
	M300 P200 S659
	M300 P99 S659
	M300 P101 S0
	M300 P100 S523
	M300 P99 S659
	M300 P101 S0
	M300 P199 S784
	M300 P201 S0
	M300 P199 S392
	{% elif l == 4 %}
	M300 P353 S330
	M300 P353 S330
	M300 P353 S349
	M300 P353 S392
	M300 P353 S392
	M300 P353 S349
	M300 P353 S330
	M300 P353 S294
	M300 P353 S262
	M300 P353 S262
	M300 P353 S294
	M300 P353 S330
	M300 P529 S330
	M300 P176 S294
	M300 P706 S294
	{% else %}
	M300 P100 S0
	{% endif %}

[gcode_macro END_PRINT]
gcode = 
	
	{% set th = printer.toolhead %}
	{% set x_safe = th.position.x + 20 * (1 if th.axis_maximum.x - th.position.x > 20 else -1) %}
	{% set y_safe = th.position.y + 20 * (1 if th.axis_maximum.y - th.position.y > 20 else -1) %}
	{% set z_safe = [th.position.z + 50, th.axis_maximum.z]|min %}
	SAVE_GCODE_STATE NAME=STATE_PRINT_END
	M400
	G92 E0
	G1 E-5.0 F1800
	TURN_OFF_HEATERS
	G90
	G0 X{x_safe} Y{y_safe} Z{z_safe} F30000
	
	G0 X{th.axis_maximum.x//2} Y{th.axis_maximum.y} F30000
	BED_MESH_CLEAR
	RESTORE_GCODE_STATE NAME=STATE_PRINT_END
	
	SET_LED LED=case_light WHITE=0.25
	UPDATE_DELAYED_GCODE ID=filter_off DURATION=180
	PLAY_TONE l=2

[gcode_macro PRINT_START]
gcode = 
	
	{% set fct = {'ASA': 30, 'ABS': 50, 'NYLON': 35, 'PLA': 0, 'PC': 50, 'PETG': 30 } %}
	{% set ADAPTIVE_bed = params.ADAPTIVEBED|default("2")|int %}
	{% set MESH_bed = params.MESHbed|default("NONE") %}
	{% set skipheatsoak = params.skipheatsoak|default("0") %}
	{% set target_bed = params.BED|int %}
	{% set target_extruder = params.EXTRUDER|int %}
	{% set target_chamber = params.CHAMBER|default("0")|int %}
	{% set filament = params.filament|default("NONE") %}
	{% if filament != 'NONE' %}
	{% set target_chamber = fct[filament] %}
	{% endif %}
	{% set x_wait = printer.toolhead.axis_maximum.x|float / 2 %}
	{% set y_wait = printer.toolhead.axis_maximum.y|float / 2 %}
	
	
	STATUS_HOMING
	G28
	G90
	
	
	BED_MESH_CLEAR
	
	SET_FAN_SPEED FAN=Air_Scrubber SPEED=1
	
	SET_DISPLAY_TEXT MSG="Bed: {target_bed}c"
	STATUS_HEATING
	G1 X{x_wait} Y{y_wait} Z15 F9000
	M190 S{target_bed}
	{% if skipheatsoak == 0 %}
	HEAT_SOAK HEATER='heater_bed' TARGET={target_bed} SOAKER='temperature_sensor top_bed' SOAK_TEMP={target_bed * 0.80}
	{% endif %}
	
	SET_DISPLAY_TEXT MSG="Hotend: 150c"
	M109 S150
	SET_DISPLAY_TEXT MSG="Hotend: {target_extruder}c"
	M104 S{target_extruder}
	
	
	SET_DISPLAY_TEXT MSG="Z-tilt adjust"
	STATUS_LEVELING
	Z_TILT_ADJUST
	G28 Z
	
	
	
	
	
	
	
	
	{% if ADAPTIVE_bed == 99 %}
	{% if MESH_bed != "NONE" %}
	BED_MESH_CLEAR
	STATUS_MESHING
	SET_DISPLAY_TEXT MSG="Loading Mesh {MESH_bed}"
	BED_MESH_PROFILE LOAD="{MESH_bed}"
	{% endif %}
	{% else %}
	BED_MESH_CLEAR
	SET_DISPLAY_TEXT MSG="Adaptive Bed mesh"
	STATUS_MESHING
	bed_mesh_calibrate ADAPTIVE=1 ADAPTIVE_MARGIN={ADAPTIVE_bed}
	{% endif %}
	
	
	
	
	
	
	
	
	
	SET_DISPLAY_TEXT MSG="Hotend: {target_extruder}c"
	STATUS_HEATING
	G1 X{x_wait} Y{y_wait} Z15 F9000
	M107
	M109 S{target_extruder}
	SET_LED LED=case_light WHITE=1
	
	
	SET_DISPLAY_TEXT MSG="Printer goes brr"
	PLAY_TONE l=3
	STATUS_PRINTING
	G0 X0 Y1 F10000
	G0 Z0.3
	G91
	G1 X150 E35 F1000
	G90

[gcode_macro LOAD_FILAMENT]
gcode = 
	SAVE_GCODE_STATE NAME=unload_state
	M117 Heating+
	M104 S205
	HOME
	M109 S205
	M117 Unloading...
	M83
	
	G1 E200 F3000
	G1 E200 F3000
	G1 E250 F3000
	G1 E20 F120
	
	G1 E-5
	M82
	RESTORE_GCODE_STATE NAME=unload_state MOVE=1

[delayed_gcode DISABLEFILAMENTSENSOR]
initial_duration = 1
gcode = 
	SET_FILAMENT_SENSOR SENSOR=filament_sensor ENABLE=0

[gcode_macro SFS_ENABLE]
description = Enable smart filament sensor
gcode = 
	M117 ENABLING the Smart Filament Sensor
	G92 E0
	SET_FILAMENT_SENSOR SENSOR=filament_sensor ENABLE=1

[gcode_macro SFS_DISABLE]
description = Disable smart filament sensor
gcode = 
	M117 DISABLING the Smart Filament Sensor
	G92 E0
	SET_FILAMENT_SENSOR SENSOR=filament_sensor ENABLE=0

[gcode_macro _START_BED_HEAT]
gcode = 
	{% set t = params.T|default(60)|int %}
	{% set c = params.C|default(30)|int %}
	{% set h = params.H|default(600)|int %}
	M140 S{t}
	
	SET_GCODE_VARIABLE MACRO=_BED_HEAT_STATUS VARIABLE=time_remaining VALUE={h}
	SET_GCODE_VARIABLE MACRO=_BED_HEAT_STATUS VARIABLE=bed_temperature VALUE={t}
	
	UPDATE_DELAYED_GCODE ID=_BED_HEAT_TIMER DURATION=1
	SET_IDLE_TIMEOUT

[gcode_macro STOP_BED_HEAT]
gcode = 
	
	
	SET_GCODE_VARIABLE MACRO=_BED_HEAT_STATUS VARIABLE=time_remaining VALUE=0
	UPDATE_DELAYED_GCODE ID=_BED_HEAT_TIMER DURATION=0
	M117 PreHeat Stopped

[gcode_macro _BED_HEAT_STATUS]
variable_time_remaining = 0
variable_bed_temperature = 0
variable_chamber_temperature = 0
gcode = 
	{% if time_remaining > 0 %}
	M140 S{bed_temperature}
	
	SET_GCODE_VARIABLE MACRO=_BED_HEAT_STATUS VARIABLE=time_remaining VALUE={time_remaining - 1}
	M117 PreHeat {time_remaining}
	{% else %}
	STOP_BED_HEAT
	{% endif %}

[delayed_gcode BED_HEAT_TIMER]
gcode = 
	UPDATE_DELAYED_GCODE ID=_BED_HEAT_TIMER DURATION=1
	_BED_HEAT_STATUS

[gcode_macro BED_60]
gcode = 
	_START_BED_HEAT t=60 c=30 h=600

[gcode_macro BED_65]
gcode = 
	_START_BED_HEAT t=65 c=30 h=600

[gcode_macro BED_70]
gcode = 
	_START_BED_HEAT t=70 c=30 h=600

[gcode_macro PA_CAL]
gcode = 
	{% set BED = params.BED|default(65) |float %}
	{% set EXTRUDER = params.EXTRUDER|default(210) |float %}
	{% set PA_start = params.START|default(0) |float %}
	{% set PA_max = params.MAX|default(0.1) |float %}
	
	{% set PA_factor = PA_max / 20 |float %}
	
	{% set max_x = printer.configfile.config["stepper_x"]["position_max"]|float %}
	{% set max_y = printer.configfile.config["stepper_y"]["position_max"]|float %}
	
	{% set x_section = max_x / 6 | float %}
	{% set x_start = x_section | float %}
	{% set x_p1 = x_section * 2 | float %}
	{% set x_p2 = x_section * 4 | float %}
	{% set x_p3 = x_section * 5 | float %}
	
	{% set y_section = max_y / 24 | float %}
	{% set y_start = y_section | float %}
	{% set y_base = y_section * 2 | float %}
	
	PRINT_START BED={BED} EXTRUDER={EXTRUDER}
	
	G21
	G90
	M83
	SET_VELOCITY_LIMIT ACCEL=5000 ACCEL_TO_DECEL=2500
	G92 E0
	M106 S0
	
	SET_PRESSURE_ADVANCE ADVANCE={PA_start}
	G1 X{x_start} Y{y_start} F30000
	G1 Z0.25 F300
	G1 E0.75 F1800
	G1 X{x_p1} Y{y_start} E0.91798 F300
	G1 X{x_p2} Y{y_start} E1.83596 F9000
	G1 X{x_p3} Y{y_start} E0.91798 F300
	G1 E-0.75 F1800
	G1 Z1 F300
	
	{% for i in range(0, 20) %}
	SET_PRESSURE_ADVANCE ADVANCE={PA_start + i*PA_factor}
	M117 Testing Pressure Advance at: {i*PA_factor}
	G1 X{x_start} Y{y_base+(5*i)} F30000
	G1 Z0.25 F300
	G1 E0.75 F1800
	G1 X{x_p1} Y{y_base+(5*i)} E0.91798 F300
	G1 X{x_p2} Y{y_base+(5*i)} E1.83596 F9000
	G1 X{x_p3} Y{y_base+(5*i)} E0.91798 F300
	G1 E-0.75 F1800
	G1 Z1 F300
	{% endfor %}
	
	PRINT_END

[gcode_macro PA_TUNER]
description = Pressure Advance Tuning Macro
	=========================================
	parameters with defaults listed below:
	TOOLHEAD=""
	BED_X_LENGTH=printer.toolhead.axis.maximum.x
	BED_Y_LENGTH=printer.toolhead.axis.maximum.y
	FILAMENT_DIAMETER=printer...filament_diameter
	EXTRUSION_WIDTH=printer...nozzle_diameter
	LAYER_HEIGHT=0.3
	SIDE_LENGTH=100
	FAST_PRINT_SPEED=150
	SLOW_PRINT_SPEED=30
	COOLING_FAN_SPEED=255
	PA_MIN=0.0
	PA_MAX=1.0
	LAYERS=60
	BED_TEMP=55
	PRINTING_TEMP=210
	X_OFFSET=0
	Y_OFFSET=0
	BASE_ONLY_FLOW_PERCENT=125
	STARTUP_MACRO=LOCAL_GENERIC_PA_START
	END_MACRO=LOCAL_GENERIC_PA_END
	=========================================
gcode = 
	
	{% set bed_x = params.BED_X_LENGTH|default(printer.toolhead.axis_maximum.x)|float %}
	{% set bed_y = params.BED_Y_LENGTH|default(printer.toolhead.axis_maximum.y)|float %}
	{% set filament_d = params.FILAMENT_DIAMETER|default(printer.configfile.settings.extruder.filament_diameter)|float %}
	{% set e_width = params.EXTRUSION_WIDTH|default(printer.configfile.settings.extruder.nozzle_diameter)|float %}
	{% set tool = params.TOOLHEAD|default("") %}
	{% set flow_p = params.BASE_ONLY_FLOW_PERCENT|default(125.0)|float %}
	{% set rect_side_len = params.SIDE_LENGTH|default(100.0)|float %}
	{% set layer_h = params.LAYER_HEIGHT|default(0.3)|float %}
	{% set fspeed = params.FAST_PRINT_SPEED|default(150.0)|float %}
	{% set sspeed = params.SLOW_PRINT_SPEED|default(30.0)|float %}
	{% set fan_speed = params.COOLING_FAN_SPEED|default(255.0)|float %}
	{% set PA_low = params.PA_MIN|default(0.0)|float %}
	{% set PA_high = params.PA_MAX|default(1.0)|float %}
	{% set b_temp = params.BED_TEMP|default(55.0)|float %}
	{% set p_temp = params.PRINTING_TEMP|default(210.0)|float %}
	{% set off_x = params.X_OFFSET|default(0.0)|float %}
	{% set off_y = params.Y_OFFSET|default(0.0)|float %}
	{% set layer_num  = params.LAYERS|default(60)|int %}
	{% set startup_code = params.START_MACRO|default("LOCAL_GENERIC_PA_START PT=" ~ p_temp ~ " BT=" ~ b_temp)|string %}
	{% set end_code = params.END_MACRO|default("LOCAL_GENERIC_PA_END EJECT=" ~ bed_y)|string %}
	
	{% set PA_const = (2 * ((PA_high - PA_low) / layer_num)) - PA_low %}
	{% if PA_const < 0 %}
	{% set PA_sign = " + " %}
	{% else %}
	{% set PA_sign = " - " %}
	{% endif %}
	{% set info_str = "Bed X Length: " ~ bed_x %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed Y Length: " ~ bed_y %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed X Offset: " ~ off_x %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed Y Offset: " ~ off_y %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Extrusion Width: " ~ e_width %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Filament size: " ~ filament_d %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Layer Height: " ~ layer_h %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed Temperature: " ~ b_temp %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Print Temperature: " ~ p_temp %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Slow Printing Speed: " ~ sspeed %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Fast Printing Speed: " ~ fspeed %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Fan Speed: " ~ fan_speed %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Length of Test Square: " ~ rect_side_len %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Number of Layers: " ~ layer_num %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Minimum Pressure Advance: " ~ PA_low %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Maximum Pressure Advance: " ~ PA_high %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Formula: Pressure Advance Value = Measured_Z_Height x " ~ (((PA_high - PA_low) / layer_num) / layer_h) ~ PA_sign ~ PA_const|abs %}
	RESPOND MSG="{info_str}"
	{% set g_cmd = tool %}
	{ g_cmd }
	{% set g_cmd = startup_code %}
	{ g_cmd }
	{% set g_cmd = "M220 S100" %}
	{ g_cmd }
	{% set g_cmd = "M221 S100" %}
	{ g_cmd }
	{% set g_cmd = "SET_VELOCITY_LIMIT SQUARE_CORNER_VELOCITY=1 ACCEL=500" %}
	{ g_cmd }
	{% set g_cmd = "SET_PRESSURE_ADVANCE ADVANCE_LOOKAHEAD_TIME=0" %}
	{ g_cmd }
	{% set g_cmd = "G92 E0" %}
	{ g_cmd }
	{% set g_cmd = "M83" %}
	{ g_cmd }
	{% set current_x = (bed_x / 2) - (rect_side_len / 2) %}
	{% set current_y = (bed_y / 2) - (rect_side_len / 2) %}
	
	{% set g_cmd = "G1 X" ~ (current_x + off_x) ~ " Y" ~ (current_y + off_y) ~ " Z" ~ layer_h ~ " E1.0 F" ~ (fspeed*60) %}
	{ g_cmd }
	{% set g_cmd = "G91" %}
	{ g_cmd }
	{% set pressure_advance = 0.0 %}
	{% set PA_msg = "SET_PRESSURE_ADVANCE ADVANCE=" ~ pressure_advance %}
	{ PA_msg }
	pa_line LSPEED={20} X_L={rect_side_len} Y_L=0.0 LF={flow_p} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={20} X_L={0.0} Y_L={(rect_side_len/2)} LF={flow_p} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={20} X_L=0.0 Y_L={(rect_side_len/2)} LF={flow_p} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={20} X_L={0-rect_side_len} Y_L=0.0 LF={flow_p} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={20} X_L=0.0 Y_L={0-rect_side_len} LF={flow_p} FD={filament_d} EW={e_width} LH={layer_h}
	{% set g_cmd = "G1 Z" ~ layer_h %}
	{ g_cmd }
	
	{% set g_cmd = "M106 S" ~ fan_speed %}
	{ g_cmd }
	{% for i in range(layer_num) %}
	{% set pressure_advance = (i / layer_num) * (PA_high - PA_low) + PA_low|float %}
	{% set PA_msg = "SET_PRESSURE_ADVANCE ADVANCE=" ~ pressure_advance %}
	{ PA_msg }
	pa_line LSPEED={fspeed} X_L={rect_side_len} Y_L=0.0 FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={fspeed} X_L=0.0 Y_L={(rect_side_len/2)} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={sspeed} X_L=0.0 Y_L={(rect_side_len/2)} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={fspeed} X_L={0-rect_side_len} Y_L=0.0 FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={sspeed} X_L=0.0 Y_L={0-rect_side_len} FD={filament_d} EW={e_width} LH={layer_h}
	{% set g_cmd = "G1 Z" ~ layer_h %}
	{ g_cmd }
	{% endfor %}
	
	{% set pressure_advance = PA_high|float %}
	{% set PA_msg = "SET_PRESSURE_ADVANCE ADVANCE=" ~ pressure_advance %}
	{ PA_msg }
	pa_line LSPEED={fspeed} X_L={rect_side_len} Y_L=0.0 FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={fspeed} X_L=0.0 Y_L={(rect_side_len/2)} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={sspeed} X_L=0.0 Y_L={(rect_side_len/2)} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={fspeed} X_L={0-rect_side_len} Y_L=0.0 FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={sspeed} X_L=0.0 Y_L={0-rect_side_len} FD={filament_d} EW={e_width} LH={layer_h}
	{% set g_cmd = "G1 Z" ~ layer_h %}
	{ g_cmd }
	pa_line LSPEED={fspeed} X_L={rect_side_len} Y_L=0.0 FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={fspeed} X_L=0.0 Y_L={(rect_side_len/2)} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={sspeed} X_L=0.0 Y_L={(rect_side_len/2)} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={fspeed} X_L={0-rect_side_len} Y_L=0.0 FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={sspeed} X_L=0.0 Y_L={0-rect_side_len} FD={filament_d} EW={e_width} LH={layer_h}
	{% set g_cmd = "G1 Z" ~ layer_h %}
	{ g_cmd }
	{% set g_cmd = "G90" %}
	{ g_cmd }
	{% set g_cmd = end_code %}
	{ g_cmd }
	{% set info_str = "Bed X Length: " ~ bed_x %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed Y Length: " ~ bed_y %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed X Offset: " ~ off_x %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed Y Offset: " ~ off_y %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Extrusion Width: " ~ e_width %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Filament size: " ~ filament_d %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Layer Height: " ~ layer_h %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed Temperature: " ~ b_temp %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Print Temperature: " ~ p_temp %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Slow Printing Speed: " ~ sspeed %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Fast Printing Speed: " ~ fspeed %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Fan Speed: " ~ fan_speed %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Length of Test Square: " ~ rect_side_len %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Number of Layers: " ~ layer_num %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Minimum Pressure Advance: " ~ PA_low %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Maximum Pressure Advance: " ~ PA_high %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Formula: Pressure Advance Value = Measured_Z_Height x " ~ (((PA_high - PA_low) / layer_num) / layer_h) ~ PA_sign ~ PA_const|abs %}
	RESPOND MSG="{info_str}"

[gcode_macro pa_line]
gcode = 
	{% set flow_r = params.LF|default(100.0)|float %}
	{% set zoomy = params.LSPEED|default(50.0)|float %}
	{% set x_lin = params.X_L|default(100.0)|float %}
	{% set y_lin = params.Y_L|default(100.0)|float %}
	{% set f_size = params.FD|default(1.75)|float %}
	{% set e_size = params.EW|default(0.4)|float %}
	{% set l_size = params.LH|default(0.2)|float %}
	{% set flow_n = flow_r / 100 %}
	{% set lin_length = (x_lin**2 + y_lin**2)**(1/2) %}
	{% set e_len = lin_length / (f_size * f_size * 3.14159 * 0.25) %}
	{% set e_num = e_len * e_size * l_size * 1.67 %}
	{% set g_cmd = "G1 X" ~ x_lin ~ " Y" ~ y_lin ~ " E" ~ (e_num * flow_n) ~ " F" ~ (zoomy*60) %}
	{ g_cmd }

[gcode_macro LOCAL_GENERIC_PA_START ]
description = Generic startup gcode with a prime strip
gcode = 
	{% set b_t = params.BT|default(0.0)|float %}
	{% set p_t = params.PT|default(0.0)|float %}
	{% set b_x = params.BED_X_LENGTH|default(printer.toolhead.axis_maximum.x)|float %}
	{% set b_y = params.BED_Y_LENGTH|default(printer.toolhead.axis_maximum.y)|float %}
	{% set f_d = params.FILAMENT_DIAMETER|default(printer.configfile.settings.extruder.filament_diameter)|float %}
	{% set e_w = params.EXTRUSION_WIDTH|default(printer.configfile.settings.extruder.nozzle_diameter)|float %}
	{% set o_x = params.X_OFFSET|default(0.0)|float %}
	{% set o_y = params.Y_OFFSET|default(0.0)|float %}
	{% set l_h = params.LAYER_HEIGHT|default(0.3)|float %}
	{% set g_cmd = "M140 S" ~ b_t %}
	{ g_cmd }
	{% set g_cmd = "M104 S" ~ p_t %}
	{ g_cmd }
	{% set g_cmd = "M190 S" ~ b_t %}
	{ g_cmd }
	{% set g_cmd = "G28" %}
	{ g_cmd }
	{% set g_cmd = "G1 Z10 F1500" %}
	{ g_cmd }
	{% set g_cmd = "M109 S" ~ p_t %}
	{ g_cmd }
	{% set g_cmd = "G92 E0" %}
	{ g_cmd }
	{% set g_cmd = "G1 Z2.0 F3000" %}
	{ g_cmd }
	{% set g_cmd = "G1 X0.1 Y20 Z0.3 F5000.0" %}
	{ g_cmd }
	{% set g_cmd = "M83" %}
	{ g_cmd }
	{% set g_cmd = "G91" %}
	{ g_cmd }
	pa_line LSPEED=25 X_L=0.0 Y_L={(b_y - 40)} FD={f_d} EW={e_w} LH={l_h}
	{% set g_cmd = "G1 X0.3 Y0 F5000.0" %}
	{ g_cmd }
	pa_line LSPEED=25 X_L=0.0 Y_L={0-(b_y - 40)} FD={f_d} EW={e_w} LH={l_h}
	{% set g_cmd = "G90" %}
	{ g_cmd }
	{% set g_cmd = "M82" %}
	{ g_cmd }
	{% set g_cmd = "G92 E0" %}
	{ g_cmd }
	{% set g_cmd = "G1 Z2.0 F3000" %}
	{ g_cmd }

[gcode_macro LOCAL_GENERIC_PA_END ]
description = Generic ending gcode
gcode = 
	{% set y_done = params.EJECT|default(0.0)|float %}
	{% set g_cmd = "G91" %}
	{ g_cmd }
	{% set g_cmd = "G1 Z10 F450" %}
	{ g_cmd }
	{% set g_cmd = "G90" %}
	{ g_cmd }
	{% set g_cmd = "M82" %}
	{ g_cmd }
	{% set g_cmd = "G1 X0 Y" ~ y_done %}
	{ g_cmd }
	{% set g_cmd = "M106 S0" %}
	{ g_cmd }
	{% set g_cmd = "M104 S0" %}
	{ g_cmd }
	{% set g_cmd = "M140 S0" %}
	{ g_cmd }
	{% set g_cmd = "M84" %}
	{ g_cmd }

[gcode_macro TEST_SPEED]
gcode = 
	
	{% set speed  = params.SPEED|default(printer.configfile.settings.printer.max_velocity)|int %}
	
	{% set iterations = params.ITERATIONS|default(5)|int %}
	
	{% set accel  = params.ACCEL|default(printer.configfile.settings.printer.max_accel)|int %}
	
	{% set bound = params.BOUND|default(20)|int %}
	
	{% set smallpatternsize = SMALLPATTERNSIZE|default(20)|int %}
	
	
	
	{% set x_min = printer.toolhead.axis_minimum.x + bound %}
	{% set x_max = printer.toolhead.axis_maximum.x - bound %}
	{% set y_min = printer.toolhead.axis_minimum.y + bound %}
	{% set y_max = printer.toolhead.axis_maximum.y - bound %}
	
	
	
	{% set x_center = (printer.toolhead.axis_minimum.x|float + printer.toolhead.axis_maximum.x|float ) / 2 %}
	{% set y_center = (printer.toolhead.axis_minimum.y|float + printer.toolhead.axis_maximum.y|float ) / 2 %}
	
	
	{% set x_center_min = x_center - (smallpatternsize/2) %}
	{% set x_center_max = x_center + (smallpatternsize/2) %}
	{% set y_center_min = y_center - (smallpatternsize/2) %}
	{% set y_center_max = y_center + (smallpatternsize/2) %}
	
	
	SAVE_GCODE_STATE NAME=TEST_SPEED
	
	
	{ action_respond_info("TEST_SPEED: starting %d iterations at speed %d, accel %d" % (iterations, speed, accel)) }
	
	
	G28
	M400
	
	{% if printer.configfile.settings.quad_gantry_level %}
	{% if printer.quad_gantry_level.applied == False %}
	QUAD_GANTRY_LEVEL
	G28 Z
	{% endif %}
	{% endif %}
	
	G90
	G1 X{printer.toolhead.axis_maximum.x-50} Y{printer.toolhead.axis_maximum.y-50} F{30*60}
	M400
	G28 X Y
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	G0 X{x_min} Y{y_min} Z{bound + 10} F{speed*60}
	
	
	SET_VELOCITY_LIMIT VELOCITY={speed} ACCEL={accel} ACCEL_TO_DECEL={accel / 2}
	
	{% for i in range(iterations) %}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	{% endfor %}
	
	
	SET_VELOCITY_LIMIT VELOCITY={printer.configfile.settings.printer.max_velocity} ACCEL={printer.configfile.settings.printer.max_accel} ACCEL_TO_DECEL={printer.configfile.settings.printer.max_accel_to_decel}
	
	
	M400
	G28
	
	G90
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	RESTORE_GCODE_STATE NAME=TEST_SPEED

[gcode_macro _USE_INFILL_SQV]
gcode = 
	{% set svv = printer.save_variables.variables %}
	{% set sqv = svv.infill_sqv | default(printer.configfile.settings.printer.square_corner_velocity, true) %}
	SET_VELOCITY_LIMIT SQUARE_CORNER_VELOCITY={ sqv }

[gcode_macro _USE_NORMAL_SQV]
gcode = 
	{% set sqv = printer.configfile.settings.printer.square_corner_velocity %}
	SET_VELOCITY_LIMIT SQUARE_CORNER_VELOCITY={ sqv }

[gcode_macro SET_INFILL_SQV]
gcode = 
	{% set svv = printer.save_variables.variables %}
	{% set val = params.SQV|default(svv.infill_sqv|default(printer.configfile.settings.printer.square_corner_velocity, true), true) | int %}
	SAVE_VARIABLE VARIABLE=infill_sqv VALUE={val}

[gcode_macro M204]
rename_existing = M204.1
gcode = 
	{% set f = params.F|default(0.5)|float %}
	
	{% if 'S' in params %}
	{% set s = params.S|float %}
	SET_VELOCITY_LIMIT ACCEL={s} ACCEL_TO_DECEL={ s * f }
	{% else %}
	{% if 'P' in params %}
	{% set p = params.P|float %}
	{% if 'T' in params %}
	{% set t = params.T|float %}
	{% if p < t %}
	SET_VELOCITY_LIMIT ACCEL={p} ACCEL_TO_DECEL={ p * f }
	{% else %}
	SET_VELOCITY_LIMIT ACCEL={t} ACCEL_TO_DECEL={ t * f }
	{% endif %}
	{% else %}
	SET_VELOCITY_LIMIT ACCEL={p} ACCEL_TO_DECEL={ p * f }
	{% endif %}
	{% elif 'T' in params %}
	{% set t = params.T|float %}
	SET_VELOCITY_LIMIT ACCEL={t} ACCEL_TO_DECEL={ t * f }
	{% endif %}
	{% endif %}

[gcode_macro _START_DRYER]
gcode = 
	{% set t = params.T|default(60)|int %}
	{% set c = params.C|default(25)|int %}
	{% set h = params.H|default(14400)|int %}
	M140 S{t}
	
	SET_GCODE_VARIABLE MACRO=_DRYER_STATUS VARIABLE=time_remaining VALUE={h}
	SET_GCODE_VARIABLE MACRO=_DRYER_STATUS VARIABLE=bed_temperature VALUE={t}
	
	UPDATE_DELAYED_GCODE ID=_DRYER_TIMER DURATION=1
	SET_IDLE_TIMEOUT

[gcode_macro STOP_DRYER]
gcode = 
	M140 S0
	
	SET_GCODE_VARIABLE MACRO=_DRYER_STATUS VARIABLE=time_remaining VALUE=0
	UPDATE_DELAYED_GCODE ID=_DRYER_TIMER DURATION=0
	M117 Drying Stopped

[gcode_macro _DRYER_STATUS]
variable_time_remaining = 0
variable_bed_temperature = 0
variable_chamber_temperature = 0
gcode = _
	{% if time_remaining > 0 %}
	M140 S{bed_temperature}
	
	SET_GCODE_VARIABLE MACRO=_DRYER_STATUS VARIABLE=time_remaining VALUE={time_remaining - 1}
	M117 Drying {time_remaining}
	M118 Drying Time Remaining: {time_remaining}
	{% else %}
	STOP_DRYER
	{% endif %}

[delayed_gcode _DRYER_TIMER]
gcode = 
	UPDATE_DELAYED_GCODE ID=_DRYER_TIMER DURATION=1
	_DRYER_STATUS

[gcode_macro DRY_PLA]
gcode = 
	_START_DRYER t=50 c=25 h=14400

[gcode_macro DRY_PETG]
gcode = 
	_START_DRYER t=55 c=30 h=18000

[gcode_macro DRY_ABS]
gcode = 
	_START_DRYER t=65 c=40 h=14400

[printer]
kinematics = corexy
max_velocity = 800
max_accel = 5000
max_z_velocity = 15
max_z_accel = 50

[output_pin _BEEPER_pin]
pin = PE9
pwm = True
value = 0
shutdown_value = 0
cycle_time = 0.001
scale = 1

[idle_timeout]
timeout = 172800

[thermistor Trianglelab-NTC100K-B3950]
temperature1 = 25
resistance1 = 103180
temperature2 = 150
resistance2 = 1366.2
temperature3 = 250
resistance3 = 168.6

[temperature_sensor Bed_Top]
sensor_type = ATC Semitec 104NT-4-R025H42G
sensor_pin = PC1
min_temp = -50
max_temp = 300

[heater_fan hotend_fan]
pin = EBBCan:PA0
max_power = 1.0
kick_start_time = 0.5
heater = extruder
heater_temp = 50.0

[fan]
pin = EBBCan:PA1
max_power = 1.0
kick_start_time = 0.5
off_below = 0.10

[controller_fan _MOSFET]
pin = PA0
max_power = 0.8
kick_start_time = 0.5
idle_speed = 0.0
fan_speed = 1.0
idle_timeout = 30
off_below = 0.10
heater = heater_bed

[controller_fan _Monster8]
pin = PA1
max_power = 0.8
kick_start_time = 0.5
idle_speed = 0.0
fan_speed = 1.0
idle_timeout = 600
off_below = 0.10
stepper = stepper_x,stepper_y,stepper_z,stepper_z1,stepper_z2

[temperature_sensor Raspberry_Pi]
sensor_type = temperature_host
max_temp = 75
min_temp = 20

[temperature_sensor mcu_Monster]
sensor_type = temperature_mcu
min_temp = 0
max_temp = 100

[temperature_sensor mcu_ebb36]
sensor_type = temperature_mcu
sensor_mcu = EBBCan
min_temp = 0
max_temp = 100

[stepper_x]
step_pin = PITB:gpio6
dir_pin = PITB:gpio5
enable_pin = !PITB:gpio20
microsteps = 16
full_steps_per_rotation = 400
rotation_distance = 40
endstop_pin = tmc5160_stepper_x:virtual_endstop
position_endstop = -9
position_min = -9
position_max = 409
homing_speed = 40
homing_retract_dist = 20
second_homing_speed = 10.0

[tmc5160 stepper_x]
cs_pin = PITB:gpio1
spi_software_sclk_pin = PITB:gpio2
spi_software_mosi_pin = PITB:gpio3
spi_software_miso_pin = PITB:gpio4
diag1_pin = PITB:gpio7
driver_sgt = -64
interpolate = True
run_current = 1.1

[stepper_y]
step_pin = PITB:gpio13
dir_pin = PITB:gpio23
enable_pin = !PITB:gpio22
microsteps = 16
full_steps_per_rotation = 400
rotation_distance = 40
endstop_pin = tmc5160_stepper_y:virtual_endstop
position_endstop = 410
position_min = -15
position_max = 410
homing_speed = 40
homing_retract_dist = 20
second_homing_speed = 10.0

[tmc5160 stepper_y]
cs_pin = PITB:gpio21
spi_software_sclk_pin = PITB:gpio2
spi_software_mosi_pin = PITB:gpio3
spi_software_miso_pin = PITB:gpio4
diag1_pin = PITB:gpio14
driver_sgt = -64
interpolate = True
run_current = 1.1

[stepper_z]
step_pin = PB5
dir_pin = PB4
enable_pin = !PB6
position_max = 400
position_min = -2
homing_speed = 5
second_homing_speed = 3
homing_retract_dist = 5
homing_retract_speed = 2
endstop_pin = probe:z_virtual_endstop
microsteps = 128
rotation_distance = 4

[tmc2209 stepper_z]
uart_pin = PB3
run_current = 0.800
hold_current = 0.500
interpolate = false

[stepper_z1]
step_pin = PD6
dir_pin = PD5
enable_pin = !PD7
microsteps = 128
rotation_distance = 4

[tmc2209 stepper_z1]
uart_pin = PD4
run_current = 0.800
hold_current = 0.500
interpolate = false

[stepper_z2]
step_pin = PD2
dir_pin = PD1
enable_pin = !PD3
microsteps = 128
rotation_distance = 4

[tmc2209 stepper_z2]
uart_pin = PD0
run_current = 0.800
hold_current = 0.500
interpolate = false

[z_tilt]
horizontal_move_z = 30
speed = 120
z_positions = -51,0
	136,440
	434,0
points = 40,20
	171,390
	409,20
retry_tolerance = 0.05
retries = 20

[screws_tilt_adjust]
screw1 = 30,30
screw1_name = Front Left
screw2 = 30,200
screw2_name = Mid Left
screw3 = 30,370
screw3_name = Back Left
screw4 = 370,30
screw4_name = Front Right
screw5 = 370,200
screw5_name = Mid Right
screw6 = 370,370
screw6_name = Back Right

[bed_screws]
screw1 = 30,30
screw2 = 30,200
screw3 = 30,370
screw4 = 370,30
screw5 = 370,200
screw6 = 370,370

[heater_bed]
heater_pin = PB10
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PC0
max_power = 1.0
min_temp = 0
max_temp = 130
control = pid
pid_kp = 73.560
pid_ki = 0.863
pid_kd = 1566.832

[neopixel Main_LED]
pin = PC5
chain_count = 24
color_order = GRB
initial_red = 0.0
initial_green = 0.0
initial_blue = 0.0

[BDsensor]
scl_pin = EBBCan:PB9
sda_pin = EBBCan:PB8
delay = 20
z_offset = 0
x_offset = -34
y_offset = 0
position_endstop = 0.8
collision_homing = 0
collision_calibrate = 0
z_adjust = 0.0

[bed_mesh]
speed = 500
mesh_min = 50,50
mesh_max = 350,350
probe_count = 20, 20
mesh_pps = 2, 2
algorithm = bicubic
horizontal_move_z = 1
zero_reference_position = 200, 200

[adxl345]
cs_pin = EBBCan:PB12
spi_software_sclk_pin = EBBCan:PB10
spi_software_mosi_pin = EBBCan:PB11
spi_software_miso_pin = EBBCan:PB2
axes_map = x,y,z

[resonance_tester]
accel_chip = adxl345
probe_points = 
	200, 200, 20

[extruder]
step_pin = EBBCan:PD0
dir_pin = !EBBCan:PD1
enable_pin = !EBBCan:PD2
microsteps = 64
rotation_distance = 5.693950178
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = EBBCan: PB13
sensor_pin = EBBCan: PA3
sensor_type = ATC Semitec 104NT-4-R025H42G
min_temp = 0
max_temp = 300
control = pid
pid_kp = 44.021
pid_ki = 8.152
pid_kd = 59.428

[tmc2209 extruder]
uart_pin = EBBCan:PA15
interpolate = False
run_current = 0.800
stealthchop_threshold = 0

[filament_motion_sensor filament_sensor]
detection_length = 10.0
extruder = extruder
switch_pin = ^PA13
pause_on_runout = True
event_delay = 3.0
pause_delay = 0.5
runout_gcode = 
	M117 Runout Detected!

[gcode_macro M900]
gcode = 
	{% if 'K' in params %}
	{% if 'E' in params %}
	SET_PRESSURE_ADVANCE EXTRUDER={params.E} ADVANCE={params.K}
	{% else %}
	SET_PRESSURE_ADVANCE ADVANCE={params.K}
	{% endif %}
	{% endif %}

[gcode_macro Level_Bed]
gcode = 
	Z_TILT_ADJUST
	BED_MESH_CALIBRATE

[gcode_macro PARK]
gcode = 
	{% set th = printer.toolhead %}
	G0 Z40 F20000
	G0 X{th.axis_maximum.x//2} Y{th.axis_maximum.y//2} Z40 F30000

[gcode_macro G32]
gcode = 
	SAVE_GCODE_STATE NAME=STATE_G32
	G90
	G28
	Z_TILT_ADJUST
	G28
	PARK
	RESTORE_GCODE_STATE NAME=STATE_G32

[gcode_macro M0]
gcode = 
	PAUSE

[gcode_macro G29]
gcode = 
	{% if printer.idle_timeout.state == "Printing" %}
	{action_respond_info("This command cannot be used while printing")}
	{% elif printer.toolhead.homed_axes != "xyz" %}
	{action_respond_info("Please home XYZ first")}
	{% else %}
	SAVE_GCODE_STATE NAME=STATE_G29
	G90
	G28
	Z_TILT_ADJUST
	G28
	PARK
	BED_MESH_CALIBRATE
	BED_MESH_PROFILE SAVE=p1
	BED_MESH_PROFILE LOAD="p1"
	RESTORE_GCODE_STATE NAME=STATE_G29
	{% endif %}

[force_move]
enable_force_move = True

[firmware_retraction]
retract_length = 0.5
retract_speed = 40
unretract_extra_length = 0.1
unretract_speed = 30

[verify_heater heater_bed]
max_error = 120
hysteresis = 5
heating_gain = 2

[verify_heater extruder]
max_error = 120
check_gain_time = 90
hysteresis = 5
heating_gain = 2

[gcode_macro M486]
gcode = 
	
	
	
	
	
	
	
	
	
	
	
	{% if 'exclude_object' not in printer %}
	{action_raise_error("[exclude_object] is not enabled")}
	{% endif %}
	
	{% if 'T' in params %}
	EXCLUDE_OBJECT RESET=1
	
	{% for i in range(params.T | int) %}
	EXCLUDE_OBJECT_DEFINE NAME={i}
	{% endfor %}
	{% endif %}
	
	{% if 'C' in params %}
	EXCLUDE_OBJECT CURRENT=1
	{% endif %}
	
	{% if 'P' in params %}
	EXCLUDE_OBJECT NAME={params.P}
	{% endif %}
	
	{% if 'S' in params %}
	{% if params.S == '-1' %}
	{% if printer.exclude_object.current_object %}
	EXCLUDE_OBJECT_END NAME={printer.exclude_object.current_object}
	{% endif %}
	{% else %}
	EXCLUDE_OBJECT_START NAME={params.S}
	{% endif %}
	{% endif %}
	
	{% if 'U' in params %}
	EXCLUDE_OBJECT RESET=1 NAME={params.U}
	{% endif %}

[gcode_arcs]
resolution = 1.0

[gcode_macro G12]
gcode = 
	{% set CLEANTYPE = params.P|default(2) %}
	{% set RADI = params.R|default(2) %}
	{% set repetitions = params.S|default(2) %}
	{% set triangles = params.T|default(2) %}
	{% set th = printer.toolhead %}
	
	{% if printer.idle_timeout.state == "Printing" %}
	{action_respond_info("This command cannot be used while printing")}
	{% elif printer.toolhead.homed_axes != "xyz" %}
	{action_respond_info("Please home XYZ first")}
	{% else %}
	{action_respond_info("Cleaning Printhead")}
	SAVE_GCODE_STATE NAME=STATE_G12
	G90
	{% if params.P == '0' %}
	{action_respond_info("Cleaning Printhead back and forward")}
	G0 X405 Y400 Z1 F3600
	{% if repetitions == '1' %}
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	{% elif repetitions == '2' %}
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	{% elif repetitions == '3' %}
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	{% elif repetitions == '4' %}
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	{% elif repetitions == '5' %}
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	{% endif %}
	{% elif CLEANTYPE == '1' %}
	G0 X405 Y400 Z1 F3600
	
	
	{% elif CLEANTYPE == '2' %}
	G0 X405 Y400 Z1 F3600
	G3 X405 Y390 R{RADI} P{repetitions}
	G2 X405 Y390 R{RADI} P{repetitions}
	{% endif %}
	G0 X{th.axis_maximum.x//2} Y{th.axis_maximum.y//2} Z30 F3600
	RESTORE_GCODE_STATE NAME=STATE_G12
	{action_respond_info("Cleaning Done")}
	{% endif %}

[exclude_object]

[input_shaper]

[bed_mesh default]
version = 1
points = 
	1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 0.990000, 0.985000, 0.985000, 0.990000, 0.995000, 0.990000, 0.975000, 0.970000, 0.985000, 0.985000, 0.975000, 0.970000
	1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 0.995000, 0.980000, 0.970000, 0.965000, 0.960000, 0.960000, 0.935000, 0.905000, 0.910000, 0.920000, 0.920000, 0.915000, 0.920000, 0.920000, 0.905000
	1.000000, 1.000000, 1.000000, 1.000000, 0.990000, 0.970000, 0.960000, 0.950000, 0.940000, 0.930000, 0.895000, 0.860000, 0.860000, 0.840000, 0.825000, 0.805000, 0.800000, 0.800000, 0.800000, 0.800000
	1.000000, 1.000000, 1.000000, 1.000000, 0.985000, 0.960000, 0.945000, 0.910000, 0.890000, 0.870000, 0.865000, 0.745000, 0.695000, 0.680000, 0.685000, 0.640000, 0.635000, 0.625000, 0.625000, 0.625000
	1.000000, 1.000000, 1.000000, 0.995000, 0.925000, 0.900000, 0.865000, 0.830000, 0.740000, 0.690000, 0.675000, 0.645000, 0.640000, 0.525000, 0.515000, 0.480000, 0.480000, 0.475000, 0.465000, 0.465000
	1.000000, 1.000000, 1.000000, 0.920000, 0.860000, 0.830000, 0.800000, 0.755000, 0.635000, 0.560000, 0.505000, 0.450000, 0.425000, 0.395000, 0.365000, 0.340000, 0.315000, 0.315000, 0.315000, 0.305000
	1.000000, 1.000000, 0.975000, 0.885000, 0.810000, 0.760000, 0.725000, 0.620000, 0.510000, 0.435000, 0.375000, 0.305000, 0.280000, 0.250000, 0.215000, 0.180000, 0.175000, 0.170000, 0.160000, 0.165000
	0.985000, 0.970000, 0.840000, 0.825000, 0.750000, 0.670000, 0.550000, 0.440000, 0.355000, 0.280000, 0.215000, 0.180000, 0.125000, 0.100000, 0.080000, 0.040000, 0.015000, 0.015000, 0.005000, 0.010000
	0.880000, 0.845000, 0.780000, 0.690000, 0.625000, 0.580000, 0.475000, 0.355000, 0.250000, 0.160000, 0.095000, 0.030000, -0.000000, -0.040000, -0.060000, -0.090000, -0.110000, -0.110000, -0.110000, -0.115000
	0.760000, 0.725000, 0.670000, 0.585000, 0.525000, 0.460000, 0.360000, 0.240000, 0.125000, 0.040000, -0.050000, -0.100000, -0.140000, -0.155000, -0.190000, -0.220000, -0.230000, -0.235000, -0.220000, -0.225000
	0.635000, 0.600000, 0.525000, 0.460000, 0.380000, 0.320000, 0.235000, 0.205000, 0.155000, -0.080000, -0.150000, -0.220000, -0.275000, -0.280000, -0.325000, -0.335000, -0.360000, -0.350000, -0.365000, -0.350000
	0.505000, 0.465000, 0.410000, 0.330000, 0.260000, 0.180000, 0.090000, -0.040000, -0.145000, -0.215000, -0.300000, -0.350000, -0.395000, -0.435000, -0.440000, -0.475000, -0.490000, -0.485000, -0.490000, -0.485000
	0.385000, 0.350000, 0.270000, 0.195000, 0.125000, 0.080000, -0.020000, -0.150000, -0.265000, -0.345000, -0.400000, -0.480000, -0.520000, -0.535000, -0.565000, -0.590000, -0.600000, -0.600000, -0.590000, -0.600000
	0.265000, 0.225000, 0.170000, 0.080000, 0.025000, -0.020000, -0.130000, -0.240000, -0.350000, -0.460000, -0.525000, -0.580000, -0.615000, -0.645000, -0.685000, -0.695000, -0.710000, -0.710000, -0.715000, -0.710000
	0.170000, 0.120000, 0.045000, -0.020000, -0.075000, -0.135000, -0.225000, -0.350000, -0.475000, -0.550000, -0.605000, -0.665000, -0.715000, -0.715000, -0.765000, -0.790000, -0.800000, -0.795000, -0.785000, -0.800000
	0.070000, 0.045000, -0.020000, -0.105000, -0.175000, -0.250000, -0.370000, -0.480000, -0.580000, -0.655000, -0.730000, -0.785000, -0.825000, -0.845000, -0.875000, -0.895000, -0.900000, -0.885000, -0.890000, -0.880000
	0.000000, -0.045000, -0.110000, -0.210000, -0.270000, -0.320000, -0.410000, -0.565000, -0.670000, -0.755000, -0.825000, -0.880000, -0.910000, -0.910000, -0.960000, -0.995000, -0.995000, -0.990000, -0.990000, -0.985000
	-0.020000, -0.080000, -0.155000, -0.250000, -0.310000, -0.365000, -0.465000, -0.630000, -0.750000, -0.840000, -0.895000, -0.950000, -0.990000, -1.010000, -1.030000, -1.040000, -1.055000, -1.060000, -1.035000, -1.050000
	-0.040000, -0.075000, -0.210000, -0.310000, -0.365000, -0.420000, -0.550000, -0.705000, -0.825000, -0.925000, -1.005000, -1.055000, -1.075000, -1.100000, -1.115000, -1.155000, -1.155000, -1.130000, -1.145000, -1.140000
	-0.005000, -0.050000, -0.150000, -0.255000, -0.350000, -0.415000, -0.545000, -0.710000, -0.855000, -0.950000, -1.065000, -1.100000, -1.145000, -1.165000, -1.185000, -1.205000, -1.210000, -1.205000, -1.195000, -1.185000
x_count = 20
y_count = 20
mesh_x_pps = 2
mesh_y_pps = 2
algo = bicubic
tension = 0.2
min_x = 50.0
max_x = 349.82
min_y = 50.0
max_y = 349.82
=======================
Loaded MCU 'mcu' 127 commands (v0.12.0-267-g12cd1d9e / gcc: (15:12.2.rel1-1) 12.2.1 20221205 binutils: (2.40-2+18+b1) 2.40)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c1=PB6,PB7 BUS_PINS_i2c1a=PB8,PB9 BUS_PINS_i2c2=PB10,PB11 BUS_PINS_i2c2a=PH4,PH5 BUS_PINS_i2c3=PA8,PC9 BUS_PINS_i2c3a=PH7,PH8 BUS_PINS_sdio=PC12,PD2,PC8,PC9,PC10,PC11 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2a=PC2,PC3,PB10 BUS_PINS_spi2b=PI2,PI3,PI1 BUS_PINS_spi3=PB4,PB5,PB3 BUS_PINS_spi3a=PC11,PC12,PC10 CANBUS_BRIDGE=1 CLOCK_FREQ=168000000 MCU=stm32f407xx PWM_MAX=255 RECEIVE_WINDOW=192 RESERVE_PINS_CAN=PB8,PB9 RESERVE_PINS_USB=PA11,PA12 RESERVE_PINS_crystal=PH0,PH1 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
Configured MCU 'mcu' (1024 moves)
Args: ['/home/pi/klipper/klippy/klippy.py', '/home/pi/printer_data/config/printer.cfg', '-I', '/home/pi/printer_data/comms/klippy.serial', '-l', '/home/pi/printer_data/logs/klippy.log', '-a', '/home/pi/printer_data/comms/klippy.sock']
Git version: 'v0.12.0-267-g12cd1d9e-dirty'
Untracked files: klippy/extras/BDsensor.py
Modified files: src/Makefile
Branch: master
Remote: origin
Tracked URL: https://github.com/Klipper3d/klipper
CPU: 4 core ?
Python: '3.11.2 (main, May  2 2024, 11:59:08) [GCC 12.2.0]'
webhooks client 547782906512: {'program': 'Moonraker', 'version': 'v0.8.0-387-gb8ba6c0'}
=============== Log rollover at Tue Jul 30 13:54:32 2024 ===============
Stats 40.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3433 bytes_read=9638 bytes_retransmit=0 bytes_invalid=0 send_seq=269 receive_seq=269 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999368 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1520 bytes_read=6933 bytes_retransmit=0 bytes_invalid=0 send_seq=158 receive_seq=158 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999198 adj=63999491 PITB: mcu_awake=0.013 mcu_task_avg=0.000061 mcu_task_stddev=0.000206 bytes_write=2039 bytes_read=6697 bytes_retransmit=0 bytes_invalid=0 send_seq=209 receive_seq=209 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000231 adj=12000253 mcu_pitb: temp=32.5 enclosure_temp: temp=24.9  Bed_Top: temp=25.5 Raspberry_Pi: temp=31.6 mcu_Monster: temp=22.6 mcu_ebb36: temp=28.3 heater_bed: target=0 temp=25.9 pwm=0.000 sysload=1.01 cputime=4.338 memavail=1532436 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 41.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3439 bytes_read=9786 bytes_retransmit=0 bytes_invalid=0 send_seq=270 receive_seq=270 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999354 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1526 bytes_read=7036 bytes_retransmit=0 bytes_invalid=0 send_seq=159 receive_seq=159 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999219 adj=63999464 PITB: mcu_awake=0.013 mcu_task_avg=0.000061 mcu_task_stddev=0.000206 bytes_write=2070 bytes_read=6788 bytes_retransmit=0 bytes_invalid=0 send_seq=212 receive_seq=212 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000228 adj=12000249 mcu_pitb: temp=32.4 enclosure_temp: temp=24.9  Bed_Top: temp=25.5 Raspberry_Pi: temp=32.1 mcu_Monster: temp=22.3 mcu_ebb36: temp=28.4 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=1.01 cputime=4.349 memavail=1532248 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 42.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3445 bytes_read=9949 bytes_retransmit=0 bytes_invalid=0 send_seq=271 receive_seq=271 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999348 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1532 bytes_read=7182 bytes_retransmit=0 bytes_invalid=0 send_seq=160 receive_seq=160 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999218 adj=63999572 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000194 bytes_write=2126 bytes_read=6941 bytes_retransmit=0 bytes_invalid=0 send_seq=217 receive_seq=217 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000228 adj=12000242 mcu_pitb: temp=32.6 enclosure_temp: temp=24.9  Bed_Top: temp=25.5 Raspberry_Pi: temp=31.6 mcu_Monster: temp=22.5 mcu_ebb36: temp=28.4 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=1.01 cputime=4.361 memavail=1532248 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 43.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3451 bytes_read=10141 bytes_retransmit=0 bytes_invalid=0 send_seq=272 receive_seq=272 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999346 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1538 bytes_read=7285 bytes_retransmit=0 bytes_invalid=0 send_seq=161 receive_seq=161 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999214 adj=63999548 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000194 bytes_write=2157 bytes_read=7032 bytes_retransmit=0 bytes_invalid=0 send_seq=220 receive_seq=220 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000228 adj=12000249 mcu_pitb: temp=32.5 enclosure_temp: temp=24.9  Bed_Top: temp=25.5 Raspberry_Pi: temp=31.6 mcu_Monster: temp=22.5 mcu_ebb36: temp=28.1 heater_bed: target=0 temp=25.9 pwm=0.000 sysload=1.01 cputime=4.371 memavail=1533808 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 44.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3457 bytes_read=10289 bytes_retransmit=0 bytes_invalid=0 send_seq=273 receive_seq=273 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999344 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1544 bytes_read=7388 bytes_retransmit=0 bytes_invalid=0 send_seq=162 receive_seq=162 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999232 adj=63999510 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000194 bytes_write=2188 bytes_read=7123 bytes_retransmit=0 bytes_invalid=0 send_seq=223 receive_seq=223 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000227 adj=12000257 mcu_pitb: temp=32.6 enclosure_temp: temp=24.9  Bed_Top: temp=25.5 Raspberry_Pi: temp=31.6 mcu_Monster: temp=22.3 mcu_ebb36: temp=28.4 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=1.01 cputime=4.381 memavail=1533556 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 45.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3463 bytes_read=10437 bytes_retransmit=0 bytes_invalid=0 send_seq=274 receive_seq=274 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999347 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1550 bytes_read=7520 bytes_retransmit=0 bytes_invalid=0 send_seq=163 receive_seq=163 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999246 adj=63999613 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000194 bytes_write=2224 bytes_read=7233 bytes_retransmit=0 bytes_invalid=0 send_seq=227 receive_seq=227 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000228 adj=12000259 mcu_pitb: temp=32.7 enclosure_temp: temp=24.9  Bed_Top: temp=25.5 Raspberry_Pi: temp=32.1 mcu_Monster: temp=22.5 mcu_ebb36: temp=28.5 heater_bed: target=0 temp=25.9 pwm=0.000 sysload=0.93 cputime=4.397 memavail=1533556 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 46.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3469 bytes_read=10629 bytes_retransmit=0 bytes_invalid=0 send_seq=275 receive_seq=275 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999351 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1556 bytes_read=7623 bytes_retransmit=0 bytes_invalid=0 send_seq=164 receive_seq=164 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999251 adj=63999660 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000194 bytes_write=2280 bytes_read=7357 bytes_retransmit=0 bytes_invalid=0 send_seq=232 receive_seq=232 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000229 adj=12000267 mcu_pitb: temp=32.7 enclosure_temp: temp=24.9  Bed_Top: temp=25.6 Raspberry_Pi: temp=31.6 mcu_Monster: temp=22.4 mcu_ebb36: temp=28.5 heater_bed: target=0 temp=25.9 pwm=0.000 sysload=0.93 cputime=4.419 memavail=1533560 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 47.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3475 bytes_read=10792 bytes_retransmit=0 bytes_invalid=0 send_seq=276 receive_seq=276 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999364 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1562 bytes_read=7740 bytes_retransmit=0 bytes_invalid=0 send_seq=165 receive_seq=165 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999254 adj=63999640 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000196 bytes_write=2311 bytes_read=7463 bytes_retransmit=0 bytes_invalid=0 send_seq=235 receive_seq=235 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000231 adj=12000273 mcu_pitb: temp=32.7 enclosure_temp: temp=24.9  Bed_Top: temp=25.5 Raspberry_Pi: temp=31.2 mcu_Monster: temp=22.5 mcu_ebb36: temp=28.4 heater_bed: target=0 temp=25.9 pwm=0.000 sysload=0.93 cputime=4.438 memavail=1533560 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 48.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3481 bytes_read=10940 bytes_retransmit=0 bytes_invalid=0 send_seq=277 receive_seq=277 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999397 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1568 bytes_read=7872 bytes_retransmit=0 bytes_invalid=0 send_seq=166 receive_seq=166 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999261 adj=63999588 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000196 bytes_write=2342 bytes_read=7568 bytes_retransmit=0 bytes_invalid=0 send_seq=238 receive_seq=238 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000234 adj=12000277 mcu_pitb: temp=32.7 enclosure_temp: temp=24.9  Bed_Top: temp=25.6 Raspberry_Pi: temp=30.2 mcu_Monster: temp=22.4 mcu_ebb36: temp=28.4 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.93 cputime=4.458 memavail=1533560 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 49.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3487 bytes_read=11132 bytes_retransmit=0 bytes_invalid=0 send_seq=278 receive_seq=278 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999450 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1574 bytes_read=7975 bytes_retransmit=0 bytes_invalid=0 send_seq=167 receive_seq=167 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999275 adj=63999526 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000196 bytes_write=2373 bytes_read=7659 bytes_retransmit=0 bytes_invalid=0 send_seq=241 receive_seq=241 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000233 adj=12000284 mcu_pitb: temp=32.7 enclosure_temp: temp=24.9  Bed_Top: temp=25.4 Raspberry_Pi: temp=32.1 mcu_Monster: temp=22.4 mcu_ebb36: temp=28.5 heater_bed: target=0 temp=25.9 pwm=0.000 sysload=0.93 cputime=4.475 memavail=1533068 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 50.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3493 bytes_read=11280 bytes_retransmit=0 bytes_invalid=0 send_seq=279 receive_seq=279 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999465 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1580 bytes_read=8078 bytes_retransmit=0 bytes_invalid=0 send_seq=168 receive_seq=168 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999307 adj=63999477 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000196 bytes_write=2419 bytes_read=7750 bytes_retransmit=0 bytes_invalid=0 send_seq=245 receive_seq=244 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000235 adj=12000245 mcu_pitb: temp=32.9 enclosure_temp: temp=24.9  Bed_Top: temp=25.5 Raspberry_Pi: temp=31.2 mcu_Monster: temp=22.5 mcu_ebb36: temp=28.4 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.85 cputime=4.495 memavail=1532876 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 51.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3499 bytes_read=11428 bytes_retransmit=0 bytes_invalid=0 send_seq=280 receive_seq=280 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999470 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1586 bytes_read=8210 bytes_retransmit=0 bytes_invalid=0 send_seq=169 receive_seq=169 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999316 adj=63999664 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000196 bytes_write=2460 bytes_read=7888 bytes_retransmit=0 bytes_invalid=0 send_seq=249 receive_seq=249 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000236 adj=12000263 mcu_pitb: temp=32.9 enclosure_temp: temp=24.9  Bed_Top: temp=25.5 Raspberry_Pi: temp=31.6 mcu_Monster: temp=22.5 mcu_ebb36: temp=28.6 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.85 cputime=4.515 memavail=1532876 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 52.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3505 bytes_read=11634 bytes_retransmit=0 bytes_invalid=0 send_seq=281 receive_seq=281 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999486 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1592 bytes_read=8327 bytes_retransmit=0 bytes_invalid=0 send_seq=170 receive_seq=170 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999311 adj=63999674 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000200 bytes_write=2491 bytes_read=7994 bytes_retransmit=0 bytes_invalid=0 send_seq=252 receive_seq=252 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000236 adj=12000266 mcu_pitb: temp=33.0 enclosure_temp: temp=24.9  Bed_Top: temp=25.5 Raspberry_Pi: temp=32.1 mcu_Monster: temp=22.6 mcu_ebb36: temp=28.5 heater_bed: target=0 temp=25.9 pwm=0.000 sysload=0.85 cputime=4.534 memavail=1533576 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 53.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3511 bytes_read=11782 bytes_retransmit=0 bytes_invalid=0 send_seq=282 receive_seq=282 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999524 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1598 bytes_read=8423 bytes_retransmit=0 bytes_invalid=0 send_seq=171 receive_seq=171 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999308 adj=63999555 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000200 bytes_write=2522 bytes_read=8085 bytes_retransmit=0 bytes_invalid=0 send_seq=255 receive_seq=255 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000237 adj=12000263 mcu_pitb: temp=33.2 enclosure_temp: temp=24.9  Bed_Top: temp=25.6 Raspberry_Pi: temp=31.2 mcu_Monster: temp=22.5 mcu_ebb36: temp=28.6 heater_bed: target=0 temp=25.9 pwm=0.000 sysload=0.85 cputime=4.552 memavail=1533632 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 54.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3517 bytes_read=11930 bytes_retransmit=0 bytes_invalid=0 send_seq=283 receive_seq=283 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999560 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1604 bytes_read=8546 bytes_retransmit=0 bytes_invalid=0 send_seq=172 receive_seq=172 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999301 adj=63999404 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000200 bytes_write=2553 bytes_read=8190 bytes_retransmit=0 bytes_invalid=0 send_seq=258 receive_seq=258 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000238 adj=12000253 mcu_pitb: temp=33.2 enclosure_temp: temp=24.9  Bed_Top: temp=25.5 Raspberry_Pi: temp=32.6 mcu_Monster: temp=22.6 mcu_ebb36: temp=28.6 heater_bed: target=0 temp=25.9 pwm=0.000 sysload=0.85 cputime=4.567 memavail=1532876 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 55.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3523 bytes_read=12122 bytes_retransmit=0 bytes_invalid=0 send_seq=284 receive_seq=284 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999547 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1610 bytes_read=8642 bytes_retransmit=0 bytes_invalid=0 send_seq=173 receive_seq=173 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999299 adj=63999262 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000200 bytes_write=2619 bytes_read=8324 bytes_retransmit=0 bytes_invalid=0 send_seq=265 receive_seq=265 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000237 adj=12000244 mcu_pitb: temp=33.2 enclosure_temp: temp=24.9  Bed_Top: temp=25.5 Raspberry_Pi: temp=31.6 mcu_Monster: temp=22.6 mcu_ebb36: temp=28.4 heater_bed: target=0 temp=25.9 pwm=0.000 sysload=0.86 cputime=4.579 memavail=1532876 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 56.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3529 bytes_read=12270 bytes_retransmit=0 bytes_invalid=0 send_seq=285 receive_seq=285 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999572 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1616 bytes_read=8738 bytes_retransmit=0 bytes_invalid=0 send_seq=174 receive_seq=174 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999301 adj=63999344 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000200 bytes_write=2655 bytes_read=8420 bytes_retransmit=0 bytes_invalid=0 send_seq=269 receive_seq=269 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000237 adj=12000253 mcu_pitb: temp=33.3 enclosure_temp: temp=24.9  Bed_Top: temp=25.5 Raspberry_Pi: temp=32.1 mcu_Monster: temp=22.6 mcu_ebb36: temp=28.6 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.86 cputime=4.588 memavail=1532624 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 57.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3535 bytes_read=12433 bytes_retransmit=0 bytes_invalid=0 send_seq=286 receive_seq=286 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999555 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1622 bytes_read=8882 bytes_retransmit=0 bytes_invalid=0 send_seq=175 receive_seq=175 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999295 adj=63999314 PITB: mcu_awake=0.013 mcu_task_avg=0.000061 mcu_task_stddev=0.000199 bytes_write=2691 bytes_read=8545 bytes_retransmit=0 bytes_invalid=0 send_seq=273 receive_seq=273 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000237 adj=12000240 mcu_pitb: temp=33.4 enclosure_temp: temp=24.9  Bed_Top: temp=25.5 Raspberry_Pi: temp=31.6 mcu_Monster: temp=22.6 mcu_ebb36: temp=28.6 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.86 cputime=4.599 memavail=1532624 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 58.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3541 bytes_read=12625 bytes_retransmit=0 bytes_invalid=0 send_seq=287 receive_seq=287 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999540 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1628 bytes_read=8985 bytes_retransmit=0 bytes_invalid=0 send_seq=176 receive_seq=176 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999291 adj=63999362 PITB: mcu_awake=0.013 mcu_task_avg=0.000061 mcu_task_stddev=0.000199 bytes_write=2727 bytes_read=8641 bytes_retransmit=0 bytes_invalid=0 send_seq=277 receive_seq=277 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000237 adj=12000258 mcu_pitb: temp=33.5 enclosure_temp: temp=24.9  Bed_Top: temp=25.5 Raspberry_Pi: temp=32.6 mcu_Monster: temp=22.6 mcu_ebb36: temp=28.6 heater_bed: target=0 temp=25.9 pwm=0.000 sysload=0.86 cputime=4.608 memavail=1532632 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 59.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3547 bytes_read=12773 bytes_retransmit=0 bytes_invalid=0 send_seq=288 receive_seq=288 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999534 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1634 bytes_read=9088 bytes_retransmit=0 bytes_invalid=0 send_seq=177 receive_seq=177 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999298 adj=63999362 PITB: mcu_awake=0.013 mcu_task_avg=0.000061 mcu_task_stddev=0.000199 bytes_write=2788 bytes_read=8770 bytes_retransmit=0 bytes_invalid=0 send_seq=283 receive_seq=283 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000236 adj=12000259 mcu_pitb: temp=33.5 enclosure_temp: temp=24.9  Bed_Top: temp=25.6 Raspberry_Pi: temp=31.6 mcu_Monster: temp=22.5 mcu_ebb36: temp=28.6 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.86 cputime=4.624 memavail=1532632 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 60.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3559 bytes_read=12937 bytes_retransmit=0 bytes_invalid=0 send_seq=290 receive_seq=290 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999574 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1640 bytes_read=9220 bytes_retransmit=0 bytes_invalid=0 send_seq=178 receive_seq=178 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999302 adj=63999463 PITB: mcu_awake=0.013 mcu_task_avg=0.000061 mcu_task_stddev=0.000199 bytes_write=2824 bytes_read=8880 bytes_retransmit=0 bytes_invalid=0 send_seq=287 receive_seq=287 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000237 adj=12000257 mcu_pitb: temp=33.6 enclosure_temp: temp=24.9  Bed_Top: temp=25.5 Raspberry_Pi: temp=32.1 mcu_Monster: temp=22.6 mcu_ebb36: temp=28.6 heater_bed: target=0 temp=25.9 pwm=0.000 sysload=0.79 cputime=4.644 memavail=1533652 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 61.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3565 bytes_read=13129 bytes_retransmit=0 bytes_invalid=0 send_seq=291 receive_seq=291 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999575 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1646 bytes_read=9323 bytes_retransmit=0 bytes_invalid=0 send_seq=179 receive_seq=179 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999304 adj=63999373 PITB: mcu_awake=0.013 mcu_task_avg=0.000061 mcu_task_stddev=0.000199 bytes_write=2860 bytes_read=8976 bytes_retransmit=0 bytes_invalid=0 send_seq=291 receive_seq=291 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000240 adj=12000243 mcu_pitb: temp=33.5 enclosure_temp: temp=24.9  Bed_Top: temp=25.5 Raspberry_Pi: temp=32.6 mcu_Monster: temp=22.6 mcu_ebb36: temp=28.7 heater_bed: target=0 temp=25.9 pwm=0.000 sysload=0.79 cputime=4.663 memavail=1533652 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 62.5: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3571 bytes_read=13292 bytes_retransmit=0 bytes_invalid=0 send_seq=292 receive_seq=292 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999592 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1652 bytes_read=9440 bytes_retransmit=0 bytes_invalid=0 send_seq=180 receive_seq=180 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999308 adj=63999410 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000182 bytes_write=2896 bytes_read=9087 bytes_retransmit=0 bytes_invalid=0 send_seq=295 receive_seq=295 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000241 adj=12000279 mcu_pitb: temp=33.5 enclosure_temp: temp=24.9  Bed_Top: temp=25.6 Raspberry_Pi: temp=30.7 mcu_Monster: temp=22.5 mcu_ebb36: temp=28.7 heater_bed: target=0 temp=25.8 pwm=0.000 sysload=0.79 cputime=4.682 memavail=1533660 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 63.5: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3577 bytes_read=13433 bytes_retransmit=0 bytes_invalid=0 send_seq=293 receive_seq=293 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999591 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1658 bytes_read=9572 bytes_retransmit=0 bytes_invalid=0 send_seq=181 receive_seq=181 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999316 adj=63999397 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000182 bytes_write=2962 bytes_read=9235 bytes_retransmit=0 bytes_invalid=0 send_seq=302 receive_seq=302 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000241 adj=12000272 mcu_pitb: temp=33.6 enclosure_temp: temp=24.9  Bed_Top: temp=25.6 Raspberry_Pi: temp=32.1 mcu_Monster: temp=22.8 mcu_ebb36: temp=29.0 heater_bed: target=0 temp=25.9 pwm=0.000 sysload=0.79 cputime=4.703 memavail=1533660 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 64.5: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3583 bytes_read=13615 bytes_retransmit=0 bytes_invalid=0 send_seq=294 receive_seq=294 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999578 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1664 bytes_read=9675 bytes_retransmit=0 bytes_invalid=0 send_seq=182 receive_seq=182 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999314 adj=63999493 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000182 bytes_write=2998 bytes_read=9331 bytes_retransmit=0 bytes_invalid=0 send_seq=306 receive_seq=306 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000242 adj=12000277 mcu_pitb: temp=33.6 enclosure_temp: temp=24.9  Bed_Top: temp=25.6 Raspberry_Pi: temp=31.6 mcu_Monster: temp=22.6 mcu_ebb36: temp=28.6 heater_bed: target=0 temp=25.9 pwm=0.000 sysload=0.79 cputime=4.717 memavail=1533660 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 65.5: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3589 bytes_read=13763 bytes_retransmit=0 bytes_invalid=0 send_seq=295 receive_seq=295 retransmit_seq=0 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999570 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1670 bytes_read=9778 bytes_retransmit=0 bytes_invalid=0 send_seq=183 receive_seq=183 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999309 adj=63999511 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000182 bytes_write=3034 bytes_read=9427 bytes_retransmit=0 bytes_invalid=0 send_seq=310 receive_seq=310 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000241 adj=12000290 mcu_pitb: temp=33.6 enclosure_temp: temp=24.9  Bed_Top: temp=25.6 Raspberry_Pi: temp=32.1 mcu_Monster: temp=22.8 mcu_ebb36: temp=28.4 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.73 cputime=4.727 memavail=1533660 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 66.5: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3595 bytes_read=13911 bytes_retransmit=0 bytes_invalid=0 send_seq=296 receive_seq=296 retransmit_seq=0 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999565 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1676 bytes_read=9910 bytes_retransmit=0 bytes_invalid=0 send_seq=184 receive_seq=184 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999309 adj=63999490 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000182 bytes_write=3070 bytes_read=9537 bytes_retransmit=0 bytes_invalid=0 send_seq=314 receive_seq=314 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000240 adj=12000281 mcu_pitb: temp=33.7 enclosure_temp: temp=24.9  Bed_Top: temp=25.6 Raspberry_Pi: temp=32.6 mcu_Monster: temp=22.7 mcu_ebb36: temp=28.6 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.73 cputime=4.737 memavail=1533664 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 67.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3601 bytes_read=14118 bytes_retransmit=0 bytes_invalid=0 send_seq=297 receive_seq=297 retransmit_seq=0 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999559 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1682 bytes_read=10013 bytes_retransmit=0 bytes_invalid=0 send_seq=185 receive_seq=185 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999314 adj=63999499 PITB: mcu_awake=0.012 mcu_task_avg=0.000054 mcu_task_stddev=0.000181 bytes_write=3126 bytes_read=9676 bytes_retransmit=0 bytes_invalid=0 send_seq=319 receive_seq=319 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000239 adj=12000274 mcu_pitb: temp=33.6 enclosure_temp: temp=24.9  Bed_Top: temp=25.6 Raspberry_Pi: temp=33.1 mcu_Monster: temp=22.8 mcu_ebb36: temp=28.8 heater_bed: target=0 temp=25.9 pwm=0.000 sysload=0.73 cputime=4.749 memavail=1533664 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 68.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3607 bytes_read=14266 bytes_retransmit=0 bytes_invalid=0 send_seq=298 receive_seq=298 retransmit_seq=0 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999555 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1688 bytes_read=10130 bytes_retransmit=0 bytes_invalid=0 send_seq=186 receive_seq=186 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999311 adj=63999565 PITB: mcu_awake=0.012 mcu_task_avg=0.000054 mcu_task_stddev=0.000181 bytes_write=3157 bytes_read=9767 bytes_retransmit=0 bytes_invalid=0 send_seq=322 receive_seq=322 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000239 adj=12000269 mcu_pitb: temp=33.7 enclosure_temp: temp=24.9  Bed_Top: temp=25.5 Raspberry_Pi: temp=33.1 mcu_Monster: temp=22.6 mcu_ebb36: temp=28.9 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.73 cputime=4.759 memavail=1533664 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 69.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3613 bytes_read=14414 bytes_retransmit=0 bytes_invalid=0 send_seq=299 receive_seq=299 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999566 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1694 bytes_read=10262 bytes_retransmit=0 bytes_invalid=0 send_seq=187 receive_seq=187 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999310 adj=63999532 PITB: mcu_awake=0.012 mcu_task_avg=0.000054 mcu_task_stddev=0.000181 bytes_write=3188 bytes_read=9872 bytes_retransmit=0 bytes_invalid=0 send_seq=325 receive_seq=325 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000239 adj=12000268 mcu_pitb: temp=33.8 enclosure_temp: temp=24.9  Bed_Top: temp=25.6 Raspberry_Pi: temp=32.6 mcu_Monster: temp=22.7 mcu_ebb36: temp=28.7 heater_bed: target=0 temp=25.9 pwm=0.000 sysload=0.73 cputime=4.774 memavail=1531396 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 70.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3619 bytes_read=14606 bytes_retransmit=0 bytes_invalid=0 send_seq=300 receive_seq=300 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999568 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1700 bytes_read=10365 bytes_retransmit=0 bytes_invalid=0 send_seq=188 receive_seq=188 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999314 adj=63999464 PITB: mcu_awake=0.012 mcu_task_avg=0.000054 mcu_task_stddev=0.000181 bytes_write=3219 bytes_read=9963 bytes_retransmit=0 bytes_invalid=0 send_seq=328 receive_seq=328 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000241 adj=12000265 mcu_pitb: temp=33.9 enclosure_temp: temp=24.9  Bed_Top: temp=25.5 Raspberry_Pi: temp=32.1 mcu_Monster: temp=23.0 mcu_ebb36: temp=28.9 heater_bed: target=0 temp=25.9 pwm=0.000 sysload=0.75 cputime=4.794 memavail=1531412 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 71.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3625 bytes_read=14754 bytes_retransmit=0 bytes_invalid=0 send_seq=301 receive_seq=301 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999574 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1706 bytes_read=10468 bytes_retransmit=0 bytes_invalid=0 send_seq=189 receive_seq=189 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999315 adj=63999501 PITB: mcu_awake=0.012 mcu_task_avg=0.000054 mcu_task_stddev=0.000181 bytes_write=3275 bytes_read=10087 bytes_retransmit=0 bytes_invalid=0 send_seq=333 receive_seq=333 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000241 adj=12000280 mcu_pitb: temp=33.9 enclosure_temp: temp=24.9  Bed_Top: temp=25.5 Raspberry_Pi: temp=32.6 mcu_Monster: temp=22.8 mcu_ebb36: temp=28.7 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.75 cputime=4.814 memavail=1531412 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 72.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3631 bytes_read=14931 bytes_retransmit=0 bytes_invalid=0 send_seq=302 receive_seq=302 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999584 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1712 bytes_read=10600 bytes_retransmit=0 bytes_invalid=0 send_seq=190 receive_seq=190 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999315 adj=63999486 PITB: mcu_awake=0.013 mcu_task_avg=0.000061 mcu_task_stddev=0.000209 bytes_write=3306 bytes_read=10207 bytes_retransmit=0 bytes_invalid=0 send_seq=336 receive_seq=336 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000241 adj=12000280 mcu_pitb: temp=34.0 enclosure_temp: temp=24.9  Bed_Top: temp=25.5 Raspberry_Pi: temp=32.6 mcu_Monster: temp=22.7 mcu_ebb36: temp=28.8 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.75 cputime=4.833 memavail=1533112 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 73.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3637 bytes_read=15108 bytes_retransmit=0 bytes_invalid=0 send_seq=303 receive_seq=303 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999594 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1718 bytes_read=10717 bytes_retransmit=0 bytes_invalid=0 send_seq=191 receive_seq=191 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999318 adj=63999443 PITB: mcu_awake=0.013 mcu_task_avg=0.000061 mcu_task_stddev=0.000209 bytes_write=3337 bytes_read=10298 bytes_retransmit=0 bytes_invalid=0 send_seq=339 receive_seq=339 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000242 adj=12000270 mcu_pitb: temp=34.0 enclosure_temp: temp=24.9  Bed_Top: temp=25.6 Raspberry_Pi: temp=32.6 mcu_Monster: temp=22.8 mcu_ebb36: temp=28.7 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.75 cputime=4.853 memavail=1533176 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 74.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3643 bytes_read=15256 bytes_retransmit=0 bytes_invalid=0 send_seq=304 receive_seq=304 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999587 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1724 bytes_read=10820 bytes_retransmit=0 bytes_invalid=0 send_seq=192 receive_seq=192 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999322 adj=63999445 PITB: mcu_awake=0.013 mcu_task_avg=0.000061 mcu_task_stddev=0.000209 bytes_write=3374 bytes_read=10405 bytes_retransmit=0 bytes_invalid=0 send_seq=343 receive_seq=343 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000242 adj=12000270 mcu_pitb: temp=34.1 enclosure_temp: temp=24.9  Bed_Top: temp=25.6 Raspberry_Pi: temp=33.1 mcu_Monster: temp=22.8 mcu_ebb36: temp=29.0 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.75 cputime=4.870 memavail=1532924 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 75.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3649 bytes_read=15419 bytes_retransmit=0 bytes_invalid=0 send_seq=305 receive_seq=305 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999582 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1730 bytes_read=10952 bytes_retransmit=0 bytes_invalid=0 send_seq=193 receive_seq=193 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999321 adj=63999515 PITB: mcu_awake=0.013 mcu_task_avg=0.000061 mcu_task_stddev=0.000209 bytes_write=3435 bytes_read=10548 bytes_retransmit=0 bytes_invalid=0 send_seq=349 receive_seq=349 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000242 adj=12000278 mcu_pitb: temp=34.1 enclosure_temp: temp=24.9  Bed_Top: temp=25.5 Raspberry_Pi: temp=32.6 mcu_Monster: temp=22.8 mcu_ebb36: temp=28.8 heater_bed: target=0 temp=25.9 pwm=0.000 sysload=0.69 cputime=4.881 memavail=1532924 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 76.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3655 bytes_read=15596 bytes_retransmit=0 bytes_invalid=0 send_seq=306 receive_seq=306 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999581 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1736 bytes_read=11055 bytes_retransmit=0 bytes_invalid=0 send_seq=194 receive_seq=194 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999319 adj=63999515 PITB: mcu_awake=0.013 mcu_task_avg=0.000061 mcu_task_stddev=0.000209 bytes_write=3466 bytes_read=10639 bytes_retransmit=0 bytes_invalid=0 send_seq=352 receive_seq=352 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000241 adj=12000275 mcu_pitb: temp=34.1 enclosure_temp: temp=24.9  Bed_Top: temp=25.6 Raspberry_Pi: temp=32.6 mcu_Monster: temp=22.9 mcu_ebb36: temp=29.0 heater_bed: target=0 temp=25.9 pwm=0.000 sysload=0.69 cputime=4.891 memavail=1532924 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 77.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3661 bytes_read=15758 bytes_retransmit=0 bytes_invalid=0 send_seq=307 receive_seq=307 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999576 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1742 bytes_read=11158 bytes_retransmit=0 bytes_invalid=0 send_seq=195 receive_seq=195 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999321 adj=63999497 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000195 bytes_write=3497 bytes_read=10745 bytes_retransmit=0 bytes_invalid=0 send_seq=355 receive_seq=355 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000241 adj=12000267 mcu_pitb: temp=34.1 enclosure_temp: temp=24.9  Bed_Top: temp=25.5 Raspberry_Pi: temp=32.1 mcu_Monster: temp=22.8 mcu_ebb36: temp=29.0 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.69 cputime=4.901 memavail=1533124 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 78.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3667 bytes_read=15921 bytes_retransmit=0 bytes_invalid=0 send_seq=308 receive_seq=308 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999572 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1748 bytes_read=11304 bytes_retransmit=0 bytes_invalid=0 send_seq=196 receive_seq=196 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999326 adj=63999495 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000195 bytes_write=3528 bytes_read=10850 bytes_retransmit=0 bytes_invalid=0 send_seq=358 receive_seq=358 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000240 adj=12000265 mcu_pitb: temp=34.1 enclosure_temp: temp=24.9  Bed_Top: temp=25.6 Raspberry_Pi: temp=33.1 mcu_Monster: temp=22.8 mcu_ebb36: temp=28.8 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.69 cputime=4.912 memavail=1533176 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 79.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3673 bytes_read=16098 bytes_retransmit=0 bytes_invalid=0 send_seq=309 receive_seq=309 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999580 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1754 bytes_read=11407 bytes_retransmit=0 bytes_invalid=0 send_seq=197 receive_seq=197 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999324 adj=63999554 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000195 bytes_write=3584 bytes_read=10974 bytes_retransmit=0 bytes_invalid=0 send_seq=363 receive_seq=363 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000240 adj=12000262 mcu_pitb: temp=34.1 enclosure_temp: temp=24.9  Bed_Top: temp=25.5 Raspberry_Pi: temp=34.1 mcu_Monster: temp=22.7 mcu_ebb36: temp=28.8 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.69 cputime=4.927 memavail=1532684 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 80.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3679 bytes_read=16246 bytes_retransmit=0 bytes_invalid=0 send_seq=310 receive_seq=310 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999591 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1760 bytes_read=11510 bytes_retransmit=0 bytes_invalid=0 send_seq=198 receive_seq=198 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999326 adj=63999480 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000195 bytes_write=3615 bytes_read=11065 bytes_retransmit=0 bytes_invalid=0 send_seq=366 receive_seq=366 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000241 adj=12000259 mcu_pitb: temp=34.1 enclosure_temp: temp=24.9  Bed_Top: temp=25.5 Raspberry_Pi: temp=32.6 mcu_Monster: temp=23.0 mcu_ebb36: temp=29.0 heater_bed: target=0 temp=25.9 pwm=0.000 sysload=0.64 cputime=4.948 memavail=1532448 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 81.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3685 bytes_read=16409 bytes_retransmit=0 bytes_invalid=0 send_seq=311 receive_seq=311 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999598 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1766 bytes_read=11642 bytes_retransmit=0 bytes_invalid=0 send_seq=199 receive_seq=199 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999328 adj=63999468 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000195 bytes_write=3646 bytes_read=11170 bytes_retransmit=0 bytes_invalid=0 send_seq=369 receive_seq=369 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000243 adj=12000263 mcu_pitb: temp=34.1 enclosure_temp: temp=24.9  Bed_Top: temp=25.6 Raspberry_Pi: temp=32.1 mcu_Monster: temp=22.9 mcu_ebb36: temp=29.1 heater_bed: target=0 temp=25.9 pwm=0.000 sysload=0.64 cputime=4.968 memavail=1532448 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 82.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3691 bytes_read=16601 bytes_retransmit=0 bytes_invalid=0 send_seq=312 receive_seq=312 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999599 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1772 bytes_read=11745 bytes_retransmit=0 bytes_invalid=0 send_seq=200 receive_seq=200 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999330 adj=63999465 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000199 bytes_write=3677 bytes_read=11276 bytes_retransmit=0 bytes_invalid=0 send_seq=372 receive_seq=372 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000243 adj=12000282 mcu_pitb: temp=34.2 enclosure_temp: temp=24.9  Bed_Top: temp=25.4 Raspberry_Pi: temp=33.1 mcu_Monster: temp=22.9 mcu_ebb36: temp=29.0 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.64 cputime=4.986 memavail=1533148 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 83.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3697 bytes_read=16749 bytes_retransmit=0 bytes_invalid=0 send_seq=313 receive_seq=313 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999606 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000010 bytes_write=1778 bytes_read=11862 bytes_retransmit=0 bytes_invalid=0 send_seq=201 receive_seq=201 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999335 adj=63999485 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000199 bytes_write=3733 bytes_read=11400 bytes_retransmit=0 bytes_invalid=0 send_seq=377 receive_seq=377 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000243 adj=12000279 mcu_pitb: temp=34.2 enclosure_temp: temp=24.9  Bed_Top: temp=25.5 Raspberry_Pi: temp=32.1 mcu_Monster: temp=22.8 mcu_ebb36: temp=29.0 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.64 cputime=5.007 memavail=1533404 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 84.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3703 bytes_read=16912 bytes_retransmit=0 bytes_invalid=0 send_seq=314 receive_seq=314 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999605 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000010 bytes_write=1784 bytes_read=11994 bytes_retransmit=0 bytes_invalid=0 send_seq=202 receive_seq=202 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999338 adj=63999506 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000199 bytes_write=3764 bytes_read=11505 bytes_retransmit=0 bytes_invalid=0 send_seq=380 receive_seq=380 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000243 adj=12000273 mcu_pitb: temp=34.1 enclosure_temp: temp=24.9  Bed_Top: temp=25.5 Raspberry_Pi: temp=32.6 mcu_Monster: temp=23.0 mcu_ebb36: temp=29.0 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.64 cputime=5.020 memavail=1532700 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 85.5: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3709 bytes_read=17089 bytes_retransmit=0 bytes_invalid=0 send_seq=315 receive_seq=315 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999602 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000010 bytes_write=1790 bytes_read=12097 bytes_retransmit=0 bytes_invalid=0 send_seq=203 receive_seq=203 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999335 adj=63999540 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000199 bytes_write=3795 bytes_read=11596 bytes_retransmit=0 bytes_invalid=0 send_seq=383 receive_seq=383 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000242 adj=12000267 mcu_pitb: temp=34.5 enclosure_temp: temp=24.9  Bed_Top: temp=25.5 Raspberry_Pi: temp=32.6 mcu_Monster: temp=22.9 mcu_ebb36: temp=28.9 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.67 cputime=5.030 memavail=1532700 print_time=39.511 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 337.7: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=5245 bytes_read=58704 bytes_retransmit=0 bytes_invalid=0 send_seq=571 receive_seq=571 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000127 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3326 bytes_read=41153 bytes_retransmit=0 bytes_invalid=0 send_seq=459 receive_seq=459 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999514 adj=63999481 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000194 bytes_write=13801 bytes_read=39202 bytes_retransmit=0 bytes_invalid=0 send_seq=1391 receive_seq=1391 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=16 freq=12000275 adj=12000274 mcu_pitb: temp=38.7 enclosure_temp: temp=25.1  Bed_Top: temp=25.7 Raspberry_Pi: temp=40.4 mcu_Monster: temp=25.0 mcu_ebb36: temp=30.6 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.14 cputime=9.451 memavail=1533832 print_time=351.134 buffer_time=0.195 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 338.7: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5251 bytes_read=58911 bytes_retransmit=0 bytes_invalid=0 send_seq=572 receive_seq=572 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000126 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3332 bytes_read=41256 bytes_retransmit=0 bytes_invalid=0 send_seq=460 receive_seq=460 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999513 adj=63999468 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000194 bytes_write=13967 bytes_read=39421 bytes_retransmit=0 bytes_invalid=0 send_seq=1402 receive_seq=1402 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000275 adj=12000269 mcu_pitb: temp=38.7 enclosure_temp: temp=25.1  Bed_Top: temp=25.6 Raspberry_Pi: temp=40.4 mcu_Monster: temp=24.9 mcu_ebb36: temp=30.7 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.14 cputime=9.467 memavail=1533932 print_time=351.134 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 339.7: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5257 bytes_read=59059 bytes_retransmit=0 bytes_invalid=0 send_seq=573 receive_seq=573 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000129 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3338 bytes_read=41359 bytes_retransmit=0 bytes_invalid=0 send_seq=461 receive_seq=461 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999512 adj=63999455 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000194 bytes_write=13998 bytes_read=39508 bytes_retransmit=0 bytes_invalid=0 send_seq=1405 receive_seq=1405 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000275 adj=12000267 mcu_pitb: temp=38.7 enclosure_temp: temp=25.1  Bed_Top: temp=25.6 Raspberry_Pi: temp=40.4 mcu_Monster: temp=25.0 mcu_ebb36: temp=30.7 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.14 cputime=9.488 memavail=1533740 print_time=351.134 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 340.7: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5263 bytes_read=59207 bytes_retransmit=0 bytes_invalid=0 send_seq=574 receive_seq=574 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000134 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3344 bytes_read=41491 bytes_retransmit=0 bytes_invalid=0 send_seq=462 receive_seq=462 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999514 adj=63999428 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000194 bytes_write=14044 bytes_read=39627 bytes_retransmit=0 bytes_invalid=0 send_seq=1410 receive_seq=1410 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000275 adj=12000265 mcu_pitb: temp=38.7 enclosure_temp: temp=25.1  Bed_Top: temp=25.6 Raspberry_Pi: temp=39.9 mcu_Monster: temp=25.0 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.13 cputime=9.516 memavail=1533488 print_time=351.134 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 341.7: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5269 bytes_read=59399 bytes_retransmit=0 bytes_invalid=0 send_seq=575 receive_seq=575 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000134 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3350 bytes_read=41608 bytes_retransmit=0 bytes_invalid=0 send_seq=463 receive_seq=463 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999514 adj=63999423 PITB: mcu_awake=0.013 mcu_task_avg=0.000050 mcu_task_stddev=0.000181 bytes_write=14127 bytes_read=39775 bytes_retransmit=0 bytes_invalid=0 send_seq=1417 receive_seq=1417 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000275 adj=12000261 mcu_pitb: temp=38.7 enclosure_temp: temp=25.1  Bed_Top: temp=25.7 Raspberry_Pi: temp=40.9 mcu_Monster: temp=25.0 mcu_ebb36: temp=30.6 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.13 cputime=9.549 memavail=1533236 print_time=354.555 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 342.7: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5275 bytes_read=59547 bytes_retransmit=0 bytes_invalid=0 send_seq=576 receive_seq=576 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000135 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3356 bytes_read=41711 bytes_retransmit=0 bytes_invalid=0 send_seq=464 receive_seq=464 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999517 adj=63999449 PITB: mcu_awake=0.013 mcu_task_avg=0.000050 mcu_task_stddev=0.000181 bytes_write=14163 bytes_read=39867 bytes_retransmit=0 bytes_invalid=0 send_seq=1421 receive_seq=1421 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000275 adj=12000263 mcu_pitb: temp=38.7 enclosure_temp: temp=25.1  Bed_Top: temp=25.7 Raspberry_Pi: temp=39.4 mcu_Monster: temp=25.1 mcu_ebb36: temp=30.4 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.13 cputime=9.576 memavail=1533996 print_time=354.555 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 343.7: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5281 bytes_read=59710 bytes_retransmit=0 bytes_invalid=0 send_seq=577 receive_seq=577 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000140 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3362 bytes_read=41843 bytes_retransmit=0 bytes_invalid=0 send_seq=465 receive_seq=465 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999519 adj=63999489 PITB: mcu_awake=0.013 mcu_task_avg=0.000050 mcu_task_stddev=0.000181 bytes_write=14229 bytes_read=40010 bytes_retransmit=0 bytes_invalid=0 send_seq=1428 receive_seq=1428 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000275 adj=12000266 mcu_pitb: temp=38.7 enclosure_temp: temp=25.1  Bed_Top: temp=25.8 Raspberry_Pi: temp=41.4 mcu_Monster: temp=24.9 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.13 cputime=9.607 memavail=1534252 print_time=354.555 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 344.7: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5287 bytes_read=59893 bytes_retransmit=0 bytes_invalid=0 send_seq=578 receive_seq=578 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000144 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3374 bytes_read=41962 bytes_retransmit=0 bytes_invalid=0 send_seq=467 receive_seq=467 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999519 adj=63999479 PITB: mcu_awake=0.013 mcu_task_avg=0.000050 mcu_task_stddev=0.000181 bytes_write=14265 bytes_read=40102 bytes_retransmit=0 bytes_invalid=0 send_seq=1432 receive_seq=1432 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000276 adj=12000262 mcu_pitb: temp=38.7 enclosure_temp: temp=25.1  Bed_Top: temp=25.7 Raspberry_Pi: temp=39.9 mcu_Monster: temp=24.9 mcu_ebb36: temp=30.7 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.13 cputime=9.628 memavail=1533788 print_time=354.555 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 345.7: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5293 bytes_read=60031 bytes_retransmit=0 bytes_invalid=0 send_seq=579 receive_seq=579 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000143 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3380 bytes_read=42065 bytes_retransmit=0 bytes_invalid=0 send_seq=468 receive_seq=468 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999519 adj=63999452 PITB: mcu_awake=0.013 mcu_task_avg=0.000050 mcu_task_stddev=0.000181 bytes_write=14301 bytes_read=40194 bytes_retransmit=0 bytes_invalid=0 send_seq=1436 receive_seq=1436 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000276 adj=12000260 mcu_pitb: temp=38.7 enclosure_temp: temp=25.1  Bed_Top: temp=25.8 Raspberry_Pi: temp=40.9 mcu_Monster: temp=24.8 mcu_ebb36: temp=30.7 heater_bed: target=0 temp=25.9 pwm=0.000 sysload=0.12 cputime=9.643 memavail=1533536 print_time=354.555 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 346.7: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5299 bytes_read=60179 bytes_retransmit=0 bytes_invalid=0 send_seq=580 receive_seq=580 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000143 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3386 bytes_read=42211 bytes_retransmit=0 bytes_invalid=0 send_seq=469 receive_seq=469 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999518 adj=63999463 PITB: mcu_awake=0.014 mcu_task_avg=0.000057 mcu_task_stddev=0.000183 bytes_write=14337 bytes_read=40314 bytes_retransmit=0 bytes_invalid=0 send_seq=1440 receive_seq=1440 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=16 freq=12000275 adj=12000262 mcu_pitb: temp=38.7 enclosure_temp: temp=25.1  Bed_Top: temp=25.6 Raspberry_Pi: temp=40.9 mcu_Monster: temp=25.0 mcu_ebb36: temp=30.5 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.12 cputime=9.661 memavail=1533540 print_time=360.087 buffer_time=0.142 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 347.7: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5305 bytes_read=60371 bytes_retransmit=0 bytes_invalid=0 send_seq=581 receive_seq=581 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000140 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3392 bytes_read=42314 bytes_retransmit=0 bytes_invalid=0 send_seq=470 receive_seq=470 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999517 adj=63999447 PITB: mcu_awake=0.014 mcu_task_avg=0.000057 mcu_task_stddev=0.000183 bytes_write=14450 bytes_read=40485 bytes_retransmit=0 bytes_invalid=0 send_seq=1450 receive_seq=1450 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000275 adj=12000261 mcu_pitb: temp=38.7 enclosure_temp: temp=25.1  Bed_Top: temp=25.6 Raspberry_Pi: temp=40.9 mcu_Monster: temp=25.0 mcu_ebb36: temp=30.6 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.12 cputime=9.679 memavail=1533580 print_time=360.087 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 348.7: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5311 bytes_read=60534 bytes_retransmit=0 bytes_invalid=0 send_seq=582 receive_seq=582 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000141 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3398 bytes_read=42417 bytes_retransmit=0 bytes_invalid=0 send_seq=471 receive_seq=471 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999519 adj=63999455 PITB: mcu_awake=0.014 mcu_task_avg=0.000057 mcu_task_stddev=0.000183 bytes_write=14486 bytes_read=40577 bytes_retransmit=0 bytes_invalid=0 send_seq=1454 receive_seq=1454 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000275 adj=12000267 mcu_pitb: temp=38.7 enclosure_temp: temp=25.1  Bed_Top: temp=25.7 Raspberry_Pi: temp=40.9 mcu_Monster: temp=24.9 mcu_ebb36: temp=30.9 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.12 cputime=9.694 memavail=1533836 print_time=360.087 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 349.7: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5317 bytes_read=60682 bytes_retransmit=0 bytes_invalid=0 send_seq=583 receive_seq=583 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000143 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3404 bytes_read=42549 bytes_retransmit=0 bytes_invalid=0 send_seq=472 receive_seq=472 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999520 adj=63999492 PITB: mcu_awake=0.014 mcu_task_avg=0.000057 mcu_task_stddev=0.000183 bytes_write=14522 bytes_read=40682 bytes_retransmit=0 bytes_invalid=0 send_seq=1458 receive_seq=1458 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000276 adj=12000262 mcu_pitb: temp=38.7 enclosure_temp: temp=25.1  Bed_Top: temp=25.6 Raspberry_Pi: temp=41.4 mcu_Monster: temp=25.0 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.12 cputime=9.715 memavail=1533836 print_time=360.087 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 350.7: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5323 bytes_read=60874 bytes_retransmit=0 bytes_invalid=0 send_seq=584 receive_seq=584 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000149 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3410 bytes_read=42652 bytes_retransmit=0 bytes_invalid=0 send_seq=473 receive_seq=473 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999521 adj=63999482 PITB: mcu_awake=0.014 mcu_task_avg=0.000057 mcu_task_stddev=0.000183 bytes_write=14553 bytes_read=40769 bytes_retransmit=0 bytes_invalid=0 send_seq=1461 receive_seq=1461 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000276 adj=12000274 mcu_pitb: temp=38.7 enclosure_temp: temp=25.1  Bed_Top: temp=25.7 Raspberry_Pi: temp=41.4 mcu_Monster: temp=25.1 mcu_ebb36: temp=30.9 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.11 cputime=9.741 memavail=1533836 print_time=360.087 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 351.7: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5329 bytes_read=61022 bytes_retransmit=0 bytes_invalid=0 send_seq=585 receive_seq=585 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000151 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3416 bytes_read=42769 bytes_retransmit=0 bytes_invalid=0 send_seq=474 receive_seq=474 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999521 adj=63999462 PITB: mcu_awake=0.012 mcu_task_avg=0.000052 mcu_task_stddev=0.000180 bytes_write=14609 bytes_read=40904 bytes_retransmit=0 bytes_invalid=0 send_seq=1466 receive_seq=1466 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000277 adj=12000267 mcu_pitb: temp=38.7 enclosure_temp: temp=25.1  Bed_Top: temp=25.6 Raspberry_Pi: temp=39.9 mcu_Monster: temp=25.0 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.11 cputime=9.768 memavail=1533852 print_time=360.087 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Unable to write tmc spi 'stepper_x' register TCOOLTHRS
Stats 352.7: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5335 bytes_read=61170 bytes_retransmit=0 bytes_invalid=0 send_seq=586 receive_seq=586 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000160 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3422 bytes_read=42901 bytes_retransmit=0 bytes_invalid=0 send_seq=475 receive_seq=475 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999523 adj=63999446 PITB: mcu_awake=0.012 mcu_task_avg=0.000052 mcu_task_stddev=0.000180 bytes_write=14771 bytes_read=41117 bytes_retransmit=0 bytes_invalid=0 send_seq=1476 receive_seq=1476 retransmit_seq=0 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000277 adj=12000276 mcu_pitb: temp=38.7 enclosure_temp: temp=25.1  Bed_Top: temp=25.7 Raspberry_Pi: temp=40.9 mcu_Monster: temp=25.0 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.11 cputime=9.805 memavail=1529088 print_time=366.190 buffer_time=0.241 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 353.7: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5341 bytes_read=61377 bytes_retransmit=0 bytes_invalid=0 send_seq=587 receive_seq=587 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000158 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3428 bytes_read=43004 bytes_retransmit=0 bytes_invalid=0 send_seq=476 receive_seq=476 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999522 adj=63999424 PITB: mcu_awake=0.012 mcu_task_avg=0.000052 mcu_task_stddev=0.000180 bytes_write=14807 bytes_read=41209 bytes_retransmit=0 bytes_invalid=0 send_seq=1480 receive_seq=1480 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000277 adj=12000262 mcu_pitb: temp=38.8 enclosure_temp: temp=25.1  Bed_Top: temp=25.6 Raspberry_Pi: temp=41.4 mcu_Monster: temp=25.2 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.11 cputime=9.821 memavail=1528432 print_time=366.190 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 354.7: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5347 bytes_read=61525 bytes_retransmit=0 bytes_invalid=0 send_seq=588 receive_seq=588 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000157 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3434 bytes_read=43107 bytes_retransmit=0 bytes_invalid=0 send_seq=477 receive_seq=477 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999522 adj=63999435 PITB: mcu_awake=0.012 mcu_task_avg=0.000052 mcu_task_stddev=0.000180 bytes_write=14843 bytes_read=41301 bytes_retransmit=0 bytes_invalid=0 send_seq=1484 receive_seq=1484 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000277 adj=12000262 mcu_pitb: temp=38.7 enclosure_temp: temp=25.1  Bed_Top: temp=25.8 Raspberry_Pi: temp=40.4 mcu_Monster: temp=25.1 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.11 cputime=9.837 memavail=1530704 print_time=366.190 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 355.7: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5353 bytes_read=61673 bytes_retransmit=0 bytes_invalid=0 send_seq=589 receive_seq=589 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000155 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3440 bytes_read=43239 bytes_retransmit=0 bytes_invalid=0 send_seq=478 receive_seq=478 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999522 adj=63999450 PITB: mcu_awake=0.012 mcu_task_avg=0.000052 mcu_task_stddev=0.000180 bytes_write=14899 bytes_read=41434 bytes_retransmit=0 bytes_invalid=0 send_seq=1489 receive_seq=1489 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000276 adj=12000262 mcu_pitb: temp=38.7 enclosure_temp: temp=25.1  Bed_Top: temp=25.6 Raspberry_Pi: temp=41.4 mcu_Monster: temp=25.0 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.10 cputime=9.853 memavail=1535424 print_time=366.190 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 356.7: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5359 bytes_read=61865 bytes_retransmit=0 bytes_invalid=0 send_seq=590 receive_seq=590 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000164 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3446 bytes_read=43356 bytes_retransmit=0 bytes_invalid=0 send_seq=479 receive_seq=479 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999522 adj=63999466 PITB: mcu_awake=0.012 mcu_task_avg=0.000049 mcu_task_stddev=0.000176 bytes_write=14930 bytes_read=41536 bytes_retransmit=0 bytes_invalid=0 send_seq=1492 receive_seq=1492 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000276 adj=12000263 mcu_pitb: temp=38.7 enclosure_temp: temp=25.1  Bed_Top: temp=25.7 Raspberry_Pi: temp=40.9 mcu_Monster: temp=25.1 mcu_ebb36: temp=30.6 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.10 cputime=9.869 memavail=1535236 print_time=366.190 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 357.7: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5365 bytes_read=62013 bytes_retransmit=0 bytes_invalid=0 send_seq=591 receive_seq=591 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000161 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3452 bytes_read=43459 bytes_retransmit=0 bytes_invalid=0 send_seq=480 receive_seq=480 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999522 adj=63999410 PITB: mcu_awake=0.012 mcu_task_avg=0.000049 mcu_task_stddev=0.000176 bytes_write=14961 bytes_read=41623 bytes_retransmit=0 bytes_invalid=0 send_seq=1495 receive_seq=1495 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000276 adj=12000251 mcu_pitb: temp=38.7 enclosure_temp: temp=25.1  Bed_Top: temp=25.6 Raspberry_Pi: temp=41.4 mcu_Monster: temp=25.0 mcu_ebb36: temp=30.7 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.10 cputime=9.884 memavail=1535248 print_time=366.190 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 358.7: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5371 bytes_read=62176 bytes_retransmit=0 bytes_invalid=0 send_seq=592 receive_seq=592 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000161 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3458 bytes_read=43591 bytes_retransmit=0 bytes_invalid=0 send_seq=481 receive_seq=481 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999522 adj=63999436 PITB: mcu_awake=0.012 mcu_task_avg=0.000049 mcu_task_stddev=0.000176 bytes_write=14997 bytes_read=41728 bytes_retransmit=0 bytes_invalid=0 send_seq=1499 receive_seq=1499 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000277 adj=12000257 mcu_pitb: temp=38.7 enclosure_temp: temp=25.1  Bed_Top: temp=25.7 Raspberry_Pi: temp=41.4 mcu_Monster: temp=25.1 mcu_ebb36: temp=30.7 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.10 cputime=9.913 memavail=1535000 print_time=366.190 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Unable to write tmc spi 'stepper_x' register COOLCONF
Stats 359.7: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5377 bytes_read=62368 bytes_retransmit=0 bytes_invalid=0 send_seq=593 receive_seq=593 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000160 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3464 bytes_read=43694 bytes_retransmit=0 bytes_invalid=0 send_seq=482 receive_seq=482 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999522 adj=63999442 PITB: mcu_awake=0.012 mcu_task_avg=0.000049 mcu_task_stddev=0.000176 bytes_write=15173 bytes_read=41953 bytes_retransmit=0 bytes_invalid=0 send_seq=1512 receive_seq=1512 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000278 adj=12000265 mcu_pitb: temp=38.7 enclosure_temp: temp=25.1  Bed_Top: temp=25.7 Raspberry_Pi: temp=41.4 mcu_Monster: temp=25.1 mcu_ebb36: temp=30.6 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.10 cputime=9.943 memavail=1531768 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 360.7: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5383 bytes_read=62516 bytes_retransmit=0 bytes_invalid=0 send_seq=594 receive_seq=594 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000171 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3470 bytes_read=43797 bytes_retransmit=0 bytes_invalid=0 send_seq=483 receive_seq=483 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999521 adj=63999448 PITB: mcu_awake=0.012 mcu_task_avg=0.000049 mcu_task_stddev=0.000176 bytes_write=15209 bytes_read=42045 bytes_retransmit=0 bytes_invalid=0 send_seq=1516 receive_seq=1516 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000278 adj=12000284 mcu_pitb: temp=38.8 enclosure_temp: temp=25.1  Bed_Top: temp=25.6 Raspberry_Pi: temp=41.4 mcu_Monster: temp=25.2 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.09 cputime=9.959 memavail=1524808 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 361.7: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5389 bytes_read=62664 bytes_retransmit=0 bytes_invalid=0 send_seq=595 receive_seq=595 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000170 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3476 bytes_read=43943 bytes_retransmit=0 bytes_invalid=0 send_seq=484 receive_seq=484 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999522 adj=63999370 PITB: mcu_awake=0.012 mcu_task_avg=0.000049 mcu_task_stddev=0.000174 bytes_write=15245 bytes_read=42167 bytes_retransmit=0 bytes_invalid=0 send_seq=1520 receive_seq=1520 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000277 adj=12000264 mcu_pitb: temp=38.7 enclosure_temp: temp=25.1  Bed_Top: temp=25.6 Raspberry_Pi: temp=40.4 mcu_Monster: temp=25.1 mcu_ebb36: temp=30.7 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.09 cputime=9.974 memavail=1524588 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 362.7: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5395 bytes_read=62856 bytes_retransmit=0 bytes_invalid=0 send_seq=596 receive_seq=596 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000168 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3482 bytes_read=44046 bytes_retransmit=0 bytes_invalid=0 send_seq=485 receive_seq=485 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999522 adj=63999418 PITB: mcu_awake=0.012 mcu_task_avg=0.000049 mcu_task_stddev=0.000174 bytes_write=15281 bytes_read=42263 bytes_retransmit=0 bytes_invalid=0 send_seq=1524 receive_seq=1524 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000277 adj=12000264 mcu_pitb: temp=38.8 enclosure_temp: temp=25.1  Bed_Top: temp=25.6 Raspberry_Pi: temp=40.9 mcu_Monster: temp=25.0 mcu_ebb36: temp=30.7 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.09 cputime=9.990 memavail=1533096 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 363.7: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5401 bytes_read=63019 bytes_retransmit=0 bytes_invalid=0 send_seq=597 receive_seq=597 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000166 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3488 bytes_read=44149 bytes_retransmit=0 bytes_invalid=0 send_seq=486 receive_seq=486 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999522 adj=63999436 PITB: mcu_awake=0.012 mcu_task_avg=0.000049 mcu_task_stddev=0.000174 bytes_write=15347 bytes_read=42397 bytes_retransmit=0 bytes_invalid=0 send_seq=1531 receive_seq=1531 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000277 adj=12000267 mcu_pitb: temp=38.7 enclosure_temp: temp=25.1  Bed_Top: temp=25.6 Raspberry_Pi: temp=41.9 mcu_Monster: temp=25.0 mcu_ebb36: temp=30.6 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.09 cputime=10.006 memavail=1532688 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 364.7: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5407 bytes_read=63167 bytes_retransmit=0 bytes_invalid=0 send_seq=598 receive_seq=598 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000164 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3494 bytes_read=44281 bytes_retransmit=0 bytes_invalid=0 send_seq=487 receive_seq=487 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999523 adj=63999454 PITB: mcu_awake=0.012 mcu_task_avg=0.000049 mcu_task_stddev=0.000174 bytes_write=15383 bytes_read=42507 bytes_retransmit=0 bytes_invalid=0 send_seq=1535 receive_seq=1535 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000277 adj=12000266 mcu_pitb: temp=38.8 enclosure_temp: temp=25.1  Bed_Top: temp=25.7 Raspberry_Pi: temp=40.9 mcu_Monster: temp=25.2 mcu_ebb36: temp=30.7 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.09 cputime=10.028 memavail=1532240 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 365.7: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5413 bytes_read=63359 bytes_retransmit=0 bytes_invalid=0 send_seq=599 receive_seq=599 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000170 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3500 bytes_read=44384 bytes_retransmit=0 bytes_invalid=0 send_seq=488 receive_seq=488 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999524 adj=63999480 PITB: mcu_awake=0.012 mcu_task_avg=0.000049 mcu_task_stddev=0.000174 bytes_write=15419 bytes_read=42603 bytes_retransmit=0 bytes_invalid=0 send_seq=1539 receive_seq=1539 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000277 adj=12000267 mcu_pitb: temp=38.9 enclosure_temp: temp=25.1  Bed_Top: temp=25.7 Raspberry_Pi: temp=40.9 mcu_Monster: temp=25.1 mcu_ebb36: temp=30.7 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.16 cputime=10.055 memavail=1531996 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 366.7: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5419 bytes_read=63507 bytes_retransmit=0 bytes_invalid=0 send_seq=600 receive_seq=600 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000173 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3506 bytes_read=44501 bytes_retransmit=0 bytes_invalid=0 send_seq=489 receive_seq=489 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999526 adj=63999461 PITB: mcu_awake=0.013 mcu_task_avg=0.000060 mcu_task_stddev=0.000191 bytes_write=15450 bytes_read=42709 bytes_retransmit=0 bytes_invalid=0 send_seq=1542 receive_seq=1542 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000278 adj=12000265 mcu_pitb: temp=38.8 enclosure_temp: temp=25.1  Bed_Top: temp=25.6 Raspberry_Pi: temp=40.4 mcu_Monster: temp=25.1 mcu_ebb36: temp=30.6 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.16 cputime=10.081 memavail=1531996 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 367.7: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5431 bytes_read=63671 bytes_retransmit=0 bytes_invalid=0 send_seq=602 receive_seq=602 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000175 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3512 bytes_read=44633 bytes_retransmit=0 bytes_invalid=0 send_seq=490 receive_seq=490 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999528 adj=63999465 PITB: mcu_awake=0.013 mcu_task_avg=0.000060 mcu_task_stddev=0.000191 bytes_write=15506 bytes_read=42847 bytes_retransmit=0 bytes_invalid=0 send_seq=1547 receive_seq=1547 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000278 adj=12000264 mcu_pitb: temp=38.9 enclosure_temp: temp=25.1  Bed_Top: temp=25.7 Raspberry_Pi: temp=41.4 mcu_Monster: temp=25.1 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.16 cputime=10.112 memavail=1531996 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 368.7: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=5437 bytes_read=63878 bytes_retransmit=0 bytes_invalid=0 send_seq=603 receive_seq=603 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000175 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3518 bytes_read=44736 bytes_retransmit=0 bytes_invalid=0 send_seq=491 receive_seq=491 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999529 adj=63999485 PITB: mcu_awake=0.013 mcu_task_avg=0.000060 mcu_task_stddev=0.000191 bytes_write=15542 bytes_read=42943 bytes_retransmit=0 bytes_invalid=0 send_seq=1551 receive_seq=1551 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000278 adj=12000262 mcu_pitb: temp=38.8 enclosure_temp: temp=25.1  Bed_Top: temp=25.6 Raspberry_Pi: temp=40.9 mcu_Monster: temp=25.1 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.16 cputime=10.138 memavail=1532004 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 369.7: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=5443 bytes_read=64024 bytes_retransmit=0 bytes_invalid=0 send_seq=604 receive_seq=604 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000173 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3524 bytes_read=44839 bytes_retransmit=0 bytes_invalid=0 send_seq=492 receive_seq=492 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999531 adj=63999506 PITB: mcu_awake=0.013 mcu_task_avg=0.000060 mcu_task_stddev=0.000191 bytes_write=15578 bytes_read=43039 bytes_retransmit=0 bytes_invalid=0 send_seq=1555 receive_seq=1555 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000278 adj=12000269 mcu_pitb: temp=38.9 enclosure_temp: temp=25.1  Bed_Top: temp=25.7 Raspberry_Pi: temp=40.9 mcu_Monster: temp=25.1 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.16 cputime=10.157 memavail=1530524 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 370.7: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=5449 bytes_read=64162 bytes_retransmit=0 bytes_invalid=0 send_seq=605 receive_seq=605 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000172 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3530 bytes_read=44971 bytes_retransmit=0 bytes_invalid=0 send_seq=493 receive_seq=493 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999532 adj=63999536 PITB: mcu_awake=0.013 mcu_task_avg=0.000060 mcu_task_stddev=0.000191 bytes_write=15614 bytes_read=43149 bytes_retransmit=0 bytes_invalid=0 send_seq=1559 receive_seq=1559 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000278 adj=12000273 mcu_pitb: temp=38.9 enclosure_temp: temp=25.1  Bed_Top: temp=25.7 Raspberry_Pi: temp=40.9 mcu_Monster: temp=25.1 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=25.9 pwm=0.000 sysload=0.31 cputime=10.172 memavail=1523080 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 371.7: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=5455 bytes_read=64348 bytes_retransmit=0 bytes_invalid=0 send_seq=606 receive_seq=606 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000169 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3536 bytes_read=45074 bytes_retransmit=0 bytes_invalid=0 send_seq=494 receive_seq=494 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999531 adj=63999541 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000187 bytes_write=15680 bytes_read=43298 bytes_retransmit=0 bytes_invalid=0 send_seq=1566 receive_seq=1566 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000278 adj=12000268 mcu_pitb: temp=38.9 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=41.4 mcu_Monster: temp=25.3 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.31 cputime=10.188 memavail=1522324 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 372.7: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=5461 bytes_read=64496 bytes_retransmit=0 bytes_invalid=0 send_seq=607 receive_seq=607 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000168 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3542 bytes_read=45191 bytes_retransmit=0 bytes_invalid=0 send_seq=495 receive_seq=495 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999529 adj=63999518 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000187 bytes_write=15716 bytes_read=43394 bytes_retransmit=0 bytes_invalid=0 send_seq=1570 receive_seq=1570 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000278 adj=12000271 mcu_pitb: temp=38.8 enclosure_temp: temp=25.1  Bed_Top: temp=25.6 Raspberry_Pi: temp=41.9 mcu_Monster: temp=25.2 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.31 cputime=10.202 memavail=1526080 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 373.7: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5467 bytes_read=64659 bytes_retransmit=0 bytes_invalid=0 send_seq=608 receive_seq=608 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000165 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3548 bytes_read=45323 bytes_retransmit=0 bytes_invalid=0 send_seq=496 receive_seq=496 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999529 adj=63999492 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000187 bytes_write=15752 bytes_read=43504 bytes_retransmit=0 bytes_invalid=0 send_seq=1574 receive_seq=1574 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000278 adj=12000275 mcu_pitb: temp=39.0 enclosure_temp: temp=25.1  Bed_Top: temp=25.7 Raspberry_Pi: temp=41.9 mcu_Monster: temp=25.2 mcu_ebb36: temp=30.6 heater_bed: target=0 temp=25.9 pwm=0.000 sysload=0.31 cputime=10.216 memavail=1534864 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 374.7: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5473 bytes_read=64851 bytes_retransmit=0 bytes_invalid=0 send_seq=609 receive_seq=609 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000167 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3554 bytes_read=45426 bytes_retransmit=0 bytes_invalid=0 send_seq=497 receive_seq=497 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999530 adj=63999493 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000187 bytes_write=15788 bytes_read=43600 bytes_retransmit=0 bytes_invalid=0 send_seq=1578 receive_seq=1578 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000278 adj=12000270 mcu_pitb: temp=38.9 enclosure_temp: temp=25.2  Bed_Top: temp=25.6 Raspberry_Pi: temp=40.9 mcu_Monster: temp=25.2 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.31 cputime=10.237 memavail=1534180 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 375.7: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5479 bytes_read=64999 bytes_retransmit=0 bytes_invalid=0 send_seq=610 receive_seq=610 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000172 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3560 bytes_read=45529 bytes_retransmit=0 bytes_invalid=0 send_seq=498 receive_seq=498 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999531 adj=63999495 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000187 bytes_write=15849 bytes_read=43729 bytes_retransmit=0 bytes_invalid=0 send_seq=1584 receive_seq=1584 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000278 adj=12000266 mcu_pitb: temp=39.1 enclosure_temp: temp=25.1  Bed_Top: temp=25.7 Raspberry_Pi: temp=40.9 mcu_Monster: temp=25.1 mcu_ebb36: temp=30.7 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.53 cputime=10.266 memavail=1534180 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 376.7: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5485 bytes_read=65147 bytes_retransmit=0 bytes_invalid=0 send_seq=611 receive_seq=611 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000173 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3566 bytes_read=45661 bytes_retransmit=0 bytes_invalid=0 send_seq=499 receive_seq=499 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999532 adj=63999472 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000184 bytes_write=15885 bytes_read=43854 bytes_retransmit=0 bytes_invalid=0 send_seq=1588 receive_seq=1588 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000279 adj=12000268 mcu_pitb: temp=39.1 enclosure_temp: temp=25.2  Bed_Top: temp=25.6 Raspberry_Pi: temp=41.4 mcu_Monster: temp=25.2 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.53 cputime=10.293 memavail=1534180 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 377.7: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5491 bytes_read=65339 bytes_retransmit=0 bytes_invalid=0 send_seq=612 receive_seq=612 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000174 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3572 bytes_read=45778 bytes_retransmit=0 bytes_invalid=0 send_seq=500 receive_seq=500 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999532 adj=63999472 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000184 bytes_write=15921 bytes_read=43950 bytes_retransmit=0 bytes_invalid=0 send_seq=1592 receive_seq=1592 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000279 adj=12000275 mcu_pitb: temp=38.9 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=40.4 mcu_Monster: temp=25.2 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.53 cputime=10.321 memavail=1534180 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 378.7: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5497 bytes_read=65502 bytes_retransmit=0 bytes_invalid=0 send_seq=613 receive_seq=613 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000176 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3578 bytes_read=45881 bytes_retransmit=0 bytes_invalid=0 send_seq=501 receive_seq=501 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999532 adj=63999477 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000184 bytes_write=15957 bytes_read=44046 bytes_retransmit=0 bytes_invalid=0 send_seq=1596 receive_seq=1596 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000279 adj=12000274 mcu_pitb: temp=39.0 enclosure_temp: temp=25.2  Bed_Top: temp=25.8 Raspberry_Pi: temp=40.4 mcu_Monster: temp=25.1 mcu_ebb36: temp=30.6 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.53 cputime=10.347 memavail=1534180 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 379.7: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5503 bytes_read=65650 bytes_retransmit=0 bytes_invalid=0 send_seq=614 receive_seq=614 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000178 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3584 bytes_read=46013 bytes_retransmit=0 bytes_invalid=0 send_seq=502 receive_seq=502 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999533 adj=63999459 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000184 bytes_write=15993 bytes_read=44156 bytes_retransmit=0 bytes_invalid=0 send_seq=1600 receive_seq=1600 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000279 adj=12000272 mcu_pitb: temp=39.0 enclosure_temp: temp=25.2  Bed_Top: temp=25.8 Raspberry_Pi: temp=40.4 mcu_Monster: temp=25.2 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.53 cputime=10.373 memavail=1534180 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 380.7: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5509 bytes_read=65842 bytes_retransmit=0 bytes_invalid=0 send_seq=615 receive_seq=615 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000181 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3590 bytes_read=46116 bytes_retransmit=0 bytes_invalid=0 send_seq=503 receive_seq=503 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999534 adj=63999464 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000184 bytes_write=16049 bytes_read=44280 bytes_retransmit=0 bytes_invalid=0 send_seq=1605 receive_seq=1605 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000278 adj=12000268 mcu_pitb: temp=38.9 enclosure_temp: temp=25.2  Bed_Top: temp=25.8 Raspberry_Pi: temp=41.4 mcu_Monster: temp=25.2 mcu_ebb36: temp=30.7 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.48 cputime=10.403 memavail=1533928 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 381.7: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5515 bytes_read=65990 bytes_retransmit=0 bytes_invalid=0 send_seq=616 receive_seq=616 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000181 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3596 bytes_read=46219 bytes_retransmit=0 bytes_invalid=0 send_seq=504 receive_seq=504 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999535 adj=63999464 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000185 bytes_write=16086 bytes_read=44402 bytes_retransmit=0 bytes_invalid=0 send_seq=1609 receive_seq=1609 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000278 adj=12000257 mcu_pitb: temp=39.0 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=40.9 mcu_Monster: temp=25.1 mcu_ebb36: temp=30.7 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.48 cputime=10.430 memavail=1533932 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 382.7: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5521 bytes_read=66138 bytes_retransmit=0 bytes_invalid=0 send_seq=617 receive_seq=617 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000181 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3602 bytes_read=46365 bytes_retransmit=0 bytes_invalid=0 send_seq=505 receive_seq=505 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999537 adj=63999473 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000185 bytes_write=16117 bytes_read=44507 bytes_retransmit=0 bytes_invalid=0 send_seq=1612 receive_seq=1612 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000278 adj=12000259 mcu_pitb: temp=39.0 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=41.9 mcu_Monster: temp=25.2 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.48 cputime=10.458 memavail=1534632 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 383.7: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=5527 bytes_read=66344 bytes_retransmit=0 bytes_invalid=0 send_seq=618 receive_seq=618 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000181 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3608 bytes_read=46468 bytes_retransmit=0 bytes_invalid=0 send_seq=506 receive_seq=506 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999539 adj=63999507 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000185 bytes_write=16148 bytes_read=44598 bytes_retransmit=0 bytes_invalid=0 send_seq=1615 receive_seq=1615 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000278 adj=12000261 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=39.9 mcu_Monster: temp=25.2 mcu_ebb36: temp=30.7 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.48 cputime=10.486 memavail=1534688 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 384.7: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=5533 bytes_read=66492 bytes_retransmit=0 bytes_invalid=0 send_seq=619 receive_seq=619 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000177 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3614 bytes_read=46571 bytes_retransmit=0 bytes_invalid=0 send_seq=507 receive_seq=507 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999544 adj=63999519 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000185 bytes_write=16204 bytes_read=44722 bytes_retransmit=0 bytes_invalid=0 send_seq=1620 receive_seq=1620 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000278 adj=12000261 mcu_pitb: temp=39.1 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=41.4 mcu_Monster: temp=25.2 mcu_ebb36: temp=30.7 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.48 cputime=10.506 memavail=1534688 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 385.7: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=5539 bytes_read=66640 bytes_retransmit=0 bytes_invalid=0 send_seq=620 receive_seq=620 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000170 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3620 bytes_read=46703 bytes_retransmit=0 bytes_invalid=0 send_seq=508 receive_seq=508 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999543 adj=63999624 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000185 bytes_write=16250 bytes_read=44846 bytes_retransmit=0 bytes_invalid=0 send_seq=1625 receive_seq=1625 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000278 adj=12000265 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.6 Raspberry_Pi: temp=41.4 mcu_Monster: temp=25.1 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.45 cputime=10.522 memavail=1529388 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 386.7: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=5545 bytes_read=66832 bytes_retransmit=0 bytes_invalid=0 send_seq=621 receive_seq=621 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000166 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3626 bytes_read=46806 bytes_retransmit=0 bytes_invalid=0 send_seq=509 receive_seq=509 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999540 adj=63999603 PITB: mcu_awake=0.014 mcu_task_avg=0.000062 mcu_task_stddev=0.000206 bytes_write=16281 bytes_read=44952 bytes_retransmit=0 bytes_invalid=0 send_seq=1628 receive_seq=1628 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000278 adj=12000271 mcu_pitb: temp=39.0 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=41.9 mcu_Monster: temp=25.2 mcu_ebb36: temp=30.9 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.45 cputime=10.537 memavail=1534652 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.8 pwm=0.000
Stats 387.7: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=5551 bytes_read=66980 bytes_retransmit=0 bytes_invalid=0 send_seq=622 receive_seq=622 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000164 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000010 bytes_write=3632 bytes_read=46923 bytes_retransmit=0 bytes_invalid=0 send_seq=510 receive_seq=510 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999539 adj=63999557 PITB: mcu_awake=0.014 mcu_task_avg=0.000062 mcu_task_stddev=0.000206 bytes_write=16312 bytes_read=45043 bytes_retransmit=0 bytes_invalid=0 send_seq=1631 receive_seq=1631 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000278 adj=12000268 mcu_pitb: temp=39.1 enclosure_temp: temp=25.2  Bed_Top: temp=25.8 Raspberry_Pi: temp=42.4 mcu_Monster: temp=25.0 mcu_ebb36: temp=31.0 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.45 cputime=10.551 memavail=1534876 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 388.7: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=5557 bytes_read=67142 bytes_retransmit=0 bytes_invalid=0 send_seq=623 receive_seq=623 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000160 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000010 bytes_write=3638 bytes_read=47051 bytes_retransmit=0 bytes_invalid=0 send_seq=511 receive_seq=511 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999538 adj=63999535 PITB: mcu_awake=0.014 mcu_task_avg=0.000062 mcu_task_stddev=0.000206 bytes_write=16368 bytes_read=45181 bytes_retransmit=0 bytes_invalid=0 send_seq=1636 receive_seq=1636 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000277 adj=12000266 mcu_pitb: temp=39.1 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=42.4 mcu_Monster: temp=25.4 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.45 cputime=10.566 memavail=1534928 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 389.7: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=5563 bytes_read=67334 bytes_retransmit=0 bytes_invalid=0 send_seq=624 receive_seq=624 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000160 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000010 bytes_write=3644 bytes_read=47147 bytes_retransmit=0 bytes_invalid=0 send_seq=512 receive_seq=512 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999535 adj=63999518 PITB: mcu_awake=0.014 mcu_task_avg=0.000062 mcu_task_stddev=0.000206 bytes_write=16399 bytes_read=45272 bytes_retransmit=0 bytes_invalid=0 send_seq=1639 receive_seq=1639 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000277 adj=12000269 mcu_pitb: temp=39.0 enclosure_temp: temp=25.2  Bed_Top: temp=25.6 Raspberry_Pi: temp=41.9 mcu_Monster: temp=25.4 mcu_ebb36: temp=30.7 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.45 cputime=10.590 memavail=1533992 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 390.7: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=5569 bytes_read=67482 bytes_retransmit=0 bytes_invalid=0 send_seq=625 receive_seq=625 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000163 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000010 bytes_write=3650 bytes_read=47243 bytes_retransmit=0 bytes_invalid=0 send_seq=513 receive_seq=513 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999535 adj=63999470 PITB: mcu_awake=0.014 mcu_task_avg=0.000062 mcu_task_stddev=0.000206 bytes_write=16430 bytes_read=45363 bytes_retransmit=0 bytes_invalid=0 send_seq=1642 receive_seq=1642 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000278 adj=12000271 mcu_pitb: temp=39.1 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=41.9 mcu_Monster: temp=25.3 mcu_ebb36: temp=30.7 heater_bed: target=0 temp=25.9 pwm=0.000 sysload=0.49 cputime=10.616 memavail=1533992 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 391.7: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=5575 bytes_read=67630 bytes_retransmit=0 bytes_invalid=0 send_seq=626 receive_seq=626 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000168 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000010 bytes_write=3656 bytes_read=47366 bytes_retransmit=0 bytes_invalid=0 send_seq=514 receive_seq=514 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999535 adj=63999442 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000196 bytes_write=16466 bytes_read=45488 bytes_retransmit=0 bytes_invalid=0 send_seq=1646 receive_seq=1646 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000278 adj=12000274 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.8 Raspberry_Pi: temp=40.9 mcu_Monster: temp=25.2 mcu_ebb36: temp=30.9 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.49 cputime=10.644 memavail=1534000 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 392.7: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=5581 bytes_read=67822 bytes_retransmit=0 bytes_invalid=0 send_seq=627 receive_seq=627 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000169 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3662 bytes_read=47478 bytes_retransmit=0 bytes_invalid=0 send_seq=515 receive_seq=515 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999534 adj=63999423 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000196 bytes_write=16532 bytes_read=45622 bytes_retransmit=0 bytes_invalid=0 send_seq=1653 receive_seq=1653 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000278 adj=12000267 mcu_pitb: temp=39.1 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=41.4 mcu_Monster: temp=25.2 mcu_ebb36: temp=31.0 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.49 cputime=10.675 memavail=1534708 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 393.7: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=5587 bytes_read=67985 bytes_retransmit=0 bytes_invalid=0 send_seq=628 receive_seq=628 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000171 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3668 bytes_read=47581 bytes_retransmit=0 bytes_invalid=0 send_seq=516 receive_seq=516 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999538 adj=63999422 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000196 bytes_write=16568 bytes_read=45718 bytes_retransmit=0 bytes_invalid=0 send_seq=1657 receive_seq=1657 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000278 adj=12000268 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.8 Raspberry_Pi: temp=41.4 mcu_Monster: temp=25.3 mcu_ebb36: temp=30.7 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.49 cputime=10.701 memavail=1534764 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 394.7: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=5593 bytes_read=68133 bytes_retransmit=0 bytes_invalid=0 send_seq=629 receive_seq=629 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000166 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3674 bytes_read=47713 bytes_retransmit=0 bytes_invalid=0 send_seq=517 receive_seq=517 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999538 adj=63999480 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000196 bytes_write=16599 bytes_read=45823 bytes_retransmit=0 bytes_invalid=0 send_seq=1660 receive_seq=1660 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000278 adj=12000264 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=40.9 mcu_Monster: temp=25.3 mcu_ebb36: temp=31.0 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.49 cputime=10.720 memavail=1536064 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 395.7: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=5599 bytes_read=68319 bytes_retransmit=0 bytes_invalid=0 send_seq=630 receive_seq=630 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000161 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3680 bytes_read=47816 bytes_retransmit=0 bytes_invalid=0 send_seq=518 receive_seq=518 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999536 adj=63999514 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000196 bytes_write=16635 bytes_read=45919 bytes_retransmit=0 bytes_invalid=0 send_seq=1664 receive_seq=1664 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000278 adj=12000272 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=41.4 mcu_Monster: temp=25.2 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.45 cputime=10.734 memavail=1536064 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 396.7: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=5605 bytes_read=68457 bytes_retransmit=0 bytes_invalid=0 send_seq=631 receive_seq=631 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000154 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3686 bytes_read=47919 bytes_retransmit=0 bytes_invalid=0 send_seq=519 receive_seq=519 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999533 adj=63999502 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000183 bytes_write=16701 bytes_read=46068 bytes_retransmit=0 bytes_invalid=0 send_seq=1671 receive_seq=1671 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000277 adj=12000271 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=41.9 mcu_Monster: temp=25.3 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.45 cputime=10.749 memavail=1536064 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 397.7: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=5611 bytes_read=68605 bytes_retransmit=0 bytes_invalid=0 send_seq=632 receive_seq=632 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000151 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3692 bytes_read=48065 bytes_retransmit=0 bytes_invalid=0 send_seq=520 receive_seq=520 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999531 adj=63999490 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000183 bytes_write=16737 bytes_read=46178 bytes_retransmit=0 bytes_invalid=0 send_seq=1675 receive_seq=1675 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000276 adj=12000271 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.6 Raspberry_Pi: temp=41.9 mcu_Monster: temp=25.3 mcu_ebb36: temp=31.0 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.45 cputime=10.764 memavail=1535840 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 398.7: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5617 bytes_read=68812 bytes_retransmit=0 bytes_invalid=0 send_seq=633 receive_seq=633 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000146 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3698 bytes_read=48168 bytes_retransmit=0 bytes_invalid=0 send_seq=521 receive_seq=521 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999530 adj=63999469 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000183 bytes_write=16773 bytes_read=46274 bytes_retransmit=0 bytes_invalid=0 send_seq=1679 receive_seq=1679 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000276 adj=12000265 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=42.8 mcu_Monster: temp=25.2 mcu_ebb36: temp=30.9 heater_bed: target=0 temp=25.9 pwm=0.000 sysload=0.45 cputime=10.779 memavail=1535396 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 399.7: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5623 bytes_read=68960 bytes_retransmit=0 bytes_invalid=0 send_seq=634 receive_seq=634 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000145 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3704 bytes_read=48271 bytes_retransmit=0 bytes_invalid=0 send_seq=522 receive_seq=522 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999527 adj=63999483 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000183 bytes_write=16809 bytes_read=46370 bytes_retransmit=0 bytes_invalid=0 send_seq=1683 receive_seq=1683 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000276 adj=12000265 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.8 Raspberry_Pi: temp=42.4 mcu_Monster: temp=25.3 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.45 cputime=10.801 memavail=1534724 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 400.7: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5629 bytes_read=69123 bytes_retransmit=0 bytes_invalid=0 send_seq=635 receive_seq=635 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000143 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3710 bytes_read=48403 bytes_retransmit=0 bytes_invalid=0 send_seq=523 receive_seq=523 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999527 adj=63999441 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000183 bytes_write=16875 bytes_read=46518 bytes_retransmit=0 bytes_invalid=0 send_seq=1690 receive_seq=1690 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000276 adj=12000266 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=41.9 mcu_Monster: temp=25.2 mcu_ebb36: temp=30.7 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.49 cputime=10.830 memavail=1534740 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 401.7: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5635 bytes_read=69300 bytes_retransmit=0 bytes_invalid=0 send_seq=636 receive_seq=636 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000144 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3716 bytes_read=48506 bytes_retransmit=0 bytes_invalid=0 send_seq=524 receive_seq=524 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999526 adj=63999454 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000179 bytes_write=16911 bytes_read=46629 bytes_retransmit=0 bytes_invalid=0 send_seq=1694 receive_seq=1694 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000276 adj=12000269 mcu_pitb: temp=39.1 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=41.4 mcu_Monster: temp=25.3 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.49 cputime=10.857 memavail=1534520 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 402.7: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5641 bytes_read=69448 bytes_retransmit=0 bytes_invalid=0 send_seq=637 receive_seq=637 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000142 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3722 bytes_read=48623 bytes_retransmit=0 bytes_invalid=0 send_seq=525 receive_seq=525 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999526 adj=63999450 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000179 bytes_write=16942 bytes_read=46720 bytes_retransmit=0 bytes_invalid=0 send_seq=1697 receive_seq=1697 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000277 adj=12000268 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.8 Raspberry_Pi: temp=41.4 mcu_Monster: temp=25.4 mcu_ebb36: temp=30.9 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.49 cputime=10.885 memavail=1534520 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 403.7: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5647 bytes_read=69626 bytes_retransmit=0 bytes_invalid=0 send_seq=638 receive_seq=638 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000153 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3728 bytes_read=48755 bytes_retransmit=0 bytes_invalid=0 send_seq=526 receive_seq=526 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999526 adj=63999463 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000179 bytes_write=16978 bytes_read=46830 bytes_retransmit=0 bytes_invalid=0 send_seq=1701 receive_seq=1701 retransmit_seq=0 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000277 adj=12000274 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=41.4 mcu_Monster: temp=25.4 mcu_ebb36: temp=31.0 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.49 cputime=10.913 memavail=1534520 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 404.7: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5653 bytes_read=69803 bytes_retransmit=0 bytes_invalid=0 send_seq=639 receive_seq=639 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000148 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3734 bytes_read=48858 bytes_retransmit=0 bytes_invalid=0 send_seq=527 receive_seq=527 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999527 adj=63999390 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000179 bytes_write=17044 bytes_read=46964 bytes_retransmit=0 bytes_invalid=0 send_seq=1708 receive_seq=1708 retransmit_seq=0 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000276 adj=12000263 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=41.9 mcu_Monster: temp=25.4 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.49 cputime=10.935 memavail=1533576 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 405.7: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5659 bytes_read=69951 bytes_retransmit=0 bytes_invalid=0 send_seq=640 receive_seq=640 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000148 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3746 bytes_read=48977 bytes_retransmit=0 bytes_invalid=0 send_seq=529 receive_seq=529 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999523 adj=63999456 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000179 bytes_write=17080 bytes_read=47060 bytes_retransmit=0 bytes_invalid=0 send_seq=1712 receive_seq=1712 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000276 adj=12000262 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=41.9 mcu_Monster: temp=25.2 mcu_ebb36: temp=30.9 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.54 cputime=10.949 memavail=1533580 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 406.7: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5665 bytes_read=70114 bytes_retransmit=0 bytes_invalid=0 send_seq=641 receive_seq=641 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000142 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3752 bytes_read=49109 bytes_retransmit=0 bytes_invalid=0 send_seq=530 receive_seq=530 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999520 adj=63999398 PITB: mcu_awake=0.013 mcu_task_avg=0.000059 mcu_task_stddev=0.000189 bytes_write=17116 bytes_read=47185 bytes_retransmit=0 bytes_invalid=0 send_seq=1716 receive_seq=1716 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000276 adj=12000259 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=41.4 mcu_Monster: temp=25.3 mcu_ebb36: temp=30.7 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.54 cputime=10.965 memavail=1533580 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 407.7: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=5671 bytes_read=70291 bytes_retransmit=0 bytes_invalid=0 send_seq=642 receive_seq=642 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000136 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3758 bytes_read=49226 bytes_retransmit=0 bytes_invalid=0 send_seq=531 receive_seq=531 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999518 adj=63999411 PITB: mcu_awake=0.013 mcu_task_avg=0.000059 mcu_task_stddev=0.000189 bytes_write=17152 bytes_read=47281 bytes_retransmit=0 bytes_invalid=0 send_seq=1720 receive_seq=1720 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000275 adj=12000265 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.8 Raspberry_Pi: temp=42.4 mcu_Monster: temp=25.2 mcu_ebb36: temp=30.9 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.54 cputime=10.980 memavail=1536720 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 408.7: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=5677 bytes_read=70454 bytes_retransmit=0 bytes_invalid=0 send_seq=643 receive_seq=643 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000131 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3764 bytes_read=49329 bytes_retransmit=0 bytes_invalid=0 send_seq=532 receive_seq=532 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999516 adj=63999424 PITB: mcu_awake=0.013 mcu_task_avg=0.000059 mcu_task_stddev=0.000189 bytes_write=17218 bytes_read=47415 bytes_retransmit=0 bytes_invalid=0 send_seq=1727 receive_seq=1727 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000275 adj=12000266 mcu_pitb: temp=39.3 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=42.4 mcu_Monster: temp=25.2 mcu_ebb36: temp=30.7 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.54 cputime=10.995 memavail=1536388 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 409.7: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=5683 bytes_read=70617 bytes_retransmit=0 bytes_invalid=0 send_seq=644 receive_seq=644 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000126 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3770 bytes_read=49461 bytes_retransmit=0 bytes_invalid=0 send_seq=533 receive_seq=533 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999515 adj=63999437 PITB: mcu_awake=0.013 mcu_task_avg=0.000059 mcu_task_stddev=0.000189 bytes_write=17254 bytes_read=47525 bytes_retransmit=0 bytes_invalid=0 send_seq=1731 receive_seq=1731 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000275 adj=12000267 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=41.9 mcu_Monster: temp=25.4 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.54 cputime=11.020 memavail=1535692 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 410.7: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=5689 bytes_read=70794 bytes_retransmit=0 bytes_invalid=0 send_seq=645 receive_seq=645 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000125 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3776 bytes_read=49564 bytes_retransmit=0 bytes_invalid=0 send_seq=534 receive_seq=534 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999515 adj=63999461 PITB: mcu_awake=0.013 mcu_task_avg=0.000059 mcu_task_stddev=0.000189 bytes_write=17290 bytes_read=47621 bytes_retransmit=0 bytes_invalid=0 send_seq=1735 receive_seq=1735 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000275 adj=12000272 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.8 Raspberry_Pi: temp=41.4 mcu_Monster: temp=25.3 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.49 cputime=11.046 memavail=1534972 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 411.7: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=5695 bytes_read=70942 bytes_retransmit=0 bytes_invalid=0 send_seq=646 receive_seq=646 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000125 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3782 bytes_read=49667 bytes_retransmit=0 bytes_invalid=0 send_seq=535 receive_seq=535 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999515 adj=63999470 PITB: mcu_awake=0.012 mcu_task_avg=0.000054 mcu_task_stddev=0.000177 bytes_write=17326 bytes_read=47732 bytes_retransmit=0 bytes_invalid=0 send_seq=1739 receive_seq=1739 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000275 adj=12000269 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.6 Raspberry_Pi: temp=42.4 mcu_Monster: temp=25.4 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.49 cputime=11.073 memavail=1534752 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 412.7: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=5701 bytes_read=71105 bytes_retransmit=0 bytes_invalid=0 send_seq=647 receive_seq=647 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000125 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3788 bytes_read=49813 bytes_retransmit=0 bytes_invalid=0 send_seq=536 receive_seq=536 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999515 adj=63999467 PITB: mcu_awake=0.012 mcu_task_avg=0.000054 mcu_task_stddev=0.000177 bytes_write=17382 bytes_read=47861 bytes_retransmit=0 bytes_invalid=0 send_seq=1745 receive_seq=1745 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=5 freq=12000276 adj=12000270 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.6 Raspberry_Pi: temp=41.4 mcu_Monster: temp=25.4 mcu_ebb36: temp=31.1 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.49 cputime=11.102 memavail=1534304 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 413.7: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=5707 bytes_read=71297 bytes_retransmit=0 bytes_invalid=0 send_seq=648 receive_seq=648 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000124 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3794 bytes_read=49916 bytes_retransmit=0 bytes_invalid=0 send_seq=537 receive_seq=537 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999514 adj=63999456 PITB: mcu_awake=0.012 mcu_task_avg=0.000054 mcu_task_stddev=0.000177 bytes_write=17428 bytes_read=47976 bytes_retransmit=0 bytes_invalid=0 send_seq=1750 receive_seq=1750 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000276 adj=12000292 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.8 Raspberry_Pi: temp=41.4 mcu_Monster: temp=25.3 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.49 cputime=11.130 memavail=1534304 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 414.7: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=5713 bytes_read=71445 bytes_retransmit=0 bytes_invalid=0 send_seq=649 receive_seq=649 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000121 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=3800 bytes_read=50019 bytes_retransmit=0 bytes_invalid=0 send_seq=538 receive_seq=538 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999514 adj=63999461 PITB: mcu_awake=0.012 mcu_task_avg=0.000054 mcu_task_stddev=0.000177 bytes_write=17464 bytes_read=48072 bytes_retransmit=0 bytes_invalid=0 send_seq=1754 receive_seq=1754 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000276 adj=12000286 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.6 Raspberry_Pi: temp=41.4 mcu_Monster: temp=25.3 mcu_ebb36: temp=31.0 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.49 cputime=11.154 memavail=1534080 print_time=372.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Starting Klippy...
Args: ['/home/pi/klipper/klippy/klippy.py', '/home/pi/printer_data/config/printer.cfg', '-I', '/home/pi/printer_data/comms/klippy.serial', '-l', '/home/pi/printer_data/logs/klippy.log', '-a', '/home/pi/printer_data/comms/klippy.sock']
Git version: 'v0.12.0-267-g12cd1d9e-dirty'
Untracked files: klippy/extras/BDsensor.py
Modified files: src/Makefile
Branch: master
Remote: origin
Tracked URL: https://github.com/Klipper3d/klipper
CPU: 4 core ?
Python: '3.11.2 (main, May  2 2024, 11:59:08) [GCC 12.2.0]'
Start printer at Tue Jul 30 14:00:48 2024 (1722344448.1 416.2)
===== Config file =====
[mcu]
canbus_uuid = 70559fc0ed52

[mcu EBBCan]
canbus_uuid = 1e0fae8aa7ce

[save_variables]
filename = ~/printer_data/config/variables.cfg

[fan_generic Air_Scrubber]
pin = PA2
max_power = 1
off_below = 0.25
kick_start_time = 0.5

[delayed_gcode filter_off]
gcode = 
	SET_FAN_SPEED FAN=Air_Scrubber SPEED=0

[gcode_macro TOGGLE_Air_Scrubber]
gcode = 
	{% if printer['fan_generic Air_Scrubber'].speed > 0 %}
	SET_FAN_SPEED FAN=Air_Scrubber SPEED=0
	{% else %}
	SET_FAN_SPEED FAN=Air_Scrubber SPEED=1
	{% endif %}

[tmc2209 manual_stepper selector]
uart_pin = PB7
run_current = 0.3
stealthchop_threshold = 0

[tmc2209 manual_stepper chameleon]
uart_pin = PD15
run_current = 0.8
stealthchop_threshold = 0

[manual_stepper selector]
step_pin = PE1
dir_pin = PE0
enable_pin = !PE2
microsteps = 1
rotation_distance = 2

[manual_stepper chameleon]
step_pin = PC7
dir_pin = PC6
enable_pin = !PC8
microsteps = 16
rotation_distance = 34.408602151

[neopixel mmu_LED]
pin = PE15
chain_count = 3
color_order = GRBW
initial_red = 0.3
initial_green = 0.3
initial_blue = 0.3
initial_white = 0.0

[gcode_macro TOOL_INIT]
description = homes the tool selector. Needed before any tool change.
variable_tool = 0
variable_ysplit_distance = 670
gcode = 
	MANUAL_STEPPER STEPPER=selector SET_POSITION=0
	MANUAL_STEPPER STEPPER=selector MOVE=-1.65
	MANUAL_STEPPER STEPPER=selector SET_POSITION=0
	MANUAL_STEPPER STEPPER=selector MOVE=0.12
	MANUAL_STEPPER STEPPER=selector SET_POSITION=0
	MANUAL_STEPPER STEPPER=chameleon SET_POSITION=0
	
	SET_GCODE_VARIABLE MACRO=TOOL_INIT VARIABLE=tool VALUE={TOOL}
	SET_GCODE_VARIABLE MACRO=TOOL_INIT VARIABLE=ysplit_distance VALUE={YSPLIT_DISTANCE}

[gcode_macro WIPE]
gcode = 
	G1 X170 F5000
	G1 X250
	G1 X170
	G1 X250

[gcode_macro _Cut_Filament]
description = Cut filament by pressing the cutter on a pin with a horizontal movement.
gcode = 
	{% set svv = printer.save_variables.variables %}
	SAVE_GCODE_STATE NAME=_filament_change_state
	{% set prev_pa = printer.extruder.pressure_advance %}
	SET_PRESSURE_ADVANCE ADVANCE=0
	G1 E-33 F3000
	G1 X15 Y0 F10000
	G1 X15 Y-23 F10000
	G1 X-2 Y-23 F10000
	
	
	G1 E-100 F3000
	G1 X15 Y-23 F10000
	SET_PRESSURE_ADVANCE ADVANCE={prev_pa}
	RESTORE_GCODE_STATE NAME=_filament_change_state MOVE=1

[gcode_macro TS0]
gcode = 
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=0 WHITE=1 INDEX=1 TRANSMIT=1
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=0 WHITE=0 INDEX=3 TRANSMIT=1
	TOOL_SELECT TOOL=0

[gcode_macro TS1]
gcode = 
	SET_LED LED=mmu_LED RED=1 GREEN=0 BLUE=0 WHITE=0 INDEX=1 TRANSMIT=1
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=0 WHITE=0 INDEX=3 TRANSMIT=1
	TOOL_SELECT TOOL=1

[gcode_macro TS2]
gcode = 
	SET_LED LED=mmu_LED RED=0 GREEN=1 BLUE=0 WHITE=0 INDEX=1 TRANSMIT=1
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=0 WHITE=0 INDEX=3 TRANSMIT=1
	TOOL_SELECT TOOL=2

[gcode_macro TS3]
gcode = 
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=1 WHITE=0 INDEX=1 TRANSMIT=1
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=0 WHITE=0 INDEX=3 TRANSMIT=1
	TOOL_SELECT TOOL=3

[gcode_macro TOOL_SELECT]
gcode = 
	{% set TOOL = params.TOOL|int %}
	M117 "Setting tool to TOOL{TOOL}"
	{% if TOOL == 0 %}
	MANUAL_STEPPER stepper=selector MOVE=0
	{% elif TOOL == 1 %}
	MANUAL_STEPPER stepper=selector MOVE=0.5
	{% elif TOOL == 2 %}
	MANUAL_STEPPER stepper=selector MOVE=1.0
	{% elif TOOL == 3 %}
	MANUAL_STEPPER stepper=selector MOVE=1.5
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TOOL_INIT VARIABLE=tool VALUE={TOOL}

[gcode_macro TOOL_FREE]
gcode = 
	{% set TOOL = params.TOOL|int %}
	M117 "Free filament path for tool {TOOL}"
	{% if TOOL == 0 %}
	MANUAL_STEPPER stepper=selector MOVE=1
	{% elif TOOL == 1 %}
	MANUAL_STEPPER stepper=selector MOVE=1.5
	{% elif TOOL == 2 %}
	MANUAL_STEPPER stepper=selector MOVE=0
	{% elif TOOL == 3 %}
	MANUAL_STEPPER stepper=selector MOVE=0.5
	{% endif %}

[gcode_macro CHAMELEON_UNLOAD]
description = Unloads the filament from the tubing
gcode = 
	SET_LED LED=mmu_LED RED=1 GREEN=0 BLUE=0 WHITE=0 INDEX=2 TRANSMIT=1
	{% set TOOL=printer["gcode_macro TOOL_INIT"].tool %}
	{% set YSPLIT_DIST=printer["gcode_macro TOOL_INIT"].ysplit_distance %}
	MANUAL_STEPPER STEPPER=chameleon SET_POSITION=0
	{% if TOOL == 0 or TOOL == 1 %}
	M117 "Move tool {TOOL} by -{YSPLIT_DIST}"
	MANUAL_STEPPER stepper=chameleon MOVE=-{YSPLIT_DIST} SPEED=200 ACCEL=200
	{% else %}
	M117 "Move tool {TOOL} by {YSPLIT_DIST}"
	MANUAL_STEPPER stepper=chameleon MOVE={YSPLIT_DIST} SPEED=200 ACCEL=200
	{% endif %}
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=0 WHITE=1 INDEX=2 TRANSMIT=1

[gcode_macro CHAMELEON_LOAD]
description = Loads the filament into the extruder bowden
gcode = 
	SET_LED LED=mmu_LED RED=0 GREEN=1 BLUE=0 WHITE=0 INDEX=2 TRANSMIT=1
	{% set TOOL=printer["gcode_macro TOOL_INIT"].tool %}
	{% set YSPLIT_DIST=printer["gcode_macro TOOL_INIT"].ysplit_distance %}
	MANUAL_STEPPER STEPPER=chameleon SET_POSITION=0
	{% if TOOL == 0 or TOOL == 1 %}
	M117 "Move tool {TOOL} by {YSPLIT_DIST}"
	MANUAL_STEPPER stepper=chameleon MOVE={YSPLIT_DIST} SPEED=200 ACCEL=200
	{% else %}
	M117 "Move tool {TOOL} by -{YSPLIT_DIST}"
	MANUAL_STEPPER stepper=chameleon MOVE=-{YSPLIT_DIST} SPEED=200 ACCEL=200
	{% endif %}
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=0 WHITE=1 INDEX=2 TRANSMIT=1

[gcode_macro EXTRUDER_UNLOAD]
description = Unloads the filament from the extruder before a tool change
gcode = 
	_Cut_Filament

[gcode_macro EXTRUDER_LOAD]
description = Loads the filament in the extruder after a tool change
gcode = 
	G92 E0
	G1 E98 F3000
	G1 E5 F300

[gcode_macro T0]
description = Changes the filament to that loaded in tool 0
gcode = 
	
	{% set TOOL= printer["gcode_macro TOOL_INIT"].tool %}
	{% set YSPLIT_DIST=printer["gcode_macro TOOL_INIT"].ysplit_distance %}
	
	PAUSE
	EXTRUDER_UNLOAD
	TOOL_SELECT TOOL={TOOL}
	CHAMELEON_UNLOAD
	
	{% set TOOL=0 %}
	SET_GCODE_VARIABLE MACRO=TOOL_INIT VARIABLE=tool VALUE=0
	TOOL_SELECT TOOL={TOOL}
	CHAMELEON_LOAD
	
	TOOL_FREE TOOL={TOOL}
	EXTRUDER_LOAD
	
	WIPE
	
	RESUME

[gcode_macro T1]
description = Changes the filament to that loaded in tool 1
gcode = 
	
	{% set TOOL= printer["gcode_macro TOOL_INIT"].tool %}
	{% set YSPLIT_DIST=printer["gcode_macro TOOL_INIT"].ysplit_distance %}
	
	PAUSE
	EXTRUDER_UNLOAD
	TOOL_SELECT TOOL={TOOL}
	CHAMELEON_UNLOAD
	
	{% set TOOL=1 %}
	SET_GCODE_VARIABLE MACRO=TOOL_INIT VARIABLE=tool VALUE={TOOL}
	TOOL_SELECT TOOL={TOOL}
	CHAMELEON_LOAD
	
	TOOL_FREE TOOL={TOOL}
	EXTRUDER_LOAD
	
	WIPE
	
	RESUME

[gcode_macro T2]
description = Changes the filament to that loaded in tool 2
gcode = 
	
	{% set TOOL= printer["gcode_macro TOOL_INIT"].tool %}
	{% set YSPLIT_DIST=printer["gcode_macro TOOL_INIT"].ysplit_distance %}
	
	PAUSE
	EXTRUDER_UNLOAD
	TOOL_SELECT TOOL={TOOL}
	CHAMELEON_UNLOAD
	
	{% set TOOL=2 %}
	SET_GCODE_VARIABLE MACRO=TOOL_INIT VARIABLE=tool VALUE={TOOL}
	TOOL_SELECT TOOL={TOOL}
	CHAMELEON_LOAD
	
	TOOL_FREE TOOL={TOOL}
	EXTRUDER_LOAD
	
	WIPE
	
	RESUME

[gcode_macro T3]
description = Changes the filament to that loaded in tool 2
gcode = 
	
	{% set TOOL= printer["gcode_macro TOOL_INIT"].tool %}
	{% set YSPLIT_DIST=printer["gcode_macro TOOL_INIT"].ysplit_distance %}
	
	PAUSE
	EXTRUDER_UNLOAD
	TOOL_SELECT TOOL={TOOL}
	CHAMELEON_UNLOAD
	
	{% set TOOL=3 %}
	TOOL_SELECT TOOL={TOOL}
	SET_GCODE_VARIABLE MACRO=TOOL_INIT VARIABLE=tool VALUE={TOOL}
	CHAMELEON_LOAD
	
	TOOL_FREE TOOL={TOOL}
	EXTRUDER_LOAD
	
	WIPE
	
	RESUME

[mcu PITB]
canbus_uuid = 2e8f2c113235

[fan_generic PITB_FAN0]
pin = PITB:gpio0
max_power = 1.0
kick_start_time = 0.5
off_below = 0.10

[fan_generic PITB_FAN1]
pin = PITB:gpio18
max_power = 1.0
kick_start_time = 0.5
off_below = 0.10

[neopixel PITB_LED]
pin = PITB:gpio19
color_order = GRBW
initial_red = 0.0
initial_green = 0.0
initial_blue = 0.0
initial_white = 0.0

[temperature_sensor mcu_pitb]
sensor_type = temperature_mcu
sensor_mcu = PITB

[output_pin activity_led]
pin = PITB:gpio15

[temperature_sensor enclosure_temp]
sensor_type = BME280
i2c_address = 118
i2c_mcu = PITB
i2c_bus = i2c0g

[neopixel Hotend_LED]
pin = EBBCan:PD3
chain_count = 3
color_order = GRBW
initial_red = 0.0
initial_green = 0.0
initial_blue = 0.0
initial_white = 0.0

[gcode_macro _sb_vars]
variable_colors = {
	'logo': {
	'busy': {'r': 0.4, 'g': 0.0, 'b': 0.0, 'w': 0.0},
	'cleaning': {'r': 0.0, 'g': 0.02, 'b': 0.5, 'w': 0.0},
	'calibrating_z': {'r': 0.8, 'g': 0., 'b': 0.35, 'w': 0.0},
	'heating': {'r': 0.3, 'g': 0.18, 'b': 0.0, 'w': 0.0},
	'homing': {'r': 0.0, 'g': 0.6, 'b': 0.2, 'w': 0.0},
	'leveling': {'r': 0.5, 'g': 0.1, 'b': 0.4, 'w': 0.0},
	'meshing': {'r': 0.2, 'g': 1.0, 'b': 0.0, 'w': 0.0},
	'off': {'r': 0.0, 'g': 0.0, 'b': 0.0, 'w': 0.0},
	'printing': {'r': 1.0, 'g': 1.0, 'b': 1.0, 'w': 1.0},
	'standby': {'r': 0.01, 'g': 0.01, 'b': 0.5, 'w': 0.1}
	},
	'nozzle': {
	'heating': {'r': 0.8, 'g': 0.35, 'b': 0.0, 'w':0.0},
	'off': {'r': 0.0, 'g': 0.0, 'b': 0.0, 'w': 0.0},
	'on': {'r': 0.8, 'g': 0.8, 'b': 0.8, 'w':1.0},
	'standby': {'r': 0.0, 'g': 0.0, 'b': 0.0, 'w':0.5},
	'hot': {'r': 1.0, 'g': 0.0, 'b': 0.0, 'w': 0.0},
	'cold': {'r': 0.3, 'g': 0.0, 'b': 1.0, 'w': 0.0}
	},
	'thermal': {
	'hot': {'r': 1.0, 'g': 0.0, 'b': 0.0, 'w': 0.0},
	'cold': {'r': 0.3, 'g': 0.0, 'b': 0.3, 'w': 0.0},
	'busy': {'r': 0.4, 'g': 0.0, 'b': 0.0, 'w': 0.0},
	'cleaning': {'r': 0.0, 'g': 0.02, 'b': 0.5, 'w': 0.0},
	'calibrating_z': {'r': 0.8, 'g': 0., 'b': 0.35, 'w': 0.0},
	'heating': {'r': 0.3, 'g': 0.18, 'b': 0.0, 'w': 0.0},
	'homing': {'r': 0.0, 'g': 0.6, 'b': 0.2, 'w': 0.0},
	'leveling': {'r': 0.5, 'g': 0.1, 'b': 0.4, 'w': 0.0},
	'meshing': {'r': 0.2, 'g': 1.0, 'b': 0.0, 'w': 0.0},
	'off': {'r': 0.0, 'g': 0.0, 'b': 0.0, 'w': 0.0},
	'printing': {'r': 1.0, 'g': 1.0, 'b': 1.0, 'w': 1.0},
	'standby': {'r': 0.01, 'g': 0.01, 'b': 0.01, 'w': 0.1}
	}
	}
variable_logo_led_name = "Hotend_LED"
variable_logo_idx = "3"
variable_nozzle_led_name = "Hotend_LED"
variable_nozzle_idx = "1,2"
variable_thermal_led_name = "Main_LED"
variable_thermal_idx = "1,2,3,4,5,6,7,8,9,10,21,22,23,24"
variable_control1_led_name = "LCD_BUTTON_LED"
variable_control1_idx = "1"
variable_thermal_config = {
	'extruder': {
	'cool_temp': 40,
	'leds': 'nozzle',
	},
	'heater_bed': {
	'cool_temp': 40,
	'leds': 'thermal',
	},
	}
gcode = 

[gcode_macro _set_sb_leds]
gcode = 
	{% set red = params.RED|default(0)|float %}
	{% set green = params.GREEN|default(0)|float %}
	{% set blue = params.BLUE|default(0)|float %}
	{% set white = params.WHITE|default(0)|float %}
	{% set led = params.LED|string %}
	{% set idx = (params.IDX|string).split(',') %}
	{% set transmit_last = params.TRANSMIT|default(1) %}
	
	{% for led_index in idx %}
	{% set transmit=transmit_last if loop.last else 0 %}
	set_led led={led} red={red} green={green} blue={blue} white={white} index={led_index} transmit={transmit}
	{% endfor %}

[gcode_macro _set_sb_leds_by_name]
gcode = 
	{% set leds_name = params.LEDS %}
	{% set color_name = params.COLOR %}
	{% set color = printer["gcode_macro _sb_vars"].colors[leds_name][color_name] %}
	{% set led = printer["gcode_macro _sb_vars"][leds_name + "_led_name"] %}
	{% set idx = printer["gcode_macro _sb_vars"][leds_name + "_idx"] %}
	{% set transmit = params.TRANSMIT|default(1) %}
	
	_set_sb_leds led={led} red={color.r} green={color.g} blue={color.b} white={color.w} idx="{idx}" transmit={transmit}

[gcode_macro _set_thermal_leds]
gcode = 
	{% set red = params.RED|default(0)|float %}
	{% set green = params.GREEN|default(0)|float %}
	{% set blue = params.BLUE|default(0)|float %}
	{% set white = params.WHITE|default(0)|float %}
	{% set led = printer["gcode_macro _sb_vars"].thermal_led_name %}
	{% set idx = printer["gcode_macro _sb_vars"].thermal_idx %}
	{% set transmit=params.TRANSMIT|default(1) %}
	
	_set_sb_leds led={led} red={red} green={green} blue={blue} white={white} idx="{idx}" transmit={transmit}

[gcode_macro _set_logo_leds]
gcode = 
	{% set red = params.RED|default(0)|float %}
	{% set green = params.GREEN|default(0)|float %}
	{% set blue = params.BLUE|default(0)|float %}
	{% set white = params.WHITE|default(0)|float %}
	{% set led = printer["gcode_macro _sb_vars"].logo_led_name %}
	{% set idx = printer["gcode_macro _sb_vars"].logo_idx %}
	{% set transmit=params.TRANSMIT|default(1) %}
	
	_set_sb_leds led={led} red={red} green={green} blue={blue} white={white} idx="{idx}" transmit={transmit}

[gcode_macro _set_nozzle_leds]
gcode = 
	{% set red = params.RED|default(0)|float %}
	{% set green = params.GREEN|default(0)|float %}
	{% set blue = params.BLUE|default(0)|float %}
	{% set white = params.WHITE|default(0)|float %}
	{% set led = printer["gcode_macro _sb_vars"].nozzle_led_name %}
	{% set idx = printer["gcode_macro _sb_vars"].nozzle_idx %}
	{% set transmit=params.TRANSMIT|default(1) %}
	
	_set_sb_leds led={led} red={red} green={green} blue={blue} white={white} idx="{idx}" transmit={transmit}

[gcode_macro set_thermal_leds_off]
gcode = 
	{% set transmit=params.TRANSMIT|default(1) %}
	_set_thermal_leds red=0 blue=0 green=0 white=0 transmit={transmit}

[gcode_macro set_logo_leds_off]
gcode = 
	{% set transmit=params.TRANSMIT|default(1) %}
	_set_logo_leds red=0 blue=0 green=0 white=0 transmit={transmit}

[gcode_macro set_nozzle_leds_on]
gcode = 
	{% set transmit=params.TRANSMIT|default(1) %}
	_set_sb_leds_by_name leds="nozzle" color="on" transmit={transmit}

[gcode_macro set_nozzle_leds_off]
gcode = 
	{% set transmit=params.TRANSMIT|default(1) %}
	_set_sb_leds_by_name leds="nozzle" color="off" transmit={transmit}

[gcode_macro status_off]
gcode = 
	set_logo_leds_off transmit=0
	set_thermal_leds_off transmit=0
	set_nozzle_leds_off

[gcode_macro status_ready]
gcode = 
	_set_sb_leds_by_name leds="logo" color="standby" transmit=1
	_set_sb_leds_by_name leds="thermal" color="standby" transmit=1
	_set_sb_leds_by_name leds="nozzle" color="standby" transmit=1

[gcode_macro status_busy]
gcode = 
	_set_sb_leds_by_name leds="logo" color="busy" transmit=1
	_set_sb_leds_by_name leds="thermal" color="busy" transmit=1
	set_nozzle_leds_on

[gcode_macro status_heating]
gcode = 
	_set_sb_leds_by_name leds="logo" color="heating" transmit=1
	_set_sb_leds_by_name leds="thermal" color="heating" transmit=1
	_set_sb_leds_by_name leds="nozzle" color="heating" transmit=1

[gcode_macro status_leveling]
gcode = 
	_set_sb_leds_by_name leds="logo" color="leveling" transmit=1
	_set_sb_leds_by_name leds="thermal" color="leveling" transmit=1
	set_nozzle_leds_on

[gcode_macro status_homing]
gcode = 
	_set_sb_leds_by_name leds="logo" color="homing" transmit=1
	_set_sb_leds_by_name leds="thermal" color="homing" transmit=1
	set_nozzle_leds_on

[gcode_macro status_cleaning]
gcode = 
	_set_sb_leds_by_name leds="logo" color="cleaning" transmit=1
	_set_sb_leds_by_name leds="thermal" color="cleaning" transmit=1
	set_nozzle_leds_on

[gcode_macro status_meshing]
gcode = 
	_set_sb_leds_by_name leds="logo" color="meshing" transmit=1
	_set_sb_leds_by_name leds="thermal" color="meshing" transmit=1
	set_nozzle_leds_on

[gcode_macro status_calibrating_z]
gcode = 
	_set_sb_leds_by_name leds="logo" color="calibrating_z" transmit=1
	_set_sb_leds_by_name leds="thermal" color="calibrating_z" transmit=1
	set_nozzle_leds_on

[gcode_macro status_printing]
gcode = 
	_set_sb_leds_by_name leds="logo" color="printing" transmit=1
	_set_sb_leds_by_name leds="thermal" color="printing" transmit=1
	set_nozzle_leds_on

[virtual_sdcard]
path = ~/printer_data/gcodes
on_error_gcode = CANCEL_PRINT

[pause_resume]
recover_velocity = 50.

[display_status]

[respond]
default_type = echo
default_prefix = 

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = CANCEL_PRINT_BASE
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set allow_park = client.park_at_cancel | default(false) | lower == 'true' %}
	{% set retract = client.cancel_retract | default(5.0) | abs %}
	
	{% set park_x = "" if (client.park_at_cancel_x | default(none) is none)
	else "X=" ~ client.park_at_cancel_x %}
	{% set park_y = "" if (client.park_at_cancel_y | default(none) is none)
	else "Y=" ~ client.park_at_cancel_y %}
	{% set custom_park = park_x | length > 0 or park_y | length > 0 %}
	
	
	{% if printer['gcode_macro RESUME'].restore_idle_timeout > 0 %}
	SET_IDLE_TIMEOUT TIMEOUT={printer['gcode_macro RESUME'].restore_idle_timeout}
	{% endif %}
	{% if (custom_park or not printer.pause_resume.is_paused) and allow_park %} _TOOLHEAD_PARK_PAUSE_CANCEL {park_x} {park_y} {% endif %}
	_CLIENT_RETRACT LENGTH={retract}
	TURN_OFF_HEATERS
	M106 S0
	{client.user_cancel_macro | default("")}
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=idle_state VALUE=False
	
	SET_PAUSE_NEXT_LAYER ENABLE=0
	SET_PAUSE_AT_LAYER ENABLE=0 LAYER=0
	CANCEL_PRINT_BASE

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = PAUSE_BASE
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set idle_timeout = client.idle_timeout | default(0) %}
	{% set temp = printer[printer.toolhead.extruder].target if printer.toolhead.extruder != '' else 0 %}
	{% set restore = False if printer.toolhead.extruder == ''
	else True  if params.RESTORE | default(1) | int == 1 else False %}
	
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=last_extruder_temp VALUE="{{'restore': restore, 'temp': temp}}"
	
	{% if idle_timeout > 0 %}
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=restore_idle_timeout VALUE={printer.configfile.settings.idle_timeout.timeout}
	SET_IDLE_TIMEOUT TIMEOUT={idle_timeout}
	{% endif %}
	PAUSE_BASE
	{client.user_pause_macro | default("")}
	_TOOLHEAD_PARK_PAUSE_CANCEL {rawparams}

[gcode_macro RESUME]
description = Resume while heat soaking results in the soaking phase being skipped, any complete callback is run
rename_existing = _HEAT_SOAK__BASE_RESUME
variable_last_extruder_temp = {'restore': False, 'temp': 0}
variable_restore_idle_timeout = 0
variable_idle_state = False
gcode = 
	HEAT_SOAK_RESUME ON_RESUME=_HEAT_SOAK__BASE_RESUME

[gcode_macro SET_PAUSE_NEXT_LAYER]
description = Enable a pause if the next layer is reached
gcode = 
	{% set pause_next_layer = printer['gcode_macro SET_PRINT_STATS_INFO'].pause_next_layer %}
	{% set ENABLE = params.ENABLE | default(1)|int != 0 %}
	{% set MACRO = params.MACRO | default(pause_next_layer.call, True) %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{ 'enable': ENABLE, 'call': MACRO }}"

[gcode_macro SET_PAUSE_AT_LAYER]
description = Enable/disable a pause if a given layer number is reached
gcode = 
	{% set pause_at_layer = printer['gcode_macro SET_PRINT_STATS_INFO'].pause_at_layer %}
	{% set ENABLE = params.ENABLE | int != 0 if params.ENABLE is defined
	else params.LAYER is defined %}
	{% set LAYER = params.LAYER | default(pause_at_layer.layer) | int %}
	{% set MACRO = params.MACRO | default(pause_at_layer.call, True) %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{ 'enable': ENABLE, 'layer': LAYER, 'call': MACRO }}"

[gcode_macro SET_PRINT_STATS_INFO]
rename_existing = SET_PRINT_STATS_INFO_BASE
description = Overwrite, to get pause_next_layer and pause_at_layer feature
variable_pause_next_layer = { 'enable': False, 'call': "PAUSE" }
variable_pause_at_layer = { 'enable': False, 'layer': 0, 'call': "PAUSE" }
gcode = 
	{% if pause_next_layer.enable %}
	RESPOND TYPE=echo MSG='{"%s, forced by pause_next_layer" % pause_next_layer.call}'
	{pause_next_layer.call}
	SET_PAUSE_NEXT_LAYER ENABLE=0
	{% elif pause_at_layer.enable and params.CURRENT_LAYER is defined and params.CURRENT_LAYER | int == pause_at_layer.layer %}
	RESPOND TYPE=echo MSG='{"%s, forced by pause_at_layer [%d]" % (pause_at_layer.call, pause_at_layer.layer)}'
	{pause_at_layer.call}
	SET_PAUSE_AT_LAYER ENABLE=0
	{% endif %}
	SET_PRINT_STATS_INFO_BASE {rawparams}

[gcode_macro _TOOLHEAD_PARK_PAUSE_CANCEL]
description = Helper: park toolhead used in PAUSE and CANCEL_PRINT
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set use_custom     = client.use_custom_pos | default(false) | lower == 'true' %}
	{% set custom_park_x  = client.custom_park_x | default(0.0) %}
	{% set custom_park_y  = client.custom_park_y | default(0.0) %}
	{% set park_dz        = client.custom_park_dz | default(2.0) | abs %}
	{% set sp_hop         = client.speed_hop | default(15) * 60 %}
	{% set sp_move        = client.speed_move | default(velocity) * 60 %}
	
	{% set origin    = printer.gcode_move.homing_origin %}
	{% set act       = printer.gcode_move.gcode_position %}
	{% set max       = printer.toolhead.axis_maximum %}
	{% set cone      = printer.toolhead.cone_start_z | default(max.z) %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	
	{% set z_min = params.Z_MIN | default(0) | float %}
	{% set z_park = [[(act.z + park_dz), z_min]|max, (max.z - origin.z)] | min %}
	{% set x_park = params.X       if params.X is defined
	else custom_park_x  if use_custom
	else 0.0            if round_bed
	else (max.x - 5.0) %}
	{% set y_park = params.Y       if params.Y is defined
	else custom_park_y  if use_custom
	else (max.y - 5.0)  if round_bed and z_park < cone
	else 0.0            if round_bed
	else (max.y - 5.0) %}
	
	_CLIENT_RETRACT
	{% if "xyz" in printer.toolhead.homed_axes %}
	G90
	G1 Z{z_park} F{sp_hop}
	G1 X{x_park} Y{y_park} F{sp_move}
	{% if not printer.gcode_move.absolute_coordinates %} G91 {% endif %}
	{% else %}
	RESPOND TYPE=echo MSG='Printer not homed'
	{% endif %}

[gcode_macro _CLIENT_EXTRUDE]
description = Extrudes, if the extruder is hot enough
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set use_fw_retract = (client.use_fw_retract | default(false) | lower == 'true') and (printer.firmware_retraction is defined) %}
	{% set length = params.LENGTH | default(client.unretract) | default(1.0) | float %}
	{% set speed = params.SPEED | default(client.speed_unretract) | default(35) %}
	{% set absolute_extrude = printer.gcode_move.absolute_extrude %}
	
	{% if printer.toolhead.extruder != '' %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if use_fw_retract %}
	{% if length < 0 %}
	G10
	{% else %}
	G11
	{% endif %}
	{% else %}
	M83
	G1 E{length} F{(speed | float | abs) * 60}
	{% if absolute_extrude %}
	M82
	{% endif %}
	{% endif %}
	{% else %}
	RESPOND TYPE=echo MSG='{"\"%s\" not hot enough" % printer.toolhead.extruder}'
	{% endif %}
	{% endif %}

[gcode_macro _CLIENT_RETRACT]
description = Retracts, if the extruder is hot enough
gcode = 
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set length = params.LENGTH | default(client.retract) | default(1.0) | float %}
	{% set speed = params.SPEED | default(client.speed_retract) | default(35) %}
	
	_CLIENT_EXTRUDE LENGTH=-{length | float | abs} SPEED={speed | float | abs}

[gcode_macro GET_TIMELAPSE_SETUP]
description = Print the Timelapse setup
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set output_txt = ["Timelapse Setup:"] %}
	{% set _dummy = output_txt.append("enable: %s" % tl.enable) %}
	{% set _dummy = output_txt.append("park: %s" % tl.park.enable) %}
	{% if tl.park.enable %}
	{% set _dummy = output_txt.append("park position: %s time: %s s" % (tl.park.pos, tl.park.time)) %}
	{% set _dummy = output_txt.append("park cord x:%s y:%s dz:%s" % (tl.park.coord.x, tl.park.coord.y, tl.park.coord.dz)) %}
	{% set _dummy = output_txt.append("travel speed: %s mm/s" % tl.speed.travel) %}
	{% endif %}
	{% set _dummy = output_txt.append("fw_retract: %s" % tl.extruder.fw_retract) %}
	{% if not tl.extruder.fw_retract %}
	{% set _dummy = output_txt.append("retract: %s mm speed: %s mm/s" % (tl.extruder.retract, tl.speed.retract)) %}
	{% set _dummy = output_txt.append("extrude: %s mm speed: %s mm/s" % (tl.extruder.extrude, tl.speed.extrude)) %}
	{% endif %}
	{% set _dummy = output_txt.append("verbose: %s" % tl.verbose) %}
	{action_respond_info(output_txt|join("\n"))}

[gcode_macro _SET_TIMELAPSE_SETUP]
description = Set user parameters for timelapse
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	{% set park = {'min'   : {'x': (min.x / 1.42)|round(3) if round_bed else min.x|round(3),
	'y': (min.y / 1.42)|round(3) if round_bed else min.y|round(3)},
	'max'   : {'x': (max.x / 1.42)|round(3) if round_bed else max.x|round(3),
	'y': (max.y / 1.42)|round(3) if round_bed else max.y|round(3)},
	'center': {'x': (max.x-(max.x-min.x)/2)|round(3),
	'y': (max.y-(max.y-min.y)/2)|round(3)}} %}
	
	{% if params.ENABLE %}
	{% if params.ENABLE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=enable VALUE={True if params.ENABLE|lower == 'true' else False}
	{% else %}
	{action_raise_error("ENABLE=%s not supported. Allowed values are [True, False]" % params.ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.VERBOSE %}
	{% if params.VERBOSE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=verbose VALUE={True if params.VERBOSE|lower == 'true' else False}
	{% else %}
	{action_raise_error("VERBOSE=%s not supported. Allowed values are [True, False]" % params.VERBOSE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_X %}
	{% if params.CUSTOM_POS_X|float >= min.x and params.CUSTOM_POS_X|float <= max.x %}
	{% set _dummy = tl.park.custom.update({'x':params.CUSTOM_POS_X|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_X=%s must be within [%s - %s]" % (params.CUSTOM_POS_X, min.x, max.x))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_Y %}
	{% if params.CUSTOM_POS_Y|float >= min.y and params.CUSTOM_POS_Y|float <= max.y %}
	{% set _dummy = tl.park.custom.update({'y':params.CUSTOM_POS_Y|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_Y=%s must be within [%s - %s]" % (params.CUSTOM_POS_Y, min.y, max.y))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_DZ %}
	{% if params.CUSTOM_POS_DZ|float >= min.z and params.CUSTOM_POS_DZ|float <= max.z %}
	{% set _dummy = tl.park.custom.update({'dz':params.CUSTOM_POS_DZ|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_DZ=%s must be within [%s - %s]" % (params.CUSTOM_POS_DZ, min.z, max.z))}
	{% endif %}
	{% endif %}
	{% if params.PARK_ENABLE %}
	{% if params.PARK_ENABLE|lower is in ['true', 'false'] %}
	{% set _dummy = tl.park.update({'enable':True if params.PARK_ENABLE|lower == 'true' else False}) %}
	{% else %}
	{action_raise_error("PARK_ENABLE=%s not supported. Allowed values are [True, False]" % params.PARK_ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.PARK_POS %}
	{% if params.PARK_POS|lower is in ['center','front_left','front_right','back_left','back_right','custom','x_only','y_only'] %}
	{% set dic = {'center'      : {'x': park.center.x   , 'y': park.center.y   , 'dz': 1                },
	'front_left'  : {'x': park.min.x      , 'y': park.min.y      , 'dz': 0                },
	'front_right' : {'x': park.max.x      , 'y': park.min.y      , 'dz': 0                },
	'back_left'   : {'x': park.min.x      , 'y': park.max.y      , 'dz': 0                },
	'back_right'  : {'x': park.max.x      , 'y': park.max.y      , 'dz': 0                },
	'custom'      : {'x': tl.park.custom.x, 'y': tl.park.custom.y, 'dz': tl.park.custom.dz},
	'x_only'      : {'x': tl.park.custom.x, 'y': 'none'          , 'dz': tl.park.custom.dz},
	'y_only'      : {'x': 'none'          , 'y': tl.park.custom.y, 'dz': tl.park.custom.dz}} %}
	{% set _dummy = tl.park.update({'pos':params.PARK_POS|lower}) %}
	{% set _dummy = tl.park.update({'coord':dic[tl.park.pos]}) %}
	{% else %}
	{action_raise_error("PARK_POS=%s not supported. Allowed values are [CENTER, FRONT_LEFT, FRONT_RIGHT, BACK_LEFT, BACK_RIGHT, CUSTOM, X_ONLY, Y_ONLY]"
	% params.PARK_POS|upper)}
	{% endif %}
	{% endif %}
	{% if params.PARK_TIME %}
	{% if params.PARK_TIME|float >= 0.0 %}
	{% set _dummy = tl.park.update({'time':params.PARK_TIME|float|round(3)}) %}
	{% else %}
	{action_raise_error("PARK_TIME=%s must be a positive number" % params.PARK_TIME)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=park VALUE="{tl.park}"
	{% if params.TRAVEL_SPEED %}
	{% if params.TRAVEL_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'travel':params.TRAVEL_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("TRAVEL_SPEED=%s must be larger than 0" % params.TRAVEL_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_SPEED %}
	{% if params.RETRACT_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'retract':params.RETRACT_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_SPEED=%s must be larger than 0" % params.RETRACT_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.EXTRUDE_SPEED %}
	{% if params.EXTRUDE_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'extrude':params.EXTRUDE_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_SPEED=%s must be larger than 0" % params.EXTRUDE_SPEED)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=speed VALUE="{tl.speed}"
	{% if params.EXTRUDE_DISTANCE %}
	{% if params.EXTRUDE_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'extrude':params.EXTRUDE_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_DISTANCE=%s must be specified as positiv number" % params.EXTRUDE_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_DISTANCE %}
	{% if params.RETRACT_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'retract':params.RETRACT_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_DISTANCE=%s must be specified as positiv number" % params.RETRACT_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.FW_RETRACT %}
	{% if params.FW_RETRACT|lower is in ['true', 'false'] %}
	{% if 'firmware_retraction' in printer.configfile.settings %}
	{% set _dummy = tl.extruder.update({'fw_retract': True if params.FW_RETRACT|lower == 'true' else False}) %}
	{% else %}
	{% set _dummy = tl.extruder.update({'fw_retract':False}) %}
	{% if params.FW_RETRACT|capitalize == 'True' %}
	{action_raise_error("[firmware_retraction] not defined in printer.cfg. Can not enable fw_retract")}
	{% endif %}
	{% endif %}
	{% else %}
	{action_raise_error("FW_RETRACT=%s not supported. Allowed values are [True, False]" % params.FW_RETRACT|capitalize)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=extruder VALUE="{tl.extruder}"
	{% if printer.configfile.settings['gcode_macro pause'] is defined %}
	{% set _dummy = tl.macro.update({'pause': printer.configfile.settings['gcode_macro pause'].rename_existing}) %}
	{% endif %}
	{% if printer.configfile.settings['gcode_macro resume'] is defined %}
	{% set _dummy = tl.macro.update({'resume': printer.configfile.settings['gcode_macro resume'].rename_existing}) %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=macro VALUE="{tl.macro}"

[gcode_macro TIMELAPSE_TAKE_FRAME]
description = Take Timelapse shoot
variable_enable = False
variable_takingframe = False
variable_park = {'enable': False,
	'pos'   : 'center',
	'time'  : 0.1,
	'custom': {'x': 0, 'y': 0, 'dz': 0},
	'coord' : {'x': 0, 'y': 0, 'dz': 0}}
variable_extruder = {'fw_retract': False,
	'retract': 1.0,
	'extrude': 1.0}
variable_speed = {'travel': 100,
	'retract': 15,
	'extrude': 15}
variable_verbose = True
variable_check_time = 0.5
variable_restore = {'absolute': {'coordinates': True, 'extrude': True}, 'speed': 1500, 'e':0, 'factor': {'speed': 1.0, 'extrude': 1.0}}
variable_macro = {'pause': 'PAUSE', 'resume': 'RESUME'}
variable_is_paused = False
gcode = 
	{% set hyperlapse = True if params.HYPERLAPSE and params.HYPERLAPSE|lower =='true' else False %}
	{% if enable %}
	{% if (hyperlapse and printer['gcode_macro HYPERLAPSE'].run) or
	(not hyperlapse and not printer['gcode_macro HYPERLAPSE'].run) %}
	{% if park.enable %}
	{% set pos = {'x': 'X' + park.coord.x|string if park.pos != 'y_only' else '',
	'y': 'Y' + park.coord.y|string if park.pos != 'x_only' else '',
	'z': 'Z'+ [printer.gcode_move.gcode_position.z + park.coord.dz, printer.toolhead.axis_maximum.z]|min|string} %}
	{% set restore = {'absolute': {'coordinates': printer.gcode_move.absolute_coordinates,
	'extrude'    : printer.gcode_move.absolute_extrude},
	'speed'   : printer.gcode_move.speed,
	'e'       : printer.gcode_move.gcode_position.e,
	'factor'  : {'speed'  : printer.gcode_move.speed_factor,
	'extrude': printer.gcode_move.extrude_factor}} %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=restore VALUE="{restore}"
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, minimum extruder temperature not reached!")}{% endif %}
	{% else %}
	{% if extruder.fw_retract %}
	G10
	{% else %}
	M83
	G0 E-{extruder.retract} F{speed.retract * 60}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=True
	{macro.pause}
	SET_GCODE_OFFSET X=0 Y=0
	G90
	{% if "xyz" not in printer.toolhead.homed_axes %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, axis not homed yet!")}{% endif %}
	{% else %}
	G0 {pos.x} {pos.y} {pos.z} F{speed.travel * 60}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=takingframe VALUE=True
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={check_time}
	M400
	{% endif %}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE={hyperlapse}
	{% endif %}
	{% else %}
	{% if verbose %}{action_respond_info("Timelapse: disabled, take frame ignored")}{% endif %}
	{% endif %}

[gcode_macro _TIMELAPSE_NEW_FRAME]
description = action call for timelapse shoot. must be a seperate macro
gcode = 
	{action_call_remote_method("timelapse_newframe",
	macropark=printer['gcode_macro TIMELAPSE_TAKE_FRAME'].park,
	hyperlapse=params.HYPERLAPSE)}

[delayed_gcode _WAIT_TIMELAPSE_TAKE_FRAME]
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set factor = {'speed': printer.gcode_move.speed_factor, 'extrude': printer.gcode_move.extrude_factor} %}
	{% if tl.takingframe %}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={tl.check_time}
	{% else %}
	{tl.macro.resume} VELOCITY={tl.speed.travel}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=False
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{action_respond_info("Timelapse: Warning minimum extruder temperature not reached!")}
	{% else %}
	{% if tl.extruder.fw_retract %}
	G11
	{% else %}
	G0 E{tl.extruder.extrude} F{tl.speed.extrude * 60}
	G0 F{tl.restore.speed}
	{% if tl.restore.absolute.extrude %}
	M82
	G92 E{tl.restore.e}
	{% endif %}
	{% endif %}
	{% endif %}
	{% if tl.restore.factor.speed   != factor.speed   %} M220 S{(factor.speed*100)|round(0)}   {% endif %}
	{% if tl.restore.factor.extrude != factor.extrude %} M221 S{(factor.extrude*100)|round(0)} {% endif %}
	{% if not tl.restore.absolute.coordinates %} G91 {% endif %}
	{% endif %}

[gcode_macro HYPERLAPSE]
description = Start/Stop a hyperlapse recording
variable_cycle = 0
variable_run = False
gcode = 
	{% set cycle = params.CYCLE|default(30)|int %}
	{% if params.ACTION and params.ACTION|lower == 'start' %}
	{action_respond_info("Hyperlapse: frames started (Cycle %d sec)" % cycle)}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=True
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=cycle VALUE={cycle}
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True
	{% elif params.ACTION and params.ACTION|lower == 'stop' %}
	{% if run %}{action_respond_info("Hyperlapse: frames stopped")}{% endif %}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=False
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION=0
	{% else %}
	{action_raise_error("Hyperlapse: No valid input parameter
	Use:
	- HYPERLAPSE ACTION=START [CYCLE=time]
	- HYPERLAPSE ACTION=STOP")}
	{% endif %}

[delayed_gcode _HYPERLAPSE_LOOP]
gcode = 
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={printer["gcode_macro HYPERLAPSE"].cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True

[gcode_macro TIMELAPSE_RENDER]
description = Render Timelapse video and wait for the result
variable_render = False
variable_run_identifier = 0
gcode = 
	{action_respond_info("Timelapse: Rendering started")}
	{action_call_remote_method("timelapse_render", byrendermacro="True")}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=render VALUE=True
	{printer.configfile.settings['gcode_macro pause'].rename_existing}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5

[delayed_gcode _WAIT_TIMELAPSE_RENDER]
gcode = 
	{% set ri = printer['gcode_macro TIMELAPSE_RENDER'].run_identifier % 4 %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=run_identifier VALUE={ri + 1}
	{% if printer['gcode_macro TIMELAPSE_RENDER'].render %}
	M117 Rendering {['-','\\','|','/'][ri]}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5
	{% else %}
	{action_respond_info("Timelapse: Rendering finished")}
	M117
	{printer.configfile.settings['gcode_macro resume'].rename_existing}
	{% endif %}

[gcode_macro TEST_STREAM_DELAY]
description = Helper macro to find stream and park delay
gcode = 
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set act = printer.toolhead.position %}
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% if act.z > 5.0 %}
	G0 X{min.x + 5.0} F{tl.speed.travel|int * 60}
	G0 X{(max.x-min.x)/2}
	G4 P{tl.park.time|float * 1000}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE=FALSE
	G0 X{max.x - 5.0}
	{% else %}
	{action_raise_error("Toolhead z %.3f to low. Please place head above z = 5.0" % act.z)}
	{% endif %}

[gcode_macro HEAT_SOAK]
description = Wait for a temperature sensor to reach thermal equilibrium
variable_last_temp = 0
variable_last_soak_temp_rate = None
variable_temp_history = None
variable_smoothed_temp_history = None
variable_stage = "done"
variable_total_time_elapsed = 0
variable_soak_time_remaining = 30
variable_check_interval = 1
variable_heating_report_interval = 2
variable_soaking_report_interval = 5
variable_heater_sensor = None
variable_soaker_sensor = None
variable_target_temp = 0.0
variable_min_soak_temp = 0
variable_target_rate = 0.3
variable_complete = None
variable_cancel = None
variable_temp_smooth_time = 4.0
variable_rate_smooth_time = 20.0
variable_resume_trigger = False
variable_was_print_active = False
gcode = 
	{ action_respond_info( "Heat Soak starting" )}
	
	
	{% set SOAKER = params.SOAKER | string %}
	{% set RATE = params.RATE | default(0.3) | float %}
	{% set SOAK_TEMP = params.SOAK_TEMP | default(0.0) | float %}
	{% set HEATER = (params.HEATER | string) %}
	{% set TARGET = params.TARGET | default(0) | float %}
	{% set TIMEOUT = (params.TIMEOUT | default(30) | int) * 60 %}
	{% set TEMP_SMOOTH = params.TEMP_SMOOTH | default(4.0) | float %}
	{% set RATE_SMOOTH = params.RATE_SMOOTH | default(20) | float %}
	{% set COMPLETE  = (params.COMPLETE | string) %}
	{% set CANCEL  = (params.CANCEL | string) %}
	{% set HEATING_REPORT_INTERVAL  = params.HEATING_REPORT_INTERVAL | default(2) | int %}
	{% set SOAKING_REPORT_INTERVAL  = params.SOAKING_REPORT_INTERVAL | default(5) | int %}
	
	
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=heater_sensor           VALUE="{HEATER | pprint}"
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=target_temp             VALUE={TARGET}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=min_soak_temp           VALUE={SOAK_TEMP}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=soaker_sensor           VALUE="{SOAKER | pprint}"
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=target_rate             VALUE={RATE}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=soak_time_remaining     VALUE={TIMEOUT}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=complete                VALUE="'{COMPLETE}'"
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=cancel                  VALUE="'{CANCEL}'"
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=temp_smooth_time        VALUE={TEMP_SMOOTH}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=rate_smooth_time        VALUE={RATE_SMOOTH}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=heating_report_interval VALUE={HEATING_REPORT_INTERVAL}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=soaking_report_interval VALUE={SOAKING_REPORT_INTERVAL}
	
	
	{% set soak_temp = printer[SOAKER].temperature %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=last_temp               VALUE={soak_temp}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=temp_history            VALUE="{[soak_temp] | pprint}"
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=smoothed_temp_history   VALUE="{[] | pprint}"
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=total_time_elapsed      VALUE=0
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=last_soak_temp_rate     VALUE=None
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=check_interval          VALUE=1.0
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=resume_trigger          VALUE=False
	{% set is_print_active = printer['virtual_sdcard'].is_active or printer['virtual_sdcard'].file_position != 0.0 %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=was_print_active        VALUE={is_print_active}
	
	
	{% if (HEATER and TARGET != 0.0) %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=stage               VALUE="'heating'"
	SET_HEATER_TEMPERATURE HEATER={HEATER} TARGET={TARGET}
	{% else %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=stage               VALUE="'soaking'"
	{% endif %}
	
	
	{% if is_print_active %}
	PAUSE
	{% endif %}
	
	UPDATE_DELAYED_GCODE ID=_heat_soaker DURATION={check_interval}

[gcode_macro STOP_HEAT_SOAK]
description = stops heat soak activity without running any callbacks
gcode = 
	UPDATE_DELAYED_GCODE ID=_heat_soaker DURATION=0
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=stage VALUE="'done'"

[gcode_macro CANCEL_HEAT_SOAK]
description = cancels an in-progress HEAT_SOAK cycle and runs the cancel callback
gcode = 
	
	{% set heat_soak = printer['gcode_macro HEAT_SOAK'] %}
	{% set stage = heat_soak.stage %}
	{% if stage in ("heating", "soaking") %}
	STOP_HEAT_SOAK
	{% if heat_soak.cancel %}
	{heat_soak.cancel}
	{% endif %}
	{% endif %}

[gcode_macro HEAT_SOAK_RESUME]
description = Resume while heat soaking results in the soaking phase being skipped, any complete callback is run
gcode = 
	{% set ON_RESUME = (params.ON_RESUME | default("_HEAT_SOAK__BASE_RESUME")) | string %}
	{% set heat_soak = printer['gcode_macro HEAT_SOAK'] %}
	{% set stage = heat_soak.stage %}
	{% if stage == "heating"  %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=resume_trigger VALUE=True
	{% elif stage == "soaking" %}
	STOP_HEAT_SOAK
	{% if heat_soak.complete %}
	{heat_soak.complete}
	{% endif %}
	{ON_RESUME} {% for p in params %}{'%s=%s ' % (p, params[p])}{% endfor %}
	{% else %}
	{ON_RESUME} {% for p in params %}{'%s=%s ' % (p, params[p])}{% endfor %}
	{% endif %}

[delayed_gcode _heat_soaker]
gcode = 
	{% set heat_soak = printer['gcode_macro HEAT_SOAK'] %}
	
	
	
	
	{% set file_position_is_zero = (printer['virtual_sdcard'].file_position == 0.0 )%}
	{% if heat_soak.was_print_active and file_position_is_zero %}
	STOP_HEAT_SOAK
	{action_respond_info("HEAT_SOAK aborted. Detected a change in virtual_sdcard print state. Call STOP_HEAT_SOAK from CANCEL_PRINT to stop seeing this error message.")}
	{% endif %}
	
	
	{% if not file_position_is_zero and not printer['pause_resume'].is_paused %}
	STOP_HEAT_SOAK
	{action_respond_info("HEAT_SOAK aborted. Print is no longer paused. Call STOP_HEAT_SOAK or HEAT_SOAK_RESUME from your RESUME macro to stop seeing this error message.")}
	{% endif %}
	
	
	{% set total_time_elapsed = heat_soak.total_time_elapsed + heat_soak.check_interval %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=total_time_elapsed VALUE={ total_time_elapsed }
	
	{% set soaker_sensor = printer[heat_soak.soaker_sensor] %}
	{% set soak_temp = soaker_sensor.temperature %}
	{% if heat_soak.heater_sensor %}
	{% set heater_sensor = printer[heat_soak.heater_sensor] %}
	{% set heater_temp = heater_sensor.temperature | round(1) %}
	{% endif %}
	{% set stage = heat_soak.stage %}
	
	
	{% set temp_history = heat_soak.temp_history %}
	{% set smoothed_temp_history = heat_soak.smoothed_temp_history %}
	{% set temp_diff = soak_temp - (temp_history | last) %}
	{% set _ = temp_history.append(soak_temp) %}
	{% set soak_temp_smoothed = None %}
	{% set slope = None %}
	{% if (temp_history | length) > heat_soak.temp_smooth_time %}
	{% set temp_history = temp_history[1:] %}
	
	{% set soak_temp_smoothed = ((temp_history | sum) / (temp_history | length)) %}
	
	{% set _ = smoothed_temp_history.append(soak_temp_smoothed) %}
	
	{% set soak_temp_smoothed = soak_temp_smoothed | round(3) %}
	
	{% if (smoothed_temp_history | length) > heat_soak.rate_smooth_time %}
	{% set smoothed_temp_history = smoothed_temp_history[1:] %}
	
	
	
	
	{% set count = (smoothed_temp_history | length) %}
	{% set times = range(0, count, 1) %}
	{% set x_sum = (times | sum) | float %}
	{% set y_sum = (smoothed_temp_history | sum) | float %}
	
	
	{% set xx_sum_arr = [] %}
	{% set xy_sum_arr = [] %}
	{% for i in times %}
	{% set x = times[i] %}
	{% set y = smoothed_temp_history[i] %}
	{% set _ = xx_sum_arr.append(x * x) %}
	{% set _ = xy_sum_arr.append(x * y) %}
	{% endfor %}
	{% set xx_sum = (xx_sum_arr | sum) | float %}
	{% set xy_sum = (xy_sum_arr | sum) | float %}
	
	{% set slope = (60.0 * ((count | float * xy_sum) - (x_sum * y_sum)) / ((count | float * xx_sum) - (x_sum * x_sum))) | round(3) %}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=temp_history VALUE="{(temp_history | pprint | replace("\n", ""))}"
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=smoothed_temp_history VALUE="{(smoothed_temp_history | pprint | replace("\n", ""))}"
	
	
	{% if stage == "heating" %}
	{% if heater_temp < heat_soak.target_temp %}
	{% if total_time_elapsed % heat_soak.heating_report_interval == 0 %}
	{% set message = "Heating -- %.1fC / %.1fC -- %.1fm elapsed" % (heater_temp, heat_soak.target_temp, total_time_elapsed / 60.0) %}
	M117 {message}
	{action_respond_info(message)}
	{% endif %}
	{% else %}
	{action_respond_info("Heating completed after ~%.1fm, starting heat soak phase." % (total_time_elapsed / 60.0))}
	
	{% set stage = "done" if heat_soak.resume_trigger else "soaking" %}
	
	{% set total_time_elapsed = 0 %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=total_time_elapsed VALUE={ total_time_elapsed }
	{% endif %}
	{% endif %}
	
	
	{% if stage == "soaking" %}
	
	{% set soak_time_remaining = [heat_soak.soak_time_remaining - heat_soak.check_interval, 0] | max %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=soak_time_remaining VALUE={ soak_time_remaining }
	
	
	{% if soak_time_remaining <= 0 %}
	{action_respond_info("Heat soak timed out after ~%.1fm" % (total_time_elapsed / 60.0))}
	{% set stage = "cancel" %}
	
	{% elif slope is none or soak_temp_smoothed is none %}
	{% if total_time_elapsed % heat_soak.soaking_report_interval == 0 %}
	
	{% set message = "Soaking -- gathering data -- %.1fm remaining" % (soak_time_remaining / 60.0) %}
	M117 { message }
	{action_respond_info(message)}
	{% endif %}
	
	{% elif (slope > heat_soak.target_rate) or (heat_soak.min_soak_temp > 0 and soak_temp_smoothed < heat_soak.min_soak_temp) %}
	{% if total_time_elapsed % heat_soak.soaking_report_interval == 0 %}
	{% set format_vars = [
	soak_temp_smoothed | float,
	(heat_soak.min_soak_temp | float | round(0) | string) if (heat_soak.min_soak_temp > 0) else "--",
	slope,
	heat_soak.target_rate,
	soak_time_remaining / 60.0
	] %}
	{% set message = "Soaking -- temp: {0:.1f}C / {1}C -- rate: {2:.3f}C/m / {3:.3f}C/m -- {4:.1f}m remaining".format(*format_vars) %}
	M117 { message }
	{action_respond_info(message)}
	{% endif %}
	
	{% else %}
	{action_respond_info("Heat soak complete after ~%.1fm at %.3fC/m / %.1fC" % (total_time_elapsed / 60.0, slope, soak_temp))}
	{% set stage = "done" %}
	{% endif %}
	{% endif %}
	
	
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=stage VALUE="'{stage}'"
	
	{% if stage in ("done", "cancel") %}
	STOP_HEAT_SOAK
	{% if stage == "cancel" %}
	{% if heat_soak.cancel %}
	{heat_soak.cancel}
	{% elif printer['virtual_sdcard'].is_active %}
	CANCEL_PRINT
	{% endif %}
	{% else %}
	{% if heat_soak.complete %}
	{heat_soak.complete}
	{% endif %}
	{% if printer['pause_resume'].is_paused  %}
	RESUME
	{% endif %}
	{% endif %}
	{% else %}
	
	UPDATE_DELAYED_GCODE ID=_heat_soaker DURATION={ heat_soak.check_interval }
	
	G4 P1
	{% endif %}
	
	
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=stage VALUE="'{stage}'"

[gcode_macro PRINT_WARMUP]
description = Perform initial homing and heating tasks
gcode = 
	{% set EXTRUDER_TEMP = params.EXTRUDER_TEMP | default(190) | float %}
	{% set BED_TEMP = params.BED_TEMP | default(60) | float %}
	
	
	M104 S{EXTRUDER_TEMP * 0.75}
	M140 S{BED_TEMP}
	G32
	
	
	HEAT_SOAK HEATER='heater_bed' TARGET={BED_TEMP} SOAKER='temperature_sensor top_bed' SOAK_TEMP={BED_TEMP * 0.80}

[gcode_macro M106]
rename_existing = M106.1
gcode = 
	{% if params.P is defined and params.P|int > 0 %}
	{% if params.P|int == 1 %}
	M106.1 S{params.S|int}
	{% endif %}
	{% if params.P|int == 2 %}
	SET_FAN_SPEED FAN=exhaust_fan SPEED={(params.S|int / 255 )}
	{% endif %}
	{% if params.P|int == 3 %}
	SET_FAN_SPEED FAN=Air_Scrubber SPEED={(params.S|int / 255 )}
	{% endif %}
	{% else %}
	M106.1 S{params.S|int}
	{% endif %}

[gcode_macro M300]
gcode = 
	
	{% set S = params.S|default(1000)|int %}
	
	{% set P = params.P|default(100)|int %}
	SET_PIN PIN=_BEEPER_pin VALUE=0.5 CYCLE_TIME={ 1.0/S if S > 0 else 1 }
	G4 P{P}
	SET_PIN PIN=_BEEPER_pin VALUE=0

[gcode_macro M600]
gcode = 
	PAUSE
	M117 Colour Change Macro
	Change_FILAMENT_UNLOAD
	M117 Load new Filament
	PLAY_TONE l=5

[gcode_macro M601]
gcode = 
	PAUSE
	M117 Printer Paused
	PLAY_TONE l=5

[gcode_macro Rescan_Bed]
gcode = 
	G28
	bed_mesh_calibrate
	BED_MESH_PROFILE SAVE="400custom"
	SAVE_CONFIG

[gcode_macro UNLOAD_FILAMENT]
variable_unloading_speed_start = 80
variable_unloading_speed = 20
variable_cooling_tube_position = 35
variable_cooling_tube_length = 10
variable_initial_cooling_speed = 10
variable_final_cooling_speed = 50
variable_cooling_moves = 4
gcode = 
	{% set UNLOADING_SPEED_START = params.UNLOADING_SPEED_START|default(printer['gcode_macro UNLOAD_FILAMENT_FORM_TIP']['unloading_speed_start']) %}
	{% set UNLOADING_SPEED = params.UNLOADING_SPEED|default(printer['gcode_macro UNLOAD_FILAMENT_FORM_TIP']['unloading_speed']) %}
	{% set COOLING_TUBE_LENGTH = params.COOLING_TUBE_LENGTH|default(printer['gcode_macro UNLOAD_FILAMENT_FORM_TIP']['cooling_tube_length']) %}
	{% set COOLING_TUBE_POSITION = params.COOLING_TUBE_POSITION|default(printer['gcode_macro UNLOAD_FILAMENT_FORM_TIP']['cooling_tube_position']) %}
	{% set INITIAL_COOLING_SPEED = params.INITIAL_COOLING_SPEED|default(printer['gcode_macro UNLOAD_FILAMENT_FORM_TIP']['initial_cooling_speed']) %}
	{% set FINAL_COOLING_SPEED = params.FINAL_COOLING_SPEED|default(printer['gcode_macro UNLOAD_FILAMENT_FORM_TIP']['final_cooling_speed']) %}
	{% set COOLING_MOVES = params.COOLING_MOVES|default(printer['gcode_macro UNLOAD_FILAMENT_FORM_TIP']['cooling_moves']) %}
	SAVE_GCODE_STATE NAME=load_state
	M117 Heating-
	M104 S205
	G28
	M109 S210
	M117 Unloading...
	M83
	G1 X105 Y0 Z80
	SET_PRESSURE_ADVANCE ADVANCE=0
	{% set TOTAL_RETRACTION_DISTANCE = COOLING_TUBE_POSITION|float + COOLING_TUBE_LENGTH|float / 2 - 15 %}
	G1 E-15 F{1.0 * UNLOADING_SPEED_START|float * 60}
	G1 E-{0.7 * TOTAL_RETRACTION_DISTANCE} F{1.0 * UNLOADING_SPEED|float * 60}
	G1 E-{0.2 * TOTAL_RETRACTION_DISTANCE} F{0.5 * UNLOADING_SPEED|float * 60}
	G1 E-{0.1 * TOTAL_RETRACTION_DISTANCE} F{0.3 * UNLOADING_SPEED|float * 60}
	{% set SPEED_INC = (FINAL_COOLING_SPEED|float - INITIAL_COOLING_SPEED|float) / (2 * COOLING_MOVES|float - 1) %}
	{% for move in range(COOLING_MOVES|int) %}
	G1 E{COOLING_TUBE_LENGTH} F{(INITIAL_COOLING_SPEED|float + SPEED_INC*move*2) * 60}
	G1 E-{COOLING_TUBE_LENGTH} F{(INITIAL_COOLING_SPEED|float + SPEED_INC*(move*2+1)) * 60}
	{% endfor %}
	G1 E-300 F3000
	G1 E-300 F3000
	G1 E-100 F1000
	M82
	M117 Sucess!
	RESTORE_GCODE_STATE NAME=load_state MOVE=1

[delayed_gcode POWER_ON_PRINTER]
initial_duration = 1
gcode = 
	PLAY_TONE l=1

[gcode_macro PLAY_TONE]
gcode = 
	{% set l = params.L|default(0)|int %}
	
	{% if l == 1 %}
	M300 P184 S392
	M300 P184 S523
	M300 P187 S659
	M300 P417 S784
	M300 P139 S659
	M300 P400 S784
	
	{% elif l == 2 %}
	M300 P146 S494
	M300 P97 S698
	M300 P157 S0
	M300 P132 S698
	M300 P174 S698
	M300 P168 S659
	M300 P176 S587
	M300 P134 S523
	M300 P95 S330
	M300 P31 S0
	
	{% elif l == 3 %}
	M300 P100 S659
	M300 P200 S659
	M300 P99 S659
	M300 P101 S0
	M300 P100 S523
	M300 P99 S659
	M300 P101 S0
	M300 P199 S784
	M300 P201 S0
	M300 P199 S392
	{% elif l == 4 %}
	M300 P353 S330
	M300 P353 S330
	M300 P353 S349
	M300 P353 S392
	M300 P353 S392
	M300 P353 S349
	M300 P353 S330
	M300 P353 S294
	M300 P353 S262
	M300 P353 S262
	M300 P353 S294
	M300 P353 S330
	M300 P529 S330
	M300 P176 S294
	M300 P706 S294
	{% else %}
	M300 P100 S0
	{% endif %}

[gcode_macro END_PRINT]
gcode = 
	
	{% set th = printer.toolhead %}
	{% set x_safe = th.position.x + 20 * (1 if th.axis_maximum.x - th.position.x > 20 else -1) %}
	{% set y_safe = th.position.y + 20 * (1 if th.axis_maximum.y - th.position.y > 20 else -1) %}
	{% set z_safe = [th.position.z + 50, th.axis_maximum.z]|min %}
	SAVE_GCODE_STATE NAME=STATE_PRINT_END
	M400
	G92 E0
	G1 E-5.0 F1800
	TURN_OFF_HEATERS
	G90
	G0 X{x_safe} Y{y_safe} Z{z_safe} F30000
	
	G0 X{th.axis_maximum.x//2} Y{th.axis_maximum.y} F30000
	BED_MESH_CLEAR
	RESTORE_GCODE_STATE NAME=STATE_PRINT_END
	
	SET_LED LED=case_light WHITE=0.25
	UPDATE_DELAYED_GCODE ID=filter_off DURATION=180
	PLAY_TONE l=2

[gcode_macro PRINT_START]
gcode = 
	
	{% set fct = {'ASA': 30, 'ABS': 50, 'NYLON': 35, 'PLA': 0, 'PC': 50, 'PETG': 30 } %}
	{% set ADAPTIVE_bed = params.ADAPTIVEBED|default("2")|int %}
	{% set MESH_bed = params.MESHbed|default("NONE") %}
	{% set skipheatsoak = params.skipheatsoak|default("0") %}
	{% set target_bed = params.BED|int %}
	{% set target_extruder = params.EXTRUDER|int %}
	{% set target_chamber = params.CHAMBER|default("0")|int %}
	{% set filament = params.filament|default("NONE") %}
	{% if filament != 'NONE' %}
	{% set target_chamber = fct[filament] %}
	{% endif %}
	{% set x_wait = printer.toolhead.axis_maximum.x|float / 2 %}
	{% set y_wait = printer.toolhead.axis_maximum.y|float / 2 %}
	
	
	STATUS_HOMING
	G28
	G90
	
	
	BED_MESH_CLEAR
	
	SET_FAN_SPEED FAN=Air_Scrubber SPEED=1
	
	SET_DISPLAY_TEXT MSG="Bed: {target_bed}c"
	STATUS_HEATING
	G1 X{x_wait} Y{y_wait} Z15 F9000
	M190 S{target_bed}
	{% if skipheatsoak == 0 %}
	HEAT_SOAK HEATER='heater_bed' TARGET={target_bed} SOAKER='temperature_sensor top_bed' SOAK_TEMP={target_bed * 0.80}
	{% endif %}
	
	SET_DISPLAY_TEXT MSG="Hotend: 150c"
	M109 S150
	SET_DISPLAY_TEXT MSG="Hotend: {target_extruder}c"
	M104 S{target_extruder}
	
	
	SET_DISPLAY_TEXT MSG="Z-tilt adjust"
	STATUS_LEVELING
	Z_TILT_ADJUST
	G28 Z
	
	
	
	
	
	
	
	
	{% if ADAPTIVE_bed == 99 %}
	{% if MESH_bed != "NONE" %}
	BED_MESH_CLEAR
	STATUS_MESHING
	SET_DISPLAY_TEXT MSG="Loading Mesh {MESH_bed}"
	BED_MESH_PROFILE LOAD="{MESH_bed}"
	{% endif %}
	{% else %}
	BED_MESH_CLEAR
	SET_DISPLAY_TEXT MSG="Adaptive Bed mesh"
	STATUS_MESHING
	bed_mesh_calibrate ADAPTIVE=1 ADAPTIVE_MARGIN={ADAPTIVE_bed}
	{% endif %}
	
	
	
	
	
	
	
	
	
	SET_DISPLAY_TEXT MSG="Hotend: {target_extruder}c"
	STATUS_HEATING
	G1 X{x_wait} Y{y_wait} Z15 F9000
	M107
	M109 S{target_extruder}
	SET_LED LED=case_light WHITE=1
	
	
	SET_DISPLAY_TEXT MSG="Printer goes brr"
	PLAY_TONE l=3
	STATUS_PRINTING
	G0 X0 Y1 F10000
	G0 Z0.3
	G91
	G1 X150 E35 F1000
	G90

[gcode_macro LOAD_FILAMENT]
gcode = 
	SAVE_GCODE_STATE NAME=unload_state
	M117 Heating+
	M104 S205
	HOME
	M109 S205
	M117 Unloading...
	M83
	
	G1 E200 F3000
	G1 E200 F3000
	G1 E250 F3000
	G1 E20 F120
	
	G1 E-5
	M82
	RESTORE_GCODE_STATE NAME=unload_state MOVE=1

[delayed_gcode DISABLEFILAMENTSENSOR]
initial_duration = 1
gcode = 
	SET_FILAMENT_SENSOR SENSOR=filament_sensor ENABLE=0

[gcode_macro SFS_ENABLE]
description = Enable smart filament sensor
gcode = 
	M117 ENABLING the Smart Filament Sensor
	G92 E0
	SET_FILAMENT_SENSOR SENSOR=filament_sensor ENABLE=1

[gcode_macro SFS_DISABLE]
description = Disable smart filament sensor
gcode = 
	M117 DISABLING the Smart Filament Sensor
	G92 E0
	SET_FILAMENT_SENSOR SENSOR=filament_sensor ENABLE=0

[gcode_macro _START_BED_HEAT]
gcode = 
	{% set t = params.T|default(60)|int %}
	{% set c = params.C|default(30)|int %}
	{% set h = params.H|default(600)|int %}
	M140 S{t}
	
	SET_GCODE_VARIABLE MACRO=_BED_HEAT_STATUS VARIABLE=time_remaining VALUE={h}
	SET_GCODE_VARIABLE MACRO=_BED_HEAT_STATUS VARIABLE=bed_temperature VALUE={t}
	
	UPDATE_DELAYED_GCODE ID=_BED_HEAT_TIMER DURATION=1
	SET_IDLE_TIMEOUT

[gcode_macro STOP_BED_HEAT]
gcode = 
	
	
	SET_GCODE_VARIABLE MACRO=_BED_HEAT_STATUS VARIABLE=time_remaining VALUE=0
	UPDATE_DELAYED_GCODE ID=_BED_HEAT_TIMER DURATION=0
	M117 PreHeat Stopped

[gcode_macro _BED_HEAT_STATUS]
variable_time_remaining = 0
variable_bed_temperature = 0
variable_chamber_temperature = 0
gcode = 
	{% if time_remaining > 0 %}
	M140 S{bed_temperature}
	
	SET_GCODE_VARIABLE MACRO=_BED_HEAT_STATUS VARIABLE=time_remaining VALUE={time_remaining - 1}
	M117 PreHeat {time_remaining}
	{% else %}
	STOP_BED_HEAT
	{% endif %}

[delayed_gcode BED_HEAT_TIMER]
gcode = 
	UPDATE_DELAYED_GCODE ID=_BED_HEAT_TIMER DURATION=1
	_BED_HEAT_STATUS

[gcode_macro BED_60]
gcode = 
	_START_BED_HEAT t=60 c=30 h=600

[gcode_macro BED_65]
gcode = 
	_START_BED_HEAT t=65 c=30 h=600

[gcode_macro BED_70]
gcode = 
	_START_BED_HEAT t=70 c=30 h=600

[gcode_macro PA_CAL]
gcode = 
	{% set BED = params.BED|default(65) |float %}
	{% set EXTRUDER = params.EXTRUDER|default(210) |float %}
	{% set PA_start = params.START|default(0) |float %}
	{% set PA_max = params.MAX|default(0.1) |float %}
	
	{% set PA_factor = PA_max / 20 |float %}
	
	{% set max_x = printer.configfile.config["stepper_x"]["position_max"]|float %}
	{% set max_y = printer.configfile.config["stepper_y"]["position_max"]|float %}
	
	{% set x_section = max_x / 6 | float %}
	{% set x_start = x_section | float %}
	{% set x_p1 = x_section * 2 | float %}
	{% set x_p2 = x_section * 4 | float %}
	{% set x_p3 = x_section * 5 | float %}
	
	{% set y_section = max_y / 24 | float %}
	{% set y_start = y_section | float %}
	{% set y_base = y_section * 2 | float %}
	
	PRINT_START BED={BED} EXTRUDER={EXTRUDER}
	
	G21
	G90
	M83
	SET_VELOCITY_LIMIT ACCEL=5000 ACCEL_TO_DECEL=2500
	G92 E0
	M106 S0
	
	SET_PRESSURE_ADVANCE ADVANCE={PA_start}
	G1 X{x_start} Y{y_start} F30000
	G1 Z0.25 F300
	G1 E0.75 F1800
	G1 X{x_p1} Y{y_start} E0.91798 F300
	G1 X{x_p2} Y{y_start} E1.83596 F9000
	G1 X{x_p3} Y{y_start} E0.91798 F300
	G1 E-0.75 F1800
	G1 Z1 F300
	
	{% for i in range(0, 20) %}
	SET_PRESSURE_ADVANCE ADVANCE={PA_start + i*PA_factor}
	M117 Testing Pressure Advance at: {i*PA_factor}
	G1 X{x_start} Y{y_base+(5*i)} F30000
	G1 Z0.25 F300
	G1 E0.75 F1800
	G1 X{x_p1} Y{y_base+(5*i)} E0.91798 F300
	G1 X{x_p2} Y{y_base+(5*i)} E1.83596 F9000
	G1 X{x_p3} Y{y_base+(5*i)} E0.91798 F300
	G1 E-0.75 F1800
	G1 Z1 F300
	{% endfor %}
	
	PRINT_END

[gcode_macro PA_TUNER]
description = Pressure Advance Tuning Macro
	=========================================
	parameters with defaults listed below:
	TOOLHEAD=""
	BED_X_LENGTH=printer.toolhead.axis.maximum.x
	BED_Y_LENGTH=printer.toolhead.axis.maximum.y
	FILAMENT_DIAMETER=printer...filament_diameter
	EXTRUSION_WIDTH=printer...nozzle_diameter
	LAYER_HEIGHT=0.3
	SIDE_LENGTH=100
	FAST_PRINT_SPEED=150
	SLOW_PRINT_SPEED=30
	COOLING_FAN_SPEED=255
	PA_MIN=0.0
	PA_MAX=1.0
	LAYERS=60
	BED_TEMP=55
	PRINTING_TEMP=210
	X_OFFSET=0
	Y_OFFSET=0
	BASE_ONLY_FLOW_PERCENT=125
	STARTUP_MACRO=LOCAL_GENERIC_PA_START
	END_MACRO=LOCAL_GENERIC_PA_END
	=========================================
gcode = 
	
	{% set bed_x = params.BED_X_LENGTH|default(printer.toolhead.axis_maximum.x)|float %}
	{% set bed_y = params.BED_Y_LENGTH|default(printer.toolhead.axis_maximum.y)|float %}
	{% set filament_d = params.FILAMENT_DIAMETER|default(printer.configfile.settings.extruder.filament_diameter)|float %}
	{% set e_width = params.EXTRUSION_WIDTH|default(printer.configfile.settings.extruder.nozzle_diameter)|float %}
	{% set tool = params.TOOLHEAD|default("") %}
	{% set flow_p = params.BASE_ONLY_FLOW_PERCENT|default(125.0)|float %}
	{% set rect_side_len = params.SIDE_LENGTH|default(100.0)|float %}
	{% set layer_h = params.LAYER_HEIGHT|default(0.3)|float %}
	{% set fspeed = params.FAST_PRINT_SPEED|default(150.0)|float %}
	{% set sspeed = params.SLOW_PRINT_SPEED|default(30.0)|float %}
	{% set fan_speed = params.COOLING_FAN_SPEED|default(255.0)|float %}
	{% set PA_low = params.PA_MIN|default(0.0)|float %}
	{% set PA_high = params.PA_MAX|default(1.0)|float %}
	{% set b_temp = params.BED_TEMP|default(55.0)|float %}
	{% set p_temp = params.PRINTING_TEMP|default(210.0)|float %}
	{% set off_x = params.X_OFFSET|default(0.0)|float %}
	{% set off_y = params.Y_OFFSET|default(0.0)|float %}
	{% set layer_num  = params.LAYERS|default(60)|int %}
	{% set startup_code = params.START_MACRO|default("LOCAL_GENERIC_PA_START PT=" ~ p_temp ~ " BT=" ~ b_temp)|string %}
	{% set end_code = params.END_MACRO|default("LOCAL_GENERIC_PA_END EJECT=" ~ bed_y)|string %}
	
	{% set PA_const = (2 * ((PA_high - PA_low) / layer_num)) - PA_low %}
	{% if PA_const < 0 %}
	{% set PA_sign = " + " %}
	{% else %}
	{% set PA_sign = " - " %}
	{% endif %}
	{% set info_str = "Bed X Length: " ~ bed_x %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed Y Length: " ~ bed_y %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed X Offset: " ~ off_x %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed Y Offset: " ~ off_y %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Extrusion Width: " ~ e_width %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Filament size: " ~ filament_d %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Layer Height: " ~ layer_h %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed Temperature: " ~ b_temp %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Print Temperature: " ~ p_temp %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Slow Printing Speed: " ~ sspeed %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Fast Printing Speed: " ~ fspeed %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Fan Speed: " ~ fan_speed %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Length of Test Square: " ~ rect_side_len %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Number of Layers: " ~ layer_num %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Minimum Pressure Advance: " ~ PA_low %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Maximum Pressure Advance: " ~ PA_high %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Formula: Pressure Advance Value = Measured_Z_Height x " ~ (((PA_high - PA_low) / layer_num) / layer_h) ~ PA_sign ~ PA_const|abs %}
	RESPOND MSG="{info_str}"
	{% set g_cmd = tool %}
	{ g_cmd }
	{% set g_cmd = startup_code %}
	{ g_cmd }
	{% set g_cmd = "M220 S100" %}
	{ g_cmd }
	{% set g_cmd = "M221 S100" %}
	{ g_cmd }
	{% set g_cmd = "SET_VELOCITY_LIMIT SQUARE_CORNER_VELOCITY=1 ACCEL=500" %}
	{ g_cmd }
	{% set g_cmd = "SET_PRESSURE_ADVANCE ADVANCE_LOOKAHEAD_TIME=0" %}
	{ g_cmd }
	{% set g_cmd = "G92 E0" %}
	{ g_cmd }
	{% set g_cmd = "M83" %}
	{ g_cmd }
	{% set current_x = (bed_x / 2) - (rect_side_len / 2) %}
	{% set current_y = (bed_y / 2) - (rect_side_len / 2) %}
	
	{% set g_cmd = "G1 X" ~ (current_x + off_x) ~ " Y" ~ (current_y + off_y) ~ " Z" ~ layer_h ~ " E1.0 F" ~ (fspeed*60) %}
	{ g_cmd }
	{% set g_cmd = "G91" %}
	{ g_cmd }
	{% set pressure_advance = 0.0 %}
	{% set PA_msg = "SET_PRESSURE_ADVANCE ADVANCE=" ~ pressure_advance %}
	{ PA_msg }
	pa_line LSPEED={20} X_L={rect_side_len} Y_L=0.0 LF={flow_p} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={20} X_L={0.0} Y_L={(rect_side_len/2)} LF={flow_p} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={20} X_L=0.0 Y_L={(rect_side_len/2)} LF={flow_p} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={20} X_L={0-rect_side_len} Y_L=0.0 LF={flow_p} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={20} X_L=0.0 Y_L={0-rect_side_len} LF={flow_p} FD={filament_d} EW={e_width} LH={layer_h}
	{% set g_cmd = "G1 Z" ~ layer_h %}
	{ g_cmd }
	
	{% set g_cmd = "M106 S" ~ fan_speed %}
	{ g_cmd }
	{% for i in range(layer_num) %}
	{% set pressure_advance = (i / layer_num) * (PA_high - PA_low) + PA_low|float %}
	{% set PA_msg = "SET_PRESSURE_ADVANCE ADVANCE=" ~ pressure_advance %}
	{ PA_msg }
	pa_line LSPEED={fspeed} X_L={rect_side_len} Y_L=0.0 FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={fspeed} X_L=0.0 Y_L={(rect_side_len/2)} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={sspeed} X_L=0.0 Y_L={(rect_side_len/2)} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={fspeed} X_L={0-rect_side_len} Y_L=0.0 FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={sspeed} X_L=0.0 Y_L={0-rect_side_len} FD={filament_d} EW={e_width} LH={layer_h}
	{% set g_cmd = "G1 Z" ~ layer_h %}
	{ g_cmd }
	{% endfor %}
	
	{% set pressure_advance = PA_high|float %}
	{% set PA_msg = "SET_PRESSURE_ADVANCE ADVANCE=" ~ pressure_advance %}
	{ PA_msg }
	pa_line LSPEED={fspeed} X_L={rect_side_len} Y_L=0.0 FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={fspeed} X_L=0.0 Y_L={(rect_side_len/2)} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={sspeed} X_L=0.0 Y_L={(rect_side_len/2)} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={fspeed} X_L={0-rect_side_len} Y_L=0.0 FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={sspeed} X_L=0.0 Y_L={0-rect_side_len} FD={filament_d} EW={e_width} LH={layer_h}
	{% set g_cmd = "G1 Z" ~ layer_h %}
	{ g_cmd }
	pa_line LSPEED={fspeed} X_L={rect_side_len} Y_L=0.0 FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={fspeed} X_L=0.0 Y_L={(rect_side_len/2)} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={sspeed} X_L=0.0 Y_L={(rect_side_len/2)} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={fspeed} X_L={0-rect_side_len} Y_L=0.0 FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={sspeed} X_L=0.0 Y_L={0-rect_side_len} FD={filament_d} EW={e_width} LH={layer_h}
	{% set g_cmd = "G1 Z" ~ layer_h %}
	{ g_cmd }
	{% set g_cmd = "G90" %}
	{ g_cmd }
	{% set g_cmd = end_code %}
	{ g_cmd }
	{% set info_str = "Bed X Length: " ~ bed_x %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed Y Length: " ~ bed_y %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed X Offset: " ~ off_x %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed Y Offset: " ~ off_y %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Extrusion Width: " ~ e_width %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Filament size: " ~ filament_d %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Layer Height: " ~ layer_h %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed Temperature: " ~ b_temp %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Print Temperature: " ~ p_temp %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Slow Printing Speed: " ~ sspeed %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Fast Printing Speed: " ~ fspeed %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Fan Speed: " ~ fan_speed %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Length of Test Square: " ~ rect_side_len %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Number of Layers: " ~ layer_num %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Minimum Pressure Advance: " ~ PA_low %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Maximum Pressure Advance: " ~ PA_high %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Formula: Pressure Advance Value = Measured_Z_Height x " ~ (((PA_high - PA_low) / layer_num) / layer_h) ~ PA_sign ~ PA_const|abs %}
	RESPOND MSG="{info_str}"

[gcode_macro pa_line]
gcode = 
	{% set flow_r = params.LF|default(100.0)|float %}
	{% set zoomy = params.LSPEED|default(50.0)|float %}
	{% set x_lin = params.X_L|default(100.0)|float %}
	{% set y_lin = params.Y_L|default(100.0)|float %}
	{% set f_size = params.FD|default(1.75)|float %}
	{% set e_size = params.EW|default(0.4)|float %}
	{% set l_size = params.LH|default(0.2)|float %}
	{% set flow_n = flow_r / 100 %}
	{% set lin_length = (x_lin**2 + y_lin**2)**(1/2) %}
	{% set e_len = lin_length / (f_size * f_size * 3.14159 * 0.25) %}
	{% set e_num = e_len * e_size * l_size * 1.67 %}
	{% set g_cmd = "G1 X" ~ x_lin ~ " Y" ~ y_lin ~ " E" ~ (e_num * flow_n) ~ " F" ~ (zoomy*60) %}
	{ g_cmd }

[gcode_macro LOCAL_GENERIC_PA_START ]
description = Generic startup gcode with a prime strip
gcode = 
	{% set b_t = params.BT|default(0.0)|float %}
	{% set p_t = params.PT|default(0.0)|float %}
	{% set b_x = params.BED_X_LENGTH|default(printer.toolhead.axis_maximum.x)|float %}
	{% set b_y = params.BED_Y_LENGTH|default(printer.toolhead.axis_maximum.y)|float %}
	{% set f_d = params.FILAMENT_DIAMETER|default(printer.configfile.settings.extruder.filament_diameter)|float %}
	{% set e_w = params.EXTRUSION_WIDTH|default(printer.configfile.settings.extruder.nozzle_diameter)|float %}
	{% set o_x = params.X_OFFSET|default(0.0)|float %}
	{% set o_y = params.Y_OFFSET|default(0.0)|float %}
	{% set l_h = params.LAYER_HEIGHT|default(0.3)|float %}
	{% set g_cmd = "M140 S" ~ b_t %}
	{ g_cmd }
	{% set g_cmd = "M104 S" ~ p_t %}
	{ g_cmd }
	{% set g_cmd = "M190 S" ~ b_t %}
	{ g_cmd }
	{% set g_cmd = "G28" %}
	{ g_cmd }
	{% set g_cmd = "G1 Z10 F1500" %}
	{ g_cmd }
	{% set g_cmd = "M109 S" ~ p_t %}
	{ g_cmd }
	{% set g_cmd = "G92 E0" %}
	{ g_cmd }
	{% set g_cmd = "G1 Z2.0 F3000" %}
	{ g_cmd }
	{% set g_cmd = "G1 X0.1 Y20 Z0.3 F5000.0" %}
	{ g_cmd }
	{% set g_cmd = "M83" %}
	{ g_cmd }
	{% set g_cmd = "G91" %}
	{ g_cmd }
	pa_line LSPEED=25 X_L=0.0 Y_L={(b_y - 40)} FD={f_d} EW={e_w} LH={l_h}
	{% set g_cmd = "G1 X0.3 Y0 F5000.0" %}
	{ g_cmd }
	pa_line LSPEED=25 X_L=0.0 Y_L={0-(b_y - 40)} FD={f_d} EW={e_w} LH={l_h}
	{% set g_cmd = "G90" %}
	{ g_cmd }
	{% set g_cmd = "M82" %}
	{ g_cmd }
	{% set g_cmd = "G92 E0" %}
	{ g_cmd }
	{% set g_cmd = "G1 Z2.0 F3000" %}
	{ g_cmd }

[gcode_macro LOCAL_GENERIC_PA_END ]
description = Generic ending gcode
gcode = 
	{% set y_done = params.EJECT|default(0.0)|float %}
	{% set g_cmd = "G91" %}
	{ g_cmd }
	{% set g_cmd = "G1 Z10 F450" %}
	{ g_cmd }
	{% set g_cmd = "G90" %}
	{ g_cmd }
	{% set g_cmd = "M82" %}
	{ g_cmd }
	{% set g_cmd = "G1 X0 Y" ~ y_done %}
	{ g_cmd }
	{% set g_cmd = "M106 S0" %}
	{ g_cmd }
	{% set g_cmd = "M104 S0" %}
	{ g_cmd }
	{% set g_cmd = "M140 S0" %}
	{ g_cmd }
	{% set g_cmd = "M84" %}
	{ g_cmd }

[gcode_macro TEST_SPEED]
gcode = 
	
	{% set speed  = params.SPEED|default(printer.configfile.settings.printer.max_velocity)|int %}
	
	{% set iterations = params.ITERATIONS|default(5)|int %}
	
	{% set accel  = params.ACCEL|default(printer.configfile.settings.printer.max_accel)|int %}
	
	{% set bound = params.BOUND|default(20)|int %}
	
	{% set smallpatternsize = SMALLPATTERNSIZE|default(20)|int %}
	
	
	
	{% set x_min = printer.toolhead.axis_minimum.x + bound %}
	{% set x_max = printer.toolhead.axis_maximum.x - bound %}
	{% set y_min = printer.toolhead.axis_minimum.y + bound %}
	{% set y_max = printer.toolhead.axis_maximum.y - bound %}
	
	
	
	{% set x_center = (printer.toolhead.axis_minimum.x|float + printer.toolhead.axis_maximum.x|float ) / 2 %}
	{% set y_center = (printer.toolhead.axis_minimum.y|float + printer.toolhead.axis_maximum.y|float ) / 2 %}
	
	
	{% set x_center_min = x_center - (smallpatternsize/2) %}
	{% set x_center_max = x_center + (smallpatternsize/2) %}
	{% set y_center_min = y_center - (smallpatternsize/2) %}
	{% set y_center_max = y_center + (smallpatternsize/2) %}
	
	
	SAVE_GCODE_STATE NAME=TEST_SPEED
	
	
	{ action_respond_info("TEST_SPEED: starting %d iterations at speed %d, accel %d" % (iterations, speed, accel)) }
	
	
	G28
	M400
	
	{% if printer.configfile.settings.quad_gantry_level %}
	{% if printer.quad_gantry_level.applied == False %}
	QUAD_GANTRY_LEVEL
	G28 Z
	{% endif %}
	{% endif %}
	
	G90
	G1 X{printer.toolhead.axis_maximum.x-50} Y{printer.toolhead.axis_maximum.y-50} F{30*60}
	M400
	G28 X Y
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	G0 X{x_min} Y{y_min} Z{bound + 10} F{speed*60}
	
	
	SET_VELOCITY_LIMIT VELOCITY={speed} ACCEL={accel} ACCEL_TO_DECEL={accel / 2}
	
	{% for i in range(iterations) %}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	{% endfor %}
	
	
	SET_VELOCITY_LIMIT VELOCITY={printer.configfile.settings.printer.max_velocity} ACCEL={printer.configfile.settings.printer.max_accel} ACCEL_TO_DECEL={printer.configfile.settings.printer.max_accel_to_decel}
	
	
	M400
	G28
	
	G90
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	RESTORE_GCODE_STATE NAME=TEST_SPEED

[gcode_macro _USE_INFILL_SQV]
gcode = 
	{% set svv = printer.save_variables.variables %}
	{% set sqv = svv.infill_sqv | default(printer.configfile.settings.printer.square_corner_velocity, true) %}
	SET_VELOCITY_LIMIT SQUARE_CORNER_VELOCITY={ sqv }

[gcode_macro _USE_NORMAL_SQV]
gcode = 
	{% set sqv = printer.configfile.settings.printer.square_corner_velocity %}
	SET_VELOCITY_LIMIT SQUARE_CORNER_VELOCITY={ sqv }

[gcode_macro SET_INFILL_SQV]
gcode = 
	{% set svv = printer.save_variables.variables %}
	{% set val = params.SQV|default(svv.infill_sqv|default(printer.configfile.settings.printer.square_corner_velocity, true), true) | int %}
	SAVE_VARIABLE VARIABLE=infill_sqv VALUE={val}

[gcode_macro M204]
rename_existing = M204.1
gcode = 
	{% set f = params.F|default(0.5)|float %}
	
	{% if 'S' in params %}
	{% set s = params.S|float %}
	SET_VELOCITY_LIMIT ACCEL={s} ACCEL_TO_DECEL={ s * f }
	{% else %}
	{% if 'P' in params %}
	{% set p = params.P|float %}
	{% if 'T' in params %}
	{% set t = params.T|float %}
	{% if p < t %}
	SET_VELOCITY_LIMIT ACCEL={p} ACCEL_TO_DECEL={ p * f }
	{% else %}
	SET_VELOCITY_LIMIT ACCEL={t} ACCEL_TO_DECEL={ t * f }
	{% endif %}
	{% else %}
	SET_VELOCITY_LIMIT ACCEL={p} ACCEL_TO_DECEL={ p * f }
	{% endif %}
	{% elif 'T' in params %}
	{% set t = params.T|float %}
	SET_VELOCITY_LIMIT ACCEL={t} ACCEL_TO_DECEL={ t * f }
	{% endif %}
	{% endif %}

[gcode_macro _START_DRYER]
gcode = 
	{% set t = params.T|default(60)|int %}
	{% set c = params.C|default(25)|int %}
	{% set h = params.H|default(14400)|int %}
	M140 S{t}
	
	SET_GCODE_VARIABLE MACRO=_DRYER_STATUS VARIABLE=time_remaining VALUE={h}
	SET_GCODE_VARIABLE MACRO=_DRYER_STATUS VARIABLE=bed_temperature VALUE={t}
	
	UPDATE_DELAYED_GCODE ID=_DRYER_TIMER DURATION=1
	SET_IDLE_TIMEOUT

[gcode_macro STOP_DRYER]
gcode = 
	M140 S0
	
	SET_GCODE_VARIABLE MACRO=_DRYER_STATUS VARIABLE=time_remaining VALUE=0
	UPDATE_DELAYED_GCODE ID=_DRYER_TIMER DURATION=0
	M117 Drying Stopped

[gcode_macro _DRYER_STATUS]
variable_time_remaining = 0
variable_bed_temperature = 0
variable_chamber_temperature = 0
gcode = _
	{% if time_remaining > 0 %}
	M140 S{bed_temperature}
	
	SET_GCODE_VARIABLE MACRO=_DRYER_STATUS VARIABLE=time_remaining VALUE={time_remaining - 1}
	M117 Drying {time_remaining}
	M118 Drying Time Remaining: {time_remaining}
	{% else %}
	STOP_DRYER
	{% endif %}

[delayed_gcode _DRYER_TIMER]
gcode = 
	UPDATE_DELAYED_GCODE ID=_DRYER_TIMER DURATION=1
	_DRYER_STATUS

[gcode_macro DRY_PLA]
gcode = 
	_START_DRYER t=50 c=25 h=14400

[gcode_macro DRY_PETG]
gcode = 
	_START_DRYER t=55 c=30 h=18000

[gcode_macro DRY_ABS]
gcode = 
	_START_DRYER t=65 c=40 h=14400

[printer]
kinematics = corexy
max_velocity = 800
max_accel = 5000
max_z_velocity = 15
max_z_accel = 50

[output_pin _BEEPER_pin]
pin = PE9
pwm = True
value = 0
shutdown_value = 0
cycle_time = 0.001
scale = 1

[idle_timeout]
timeout = 172800

[thermistor Trianglelab-NTC100K-B3950]
temperature1 = 25
resistance1 = 103180
temperature2 = 150
resistance2 = 1366.2
temperature3 = 250
resistance3 = 168.6

[temperature_sensor Bed_Top]
sensor_type = ATC Semitec 104NT-4-R025H42G
sensor_pin = PC1
min_temp = -50
max_temp = 300

[heater_fan hotend_fan]
pin = EBBCan:PA0
max_power = 1.0
kick_start_time = 0.5
heater = extruder
heater_temp = 50.0

[fan]
pin = EBBCan:PA1
max_power = 1.0
kick_start_time = 0.5
off_below = 0.10

[controller_fan _MOSFET]
pin = PA0
max_power = 0.8
kick_start_time = 0.5
idle_speed = 0.0
fan_speed = 1.0
idle_timeout = 30
off_below = 0.10
heater = heater_bed

[controller_fan _Monster8]
pin = PA1
max_power = 0.8
kick_start_time = 0.5
idle_speed = 0.0
fan_speed = 1.0
idle_timeout = 600
off_below = 0.10
stepper = stepper_x,stepper_y,stepper_z,stepper_z1,stepper_z2

[temperature_sensor Raspberry_Pi]
sensor_type = temperature_host
max_temp = 75
min_temp = 20

[temperature_sensor mcu_Monster]
sensor_type = temperature_mcu
min_temp = 0
max_temp = 100

[temperature_sensor mcu_ebb36]
sensor_type = temperature_mcu
sensor_mcu = EBBCan
min_temp = 0
max_temp = 100

[stepper_x]
step_pin = PITB:gpio6
dir_pin = PITB:gpio5
enable_pin = !PITB:gpio20
microsteps = 16
full_steps_per_rotation = 400
rotation_distance = 40
endstop_pin = tmc5160_stepper_x:virtual_endstop
position_endstop = -9
position_min = -9
position_max = 409
homing_speed = 40
homing_retract_dist = 20
second_homing_speed = 10.0

[tmc5160 stepper_x]
cs_pin = PITB:gpio1
spi_software_sclk_pin = PITB:gpio2
spi_software_mosi_pin = PITB:gpio3
spi_software_miso_pin = PITB:gpio4
diag1_pin = PITB:gpio7
driver_sgt = -64
interpolate = True
run_current = 1.1

[stepper_y]
step_pin = PITB:gpio13
dir_pin = PITB:gpio23
enable_pin = !PITB:gpio22
microsteps = 16
full_steps_per_rotation = 400
rotation_distance = 40
endstop_pin = tmc5160_stepper_y:virtual_endstop
position_endstop = 410
position_min = -15
position_max = 410
homing_speed = 40
homing_retract_dist = 20
second_homing_speed = 10.0

[tmc5160 stepper_y]
cs_pin = PITB:gpio21
spi_software_sclk_pin = PITB:gpio2
spi_software_mosi_pin = PITB:gpio3
spi_software_miso_pin = PITB:gpio4
diag1_pin = PITB:gpio14
driver_sgt = -64
interpolate = True
run_current = 1.1

[stepper_z]
step_pin = PB5
dir_pin = PB4
enable_pin = !PB6
position_max = 400
position_min = -2
homing_speed = 5
second_homing_speed = 3
homing_retract_dist = 5
homing_retract_speed = 2
endstop_pin = probe:z_virtual_endstop
microsteps = 128
rotation_distance = 4

[tmc2209 stepper_z]
uart_pin = PB3
run_current = 0.800
hold_current = 0.500
interpolate = false

[stepper_z1]
step_pin = PD6
dir_pin = PD5
enable_pin = !PD7
microsteps = 128
rotation_distance = 4

[tmc2209 stepper_z1]
uart_pin = PD4
run_current = 0.800
hold_current = 0.500
interpolate = false

[stepper_z2]
step_pin = PD2
dir_pin = PD1
enable_pin = !PD3
microsteps = 128
rotation_distance = 4

[tmc2209 stepper_z2]
uart_pin = PD0
run_current = 0.800
hold_current = 0.500
interpolate = false

[z_tilt]
horizontal_move_z = 30
speed = 120
z_positions = -51,0
	136,440
	434,0
points = 40,20
	171,390
	409,20
retry_tolerance = 0.05
retries = 20

[screws_tilt_adjust]
screw1 = 30,30
screw1_name = Front Left
screw2 = 30,200
screw2_name = Mid Left
screw3 = 30,370
screw3_name = Back Left
screw4 = 370,30
screw4_name = Front Right
screw5 = 370,200
screw5_name = Mid Right
screw6 = 370,370
screw6_name = Back Right

[bed_screws]
screw1 = 30,30
screw2 = 30,200
screw3 = 30,370
screw4 = 370,30
screw5 = 370,200
screw6 = 370,370

[heater_bed]
heater_pin = PB10
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PC0
max_power = 1.0
min_temp = 0
max_temp = 130
control = pid
pid_kp = 73.560
pid_ki = 0.863
pid_kd = 1566.832

[neopixel Main_LED]
pin = PC5
chain_count = 24
color_order = GRB
initial_red = 0.0
initial_green = 0.0
initial_blue = 0.0

[BDsensor]
scl_pin = EBBCan:PB9
sda_pin = EBBCan:PB8
delay = 20
z_offset = 0
x_offset = -34
y_offset = 0
position_endstop = 0.8
collision_homing = 0
collision_calibrate = 0
z_adjust = 0.0

[bed_mesh]
speed = 500
mesh_min = 50,50
mesh_max = 350,350
probe_count = 20, 20
mesh_pps = 2, 2
algorithm = bicubic
horizontal_move_z = 1
zero_reference_position = 200, 200

[adxl345]
cs_pin = EBBCan:PB12
spi_software_sclk_pin = EBBCan:PB10
spi_software_mosi_pin = EBBCan:PB11
spi_software_miso_pin = EBBCan:PB2
axes_map = x,y,z

[resonance_tester]
accel_chip = adxl345
probe_points = 
	200, 200, 20

[extruder]
step_pin = EBBCan:PD0
dir_pin = !EBBCan:PD1
enable_pin = !EBBCan:PD2
microsteps = 64
rotation_distance = 5.693950178
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = EBBCan: PB13
sensor_pin = EBBCan: PA3
sensor_type = ATC Semitec 104NT-4-R025H42G
min_temp = 0
max_temp = 300
control = pid
pid_kp = 44.021
pid_ki = 8.152
pid_kd = 59.428

[tmc2209 extruder]
uart_pin = EBBCan:PA15
interpolate = False
run_current = 0.800
stealthchop_threshold = 0

[filament_motion_sensor filament_sensor]
detection_length = 10.0
extruder = extruder
switch_pin = ^PA13
pause_on_runout = True
event_delay = 3.0
pause_delay = 0.5
runout_gcode = 
	M117 Runout Detected!

[gcode_macro M900]
gcode = 
	{% if 'K' in params %}
	{% if 'E' in params %}
	SET_PRESSURE_ADVANCE EXTRUDER={params.E} ADVANCE={params.K}
	{% else %}
	SET_PRESSURE_ADVANCE ADVANCE={params.K}
	{% endif %}
	{% endif %}

[gcode_macro Level_Bed]
gcode = 
	Z_TILT_ADJUST
	BED_MESH_CALIBRATE

[gcode_macro PARK]
gcode = 
	{% set th = printer.toolhead %}
	G0 Z40 F20000
	G0 X{th.axis_maximum.x//2} Y{th.axis_maximum.y//2} Z40 F30000

[gcode_macro G32]
gcode = 
	SAVE_GCODE_STATE NAME=STATE_G32
	G90
	G28
	Z_TILT_ADJUST
	G28
	PARK
	RESTORE_GCODE_STATE NAME=STATE_G32

[gcode_macro M0]
gcode = 
	PAUSE

[gcode_macro G29]
gcode = 
	{% if printer.idle_timeout.state == "Printing" %}
	{action_respond_info("This command cannot be used while printing")}
	{% elif printer.toolhead.homed_axes != "xyz" %}
	{action_respond_info("Please home XYZ first")}
	{% else %}
	SAVE_GCODE_STATE NAME=STATE_G29
	G90
	G28
	Z_TILT_ADJUST
	G28
	PARK
	BED_MESH_CALIBRATE
	BED_MESH_PROFILE SAVE=p1
	BED_MESH_PROFILE LOAD="p1"
	RESTORE_GCODE_STATE NAME=STATE_G29
	{% endif %}

[force_move]
enable_force_move = True

[firmware_retraction]
retract_length = 0.5
retract_speed = 40
unretract_extra_length = 0.1
unretract_speed = 30

[verify_heater heater_bed]
max_error = 120
hysteresis = 5
heating_gain = 2

[verify_heater extruder]
max_error = 120
check_gain_time = 90
hysteresis = 5
heating_gain = 2

[gcode_macro M486]
gcode = 
	
	
	
	
	
	
	
	
	
	
	
	{% if 'exclude_object' not in printer %}
	{action_raise_error("[exclude_object] is not enabled")}
	{% endif %}
	
	{% if 'T' in params %}
	EXCLUDE_OBJECT RESET=1
	
	{% for i in range(params.T | int) %}
	EXCLUDE_OBJECT_DEFINE NAME={i}
	{% endfor %}
	{% endif %}
	
	{% if 'C' in params %}
	EXCLUDE_OBJECT CURRENT=1
	{% endif %}
	
	{% if 'P' in params %}
	EXCLUDE_OBJECT NAME={params.P}
	{% endif %}
	
	{% if 'S' in params %}
	{% if params.S == '-1' %}
	{% if printer.exclude_object.current_object %}
	EXCLUDE_OBJECT_END NAME={printer.exclude_object.current_object}
	{% endif %}
	{% else %}
	EXCLUDE_OBJECT_START NAME={params.S}
	{% endif %}
	{% endif %}
	
	{% if 'U' in params %}
	EXCLUDE_OBJECT RESET=1 NAME={params.U}
	{% endif %}

[gcode_arcs]
resolution = 1.0

[gcode_macro G12]
gcode = 
	{% set CLEANTYPE = params.P|default(2) %}
	{% set RADI = params.R|default(2) %}
	{% set repetitions = params.S|default(2) %}
	{% set triangles = params.T|default(2) %}
	{% set th = printer.toolhead %}
	
	{% if printer.idle_timeout.state == "Printing" %}
	{action_respond_info("This command cannot be used while printing")}
	{% elif printer.toolhead.homed_axes != "xyz" %}
	{action_respond_info("Please home XYZ first")}
	{% else %}
	{action_respond_info("Cleaning Printhead")}
	SAVE_GCODE_STATE NAME=STATE_G12
	G90
	{% if params.P == '0' %}
	{action_respond_info("Cleaning Printhead back and forward")}
	G0 X405 Y400 Z1 F3600
	{% if repetitions == '1' %}
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	{% elif repetitions == '2' %}
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	{% elif repetitions == '3' %}
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	{% elif repetitions == '4' %}
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	{% elif repetitions == '5' %}
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	{% endif %}
	{% elif CLEANTYPE == '1' %}
	G0 X405 Y400 Z1 F3600
	
	
	{% elif CLEANTYPE == '2' %}
	G0 X405 Y400 Z1 F3600
	G3 X405 Y390 R{RADI} P{repetitions}
	G2 X405 Y390 R{RADI} P{repetitions}
	{% endif %}
	G0 X{th.axis_maximum.x//2} Y{th.axis_maximum.y//2} Z30 F3600
	RESTORE_GCODE_STATE NAME=STATE_G12
	{action_respond_info("Cleaning Done")}
	{% endif %}

[exclude_object]

[input_shaper]

[bed_mesh default]
version = 1
points = 
	1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 0.990000, 0.985000, 0.985000, 0.990000, 0.995000, 0.990000, 0.975000, 0.970000, 0.985000, 0.985000, 0.975000, 0.970000
	1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 0.995000, 0.980000, 0.970000, 0.965000, 0.960000, 0.960000, 0.935000, 0.905000, 0.910000, 0.920000, 0.920000, 0.915000, 0.920000, 0.920000, 0.905000
	1.000000, 1.000000, 1.000000, 1.000000, 0.990000, 0.970000, 0.960000, 0.950000, 0.940000, 0.930000, 0.895000, 0.860000, 0.860000, 0.840000, 0.825000, 0.805000, 0.800000, 0.800000, 0.800000, 0.800000
	1.000000, 1.000000, 1.000000, 1.000000, 0.985000, 0.960000, 0.945000, 0.910000, 0.890000, 0.870000, 0.865000, 0.745000, 0.695000, 0.680000, 0.685000, 0.640000, 0.635000, 0.625000, 0.625000, 0.625000
	1.000000, 1.000000, 1.000000, 0.995000, 0.925000, 0.900000, 0.865000, 0.830000, 0.740000, 0.690000, 0.675000, 0.645000, 0.640000, 0.525000, 0.515000, 0.480000, 0.480000, 0.475000, 0.465000, 0.465000
	1.000000, 1.000000, 1.000000, 0.920000, 0.860000, 0.830000, 0.800000, 0.755000, 0.635000, 0.560000, 0.505000, 0.450000, 0.425000, 0.395000, 0.365000, 0.340000, 0.315000, 0.315000, 0.315000, 0.305000
	1.000000, 1.000000, 0.975000, 0.885000, 0.810000, 0.760000, 0.725000, 0.620000, 0.510000, 0.435000, 0.375000, 0.305000, 0.280000, 0.250000, 0.215000, 0.180000, 0.175000, 0.170000, 0.160000, 0.165000
	0.985000, 0.970000, 0.840000, 0.825000, 0.750000, 0.670000, 0.550000, 0.440000, 0.355000, 0.280000, 0.215000, 0.180000, 0.125000, 0.100000, 0.080000, 0.040000, 0.015000, 0.015000, 0.005000, 0.010000
	0.880000, 0.845000, 0.780000, 0.690000, 0.625000, 0.580000, 0.475000, 0.355000, 0.250000, 0.160000, 0.095000, 0.030000, -0.000000, -0.040000, -0.060000, -0.090000, -0.110000, -0.110000, -0.110000, -0.115000
	0.760000, 0.725000, 0.670000, 0.585000, 0.525000, 0.460000, 0.360000, 0.240000, 0.125000, 0.040000, -0.050000, -0.100000, -0.140000, -0.155000, -0.190000, -0.220000, -0.230000, -0.235000, -0.220000, -0.225000
	0.635000, 0.600000, 0.525000, 0.460000, 0.380000, 0.320000, 0.235000, 0.205000, 0.155000, -0.080000, -0.150000, -0.220000, -0.275000, -0.280000, -0.325000, -0.335000, -0.360000, -0.350000, -0.365000, -0.350000
	0.505000, 0.465000, 0.410000, 0.330000, 0.260000, 0.180000, 0.090000, -0.040000, -0.145000, -0.215000, -0.300000, -0.350000, -0.395000, -0.435000, -0.440000, -0.475000, -0.490000, -0.485000, -0.490000, -0.485000
	0.385000, 0.350000, 0.270000, 0.195000, 0.125000, 0.080000, -0.020000, -0.150000, -0.265000, -0.345000, -0.400000, -0.480000, -0.520000, -0.535000, -0.565000, -0.590000, -0.600000, -0.600000, -0.590000, -0.600000
	0.265000, 0.225000, 0.170000, 0.080000, 0.025000, -0.020000, -0.130000, -0.240000, -0.350000, -0.460000, -0.525000, -0.580000, -0.615000, -0.645000, -0.685000, -0.695000, -0.710000, -0.710000, -0.715000, -0.710000
	0.170000, 0.120000, 0.045000, -0.020000, -0.075000, -0.135000, -0.225000, -0.350000, -0.475000, -0.550000, -0.605000, -0.665000, -0.715000, -0.715000, -0.765000, -0.790000, -0.800000, -0.795000, -0.785000, -0.800000
	0.070000, 0.045000, -0.020000, -0.105000, -0.175000, -0.250000, -0.370000, -0.480000, -0.580000, -0.655000, -0.730000, -0.785000, -0.825000, -0.845000, -0.875000, -0.895000, -0.900000, -0.885000, -0.890000, -0.880000
	0.000000, -0.045000, -0.110000, -0.210000, -0.270000, -0.320000, -0.410000, -0.565000, -0.670000, -0.755000, -0.825000, -0.880000, -0.910000, -0.910000, -0.960000, -0.995000, -0.995000, -0.990000, -0.990000, -0.985000
	-0.020000, -0.080000, -0.155000, -0.250000, -0.310000, -0.365000, -0.465000, -0.630000, -0.750000, -0.840000, -0.895000, -0.950000, -0.990000, -1.010000, -1.030000, -1.040000, -1.055000, -1.060000, -1.035000, -1.050000
	-0.040000, -0.075000, -0.210000, -0.310000, -0.365000, -0.420000, -0.550000, -0.705000, -0.825000, -0.925000, -1.005000, -1.055000, -1.075000, -1.100000, -1.115000, -1.155000, -1.155000, -1.130000, -1.145000, -1.140000
	-0.005000, -0.050000, -0.150000, -0.255000, -0.350000, -0.415000, -0.545000, -0.710000, -0.855000, -0.950000, -1.065000, -1.100000, -1.145000, -1.165000, -1.185000, -1.205000, -1.210000, -1.205000, -1.195000, -1.185000
x_count = 20
y_count = 20
mesh_x_pps = 2
mesh_y_pps = 2
algo = bicubic
tension = 0.2
min_x = 50.0
max_x = 349.82
min_y = 50.0
max_y = 349.82
=======================
BMxx80: Oversampling: Temp 2x Humid 2x Pressure 2x
BMxx80: IIR: 1x
Extruder max_extrude_ratio=0.266081
mcu 'mcu': Starting CAN connect
Created a socket
webhooks client 548227247696: New connection
webhooks client 548227247696: Client info {'program': 'Moonraker', 'version': 'v0.8.0-387-gb8ba6c0'}
mcu 'mcu': got {'oid': 17, 'next_clock': 3851483264, 'value': 31242, '#name': 'analog_in_state', '#sent_time': 418.422692639, '#receive_time': 418.433598713}
mcu 'mcu': got {'oid': 20, 'next_clock': 3856523264, 'value': 7503, '#name': 'analog_in_state', '#sent_time': 418.422692639, '#receive_time': 418.463594398}
mcu 'mcu': got {'oid': 21, 'next_clock': 3858203264, 'value': 31221, '#name': 'analog_in_state', '#sent_time': 418.422692639, '#receive_time': 418.473611935}
mcu 'mcu': got {'count': 2619, 'sum': 2105774, 'sumsq': 8208513, '#name': 'stats', '#sent_time': 418.524447676, '#receive_time': 418.556447898}
Loaded MCU 'mcu' 127 commands (v0.12.0-267-g12cd1d9e / gcc: (15:12.2.rel1-1) 12.2.1 20221205 binutils: (2.40-2+18+b1) 2.40)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c1=PB6,PB7 BUS_PINS_i2c1a=PB8,PB9 BUS_PINS_i2c2=PB10,PB11 BUS_PINS_i2c2a=PH4,PH5 BUS_PINS_i2c3=PA8,PC9 BUS_PINS_i2c3a=PH7,PH8 BUS_PINS_sdio=PC12,PD2,PC8,PC9,PC10,PC11 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2a=PC2,PC3,PB10 BUS_PINS_spi2b=PI2,PI3,PI1 BUS_PINS_spi3=PB4,PB5,PB3 BUS_PINS_spi3a=PC11,PC12,PC10 CANBUS_BRIDGE=1 CLOCK_FREQ=168000000 MCU=stm32f407xx PWM_MAX=255 RECEIVE_WINDOW=192 RESERVE_PINS_CAN=PB8,PB9 RESERVE_PINS_USB=PA11,PA12 RESERVE_PINS_crystal=PH0,PH1 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu 'EBBCan': Starting CAN connect
Created a socket
mcu 'mcu': got {'oid': 17, 'next_clock': 3901883264, 'value': 31239, '#name': 'analog_in_state', '#sent_time': 418.731152565, '#receive_time': 418.733603102}
mcu 'mcu': got {'oid': 20, 'next_clock': 3906923264, 'value': 7508, '#name': 'analog_in_state', '#sent_time': 418.731152565, '#receive_time': 418.763604546}
mcu 'mcu': got {'oid': 21, 'next_clock': 3908603264, 'value': 31195, '#name': 'analog_in_state', '#sent_time': 418.731152565, '#receive_time': 418.773785546}
mcu 'EBBCan': got {'oid': 9, 'next_clock': 1909382679, 'value': 7543, '#name': 'analog_in_state', '#sent_time': 418.906430824, '#receive_time': 418.957083028}
mcu 'EBBCan': got {'oid': 10, 'next_clock': 1910022679, 'value': 31308, '#name': 'analog_in_state', '#sent_time': 418.95773825, '#receive_time': 418.96706386100004}
mcu 'mcu': got {'oid': 17, 'next_clock': 3952283264, 'value': 31245, '#name': 'analog_in_state', '#sent_time': 418.731152565, '#receive_time': 419.033631046}
mcu 'mcu': got {'oid': 20, 'next_clock': 3957323264, 'value': 7503, '#name': 'analog_in_state', '#sent_time': 418.731152565, '#receive_time': 419.06362825}
mcu 'mcu': got {'oid': 21, 'next_clock': 3959003264, 'value': 31222, '#name': 'analog_in_state', '#sent_time': 418.731152565, '#receive_time': 419.073615824}
Unable to issue reset command on MCU 'EBBCan'
Unable to issue reset command on MCU 'PITB'
Attempting MCU 'mcu' reset command
webhooks client 548227247696: Disconnected
Restarting printer
Start printer at Tue Jul 30 14:00:52 2024 (1722344452.1 420.2)
===== Config file =====
[mcu]
canbus_uuid = 70559fc0ed52

[mcu EBBCan]
canbus_uuid = 1e0fae8aa7ce

[save_variables]
filename = ~/printer_data/config/variables.cfg

[fan_generic Air_Scrubber]
pin = PA2
max_power = 1
off_below = 0.25
kick_start_time = 0.5

[delayed_gcode filter_off]
gcode = 
	SET_FAN_SPEED FAN=Air_Scrubber SPEED=0

[gcode_macro TOGGLE_Air_Scrubber]
gcode = 
	{% if printer['fan_generic Air_Scrubber'].speed > 0 %}
	SET_FAN_SPEED FAN=Air_Scrubber SPEED=0
	{% else %}
	SET_FAN_SPEED FAN=Air_Scrubber SPEED=1
	{% endif %}

[tmc2209 manual_stepper selector]
uart_pin = PB7
run_current = 0.3
stealthchop_threshold = 0

[tmc2209 manual_stepper chameleon]
uart_pin = PD15
run_current = 0.8
stealthchop_threshold = 0

[manual_stepper selector]
step_pin = PE1
dir_pin = PE0
enable_pin = !PE2
microsteps = 1
rotation_distance = 2

[manual_stepper chameleon]
step_pin = PC7
dir_pin = PC6
enable_pin = !PC8
microsteps = 16
rotation_distance = 34.408602151

[neopixel mmu_LED]
pin = PE15
chain_count = 3
color_order = GRBW
initial_red = 0.3
initial_green = 0.3
initial_blue = 0.3
initial_white = 0.0

[gcode_macro TOOL_INIT]
description = homes the tool selector. Needed before any tool change.
variable_tool = 0
variable_ysplit_distance = 670
gcode = 
	MANUAL_STEPPER STEPPER=selector SET_POSITION=0
	MANUAL_STEPPER STEPPER=selector MOVE=-1.65
	MANUAL_STEPPER STEPPER=selector SET_POSITION=0
	MANUAL_STEPPER STEPPER=selector MOVE=0.12
	MANUAL_STEPPER STEPPER=selector SET_POSITION=0
	MANUAL_STEPPER STEPPER=chameleon SET_POSITION=0
	
	SET_GCODE_VARIABLE MACRO=TOOL_INIT VARIABLE=tool VALUE={TOOL}
	SET_GCODE_VARIABLE MACRO=TOOL_INIT VARIABLE=ysplit_distance VALUE={YSPLIT_DISTANCE}

[gcode_macro WIPE]
gcode = 
	G1 X170 F5000
	G1 X250
	G1 X170
	G1 X250

[gcode_macro _Cut_Filament]
description = Cut filament by pressing the cutter on a pin with a horizontal movement.
gcode = 
	{% set svv = printer.save_variables.variables %}
	SAVE_GCODE_STATE NAME=_filament_change_state
	{% set prev_pa = printer.extruder.pressure_advance %}
	SET_PRESSURE_ADVANCE ADVANCE=0
	G1 E-33 F3000
	G1 X15 Y0 F10000
	G1 X15 Y-23 F10000
	G1 X-2 Y-23 F10000
	
	
	G1 E-100 F3000
	G1 X15 Y-23 F10000
	SET_PRESSURE_ADVANCE ADVANCE={prev_pa}
	RESTORE_GCODE_STATE NAME=_filament_change_state MOVE=1

[gcode_macro TS0]
gcode = 
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=0 WHITE=1 INDEX=1 TRANSMIT=1
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=0 WHITE=0 INDEX=3 TRANSMIT=1
	TOOL_SELECT TOOL=0

[gcode_macro TS1]
gcode = 
	SET_LED LED=mmu_LED RED=1 GREEN=0 BLUE=0 WHITE=0 INDEX=1 TRANSMIT=1
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=0 WHITE=0 INDEX=3 TRANSMIT=1
	TOOL_SELECT TOOL=1

[gcode_macro TS2]
gcode = 
	SET_LED LED=mmu_LED RED=0 GREEN=1 BLUE=0 WHITE=0 INDEX=1 TRANSMIT=1
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=0 WHITE=0 INDEX=3 TRANSMIT=1
	TOOL_SELECT TOOL=2

[gcode_macro TS3]
gcode = 
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=1 WHITE=0 INDEX=1 TRANSMIT=1
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=0 WHITE=0 INDEX=3 TRANSMIT=1
	TOOL_SELECT TOOL=3

[gcode_macro TOOL_SELECT]
gcode = 
	{% set TOOL = params.TOOL|int %}
	M117 "Setting tool to TOOL{TOOL}"
	{% if TOOL == 0 %}
	MANUAL_STEPPER stepper=selector MOVE=0
	{% elif TOOL == 1 %}
	MANUAL_STEPPER stepper=selector MOVE=0.5
	{% elif TOOL == 2 %}
	MANUAL_STEPPER stepper=selector MOVE=1.0
	{% elif TOOL == 3 %}
	MANUAL_STEPPER stepper=selector MOVE=1.5
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TOOL_INIT VARIABLE=tool VALUE={TOOL}

[gcode_macro TOOL_FREE]
gcode = 
	{% set TOOL = params.TOOL|int %}
	M117 "Free filament path for tool {TOOL}"
	{% if TOOL == 0 %}
	MANUAL_STEPPER stepper=selector MOVE=1
	{% elif TOOL == 1 %}
	MANUAL_STEPPER stepper=selector MOVE=1.5
	{% elif TOOL == 2 %}
	MANUAL_STEPPER stepper=selector MOVE=0
	{% elif TOOL == 3 %}
	MANUAL_STEPPER stepper=selector MOVE=0.5
	{% endif %}

[gcode_macro CHAMELEON_UNLOAD]
description = Unloads the filament from the tubing
gcode = 
	SET_LED LED=mmu_LED RED=1 GREEN=0 BLUE=0 WHITE=0 INDEX=2 TRANSMIT=1
	{% set TOOL=printer["gcode_macro TOOL_INIT"].tool %}
	{% set YSPLIT_DIST=printer["gcode_macro TOOL_INIT"].ysplit_distance %}
	MANUAL_STEPPER STEPPER=chameleon SET_POSITION=0
	{% if TOOL == 0 or TOOL == 1 %}
	M117 "Move tool {TOOL} by -{YSPLIT_DIST}"
	MANUAL_STEPPER stepper=chameleon MOVE=-{YSPLIT_DIST} SPEED=200 ACCEL=200
	{% else %}
	M117 "Move tool {TOOL} by {YSPLIT_DIST}"
	MANUAL_STEPPER stepper=chameleon MOVE={YSPLIT_DIST} SPEED=200 ACCEL=200
	{% endif %}
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=0 WHITE=1 INDEX=2 TRANSMIT=1

[gcode_macro CHAMELEON_LOAD]
description = Loads the filament into the extruder bowden
gcode = 
	SET_LED LED=mmu_LED RED=0 GREEN=1 BLUE=0 WHITE=0 INDEX=2 TRANSMIT=1
	{% set TOOL=printer["gcode_macro TOOL_INIT"].tool %}
	{% set YSPLIT_DIST=printer["gcode_macro TOOL_INIT"].ysplit_distance %}
	MANUAL_STEPPER STEPPER=chameleon SET_POSITION=0
	{% if TOOL == 0 or TOOL == 1 %}
	M117 "Move tool {TOOL} by {YSPLIT_DIST}"
	MANUAL_STEPPER stepper=chameleon MOVE={YSPLIT_DIST} SPEED=200 ACCEL=200
	{% else %}
	M117 "Move tool {TOOL} by -{YSPLIT_DIST}"
	MANUAL_STEPPER stepper=chameleon MOVE=-{YSPLIT_DIST} SPEED=200 ACCEL=200
	{% endif %}
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=0 WHITE=1 INDEX=2 TRANSMIT=1

[gcode_macro EXTRUDER_UNLOAD]
description = Unloads the filament from the extruder before a tool change
gcode = 
	_Cut_Filament

[gcode_macro EXTRUDER_LOAD]
description = Loads the filament in the extruder after a tool change
gcode = 
	G92 E0
	G1 E98 F3000
	G1 E5 F300

[gcode_macro T0]
description = Changes the filament to that loaded in tool 0
gcode = 
	
	{% set TOOL= printer["gcode_macro TOOL_INIT"].tool %}
	{% set YSPLIT_DIST=printer["gcode_macro TOOL_INIT"].ysplit_distance %}
	
	PAUSE
	EXTRUDER_UNLOAD
	TOOL_SELECT TOOL={TOOL}
	CHAMELEON_UNLOAD
	
	{% set TOOL=0 %}
	SET_GCODE_VARIABLE MACRO=TOOL_INIT VARIABLE=tool VALUE=0
	TOOL_SELECT TOOL={TOOL}
	CHAMELEON_LOAD
	
	TOOL_FREE TOOL={TOOL}
	EXTRUDER_LOAD
	
	WIPE
	
	RESUME

[gcode_macro T1]
description = Changes the filament to that loaded in tool 1
gcode = 
	
	{% set TOOL= printer["gcode_macro TOOL_INIT"].tool %}
	{% set YSPLIT_DIST=printer["gcode_macro TOOL_INIT"].ysplit_distance %}
	
	PAUSE
	EXTRUDER_UNLOAD
	TOOL_SELECT TOOL={TOOL}
	CHAMELEON_UNLOAD
	
	{% set TOOL=1 %}
	SET_GCODE_VARIABLE MACRO=TOOL_INIT VARIABLE=tool VALUE={TOOL}
	TOOL_SELECT TOOL={TOOL}
	CHAMELEON_LOAD
	
	TOOL_FREE TOOL={TOOL}
	EXTRUDER_LOAD
	
	WIPE
	
	RESUME

[gcode_macro T2]
description = Changes the filament to that loaded in tool 2
gcode = 
	
	{% set TOOL= printer["gcode_macro TOOL_INIT"].tool %}
	{% set YSPLIT_DIST=printer["gcode_macro TOOL_INIT"].ysplit_distance %}
	
	PAUSE
	EXTRUDER_UNLOAD
	TOOL_SELECT TOOL={TOOL}
	CHAMELEON_UNLOAD
	
	{% set TOOL=2 %}
	SET_GCODE_VARIABLE MACRO=TOOL_INIT VARIABLE=tool VALUE={TOOL}
	TOOL_SELECT TOOL={TOOL}
	CHAMELEON_LOAD
	
	TOOL_FREE TOOL={TOOL}
	EXTRUDER_LOAD
	
	WIPE
	
	RESUME

[gcode_macro T3]
description = Changes the filament to that loaded in tool 2
gcode = 
	
	{% set TOOL= printer["gcode_macro TOOL_INIT"].tool %}
	{% set YSPLIT_DIST=printer["gcode_macro TOOL_INIT"].ysplit_distance %}
	
	PAUSE
	EXTRUDER_UNLOAD
	TOOL_SELECT TOOL={TOOL}
	CHAMELEON_UNLOAD
	
	{% set TOOL=3 %}
	TOOL_SELECT TOOL={TOOL}
	SET_GCODE_VARIABLE MACRO=TOOL_INIT VARIABLE=tool VALUE={TOOL}
	CHAMELEON_LOAD
	
	TOOL_FREE TOOL={TOOL}
	EXTRUDER_LOAD
	
	WIPE
	
	RESUME

[mcu PITB]
canbus_uuid = 2e8f2c113235

[fan_generic PITB_FAN0]
pin = PITB:gpio0
max_power = 1.0
kick_start_time = 0.5
off_below = 0.10

[fan_generic PITB_FAN1]
pin = PITB:gpio18
max_power = 1.0
kick_start_time = 0.5
off_below = 0.10

[neopixel PITB_LED]
pin = PITB:gpio19
color_order = GRBW
initial_red = 0.0
initial_green = 0.0
initial_blue = 0.0
initial_white = 0.0

[temperature_sensor mcu_pitb]
sensor_type = temperature_mcu
sensor_mcu = PITB

[output_pin activity_led]
pin = PITB:gpio15

[temperature_sensor enclosure_temp]
sensor_type = BME280
i2c_address = 118
i2c_mcu = PITB
i2c_bus = i2c0g

[neopixel Hotend_LED]
pin = EBBCan:PD3
chain_count = 3
color_order = GRBW
initial_red = 0.0
initial_green = 0.0
initial_blue = 0.0
initial_white = 0.0

[gcode_macro _sb_vars]
variable_colors = {
	'logo': {
	'busy': {'r': 0.4, 'g': 0.0, 'b': 0.0, 'w': 0.0},
	'cleaning': {'r': 0.0, 'g': 0.02, 'b': 0.5, 'w': 0.0},
	'calibrating_z': {'r': 0.8, 'g': 0., 'b': 0.35, 'w': 0.0},
	'heating': {'r': 0.3, 'g': 0.18, 'b': 0.0, 'w': 0.0},
	'homing': {'r': 0.0, 'g': 0.6, 'b': 0.2, 'w': 0.0},
	'leveling': {'r': 0.5, 'g': 0.1, 'b': 0.4, 'w': 0.0},
	'meshing': {'r': 0.2, 'g': 1.0, 'b': 0.0, 'w': 0.0},
	'off': {'r': 0.0, 'g': 0.0, 'b': 0.0, 'w': 0.0},
	'printing': {'r': 1.0, 'g': 1.0, 'b': 1.0, 'w': 1.0},
	'standby': {'r': 0.01, 'g': 0.01, 'b': 0.5, 'w': 0.1}
	},
	'nozzle': {
	'heating': {'r': 0.8, 'g': 0.35, 'b': 0.0, 'w':0.0},
	'off': {'r': 0.0, 'g': 0.0, 'b': 0.0, 'w': 0.0},
	'on': {'r': 0.8, 'g': 0.8, 'b': 0.8, 'w':1.0},
	'standby': {'r': 0.0, 'g': 0.0, 'b': 0.0, 'w':0.5},
	'hot': {'r': 1.0, 'g': 0.0, 'b': 0.0, 'w': 0.0},
	'cold': {'r': 0.3, 'g': 0.0, 'b': 1.0, 'w': 0.0}
	},
	'thermal': {
	'hot': {'r': 1.0, 'g': 0.0, 'b': 0.0, 'w': 0.0},
	'cold': {'r': 0.3, 'g': 0.0, 'b': 0.3, 'w': 0.0},
	'busy': {'r': 0.4, 'g': 0.0, 'b': 0.0, 'w': 0.0},
	'cleaning': {'r': 0.0, 'g': 0.02, 'b': 0.5, 'w': 0.0},
	'calibrating_z': {'r': 0.8, 'g': 0., 'b': 0.35, 'w': 0.0},
	'heating': {'r': 0.3, 'g': 0.18, 'b': 0.0, 'w': 0.0},
	'homing': {'r': 0.0, 'g': 0.6, 'b': 0.2, 'w': 0.0},
	'leveling': {'r': 0.5, 'g': 0.1, 'b': 0.4, 'w': 0.0},
	'meshing': {'r': 0.2, 'g': 1.0, 'b': 0.0, 'w': 0.0},
	'off': {'r': 0.0, 'g': 0.0, 'b': 0.0, 'w': 0.0},
	'printing': {'r': 1.0, 'g': 1.0, 'b': 1.0, 'w': 1.0},
	'standby': {'r': 0.01, 'g': 0.01, 'b': 0.01, 'w': 0.1}
	}
	}
variable_logo_led_name = "Hotend_LED"
variable_logo_idx = "3"
variable_nozzle_led_name = "Hotend_LED"
variable_nozzle_idx = "1,2"
variable_thermal_led_name = "Main_LED"
variable_thermal_idx = "1,2,3,4,5,6,7,8,9,10,21,22,23,24"
variable_control1_led_name = "LCD_BUTTON_LED"
variable_control1_idx = "1"
variable_thermal_config = {
	'extruder': {
	'cool_temp': 40,
	'leds': 'nozzle',
	},
	'heater_bed': {
	'cool_temp': 40,
	'leds': 'thermal',
	},
	}
gcode = 

[gcode_macro _set_sb_leds]
gcode = 
	{% set red = params.RED|default(0)|float %}
	{% set green = params.GREEN|default(0)|float %}
	{% set blue = params.BLUE|default(0)|float %}
	{% set white = params.WHITE|default(0)|float %}
	{% set led = params.LED|string %}
	{% set idx = (params.IDX|string).split(',') %}
	{% set transmit_last = params.TRANSMIT|default(1) %}
	
	{% for led_index in idx %}
	{% set transmit=transmit_last if loop.last else 0 %}
	set_led led={led} red={red} green={green} blue={blue} white={white} index={led_index} transmit={transmit}
	{% endfor %}

[gcode_macro _set_sb_leds_by_name]
gcode = 
	{% set leds_name = params.LEDS %}
	{% set color_name = params.COLOR %}
	{% set color = printer["gcode_macro _sb_vars"].colors[leds_name][color_name] %}
	{% set led = printer["gcode_macro _sb_vars"][leds_name + "_led_name"] %}
	{% set idx = printer["gcode_macro _sb_vars"][leds_name + "_idx"] %}
	{% set transmit = params.TRANSMIT|default(1) %}
	
	_set_sb_leds led={led} red={color.r} green={color.g} blue={color.b} white={color.w} idx="{idx}" transmit={transmit}

[gcode_macro _set_thermal_leds]
gcode = 
	{% set red = params.RED|default(0)|float %}
	{% set green = params.GREEN|default(0)|float %}
	{% set blue = params.BLUE|default(0)|float %}
	{% set white = params.WHITE|default(0)|float %}
	{% set led = printer["gcode_macro _sb_vars"].thermal_led_name %}
	{% set idx = printer["gcode_macro _sb_vars"].thermal_idx %}
	{% set transmit=params.TRANSMIT|default(1) %}
	
	_set_sb_leds led={led} red={red} green={green} blue={blue} white={white} idx="{idx}" transmit={transmit}

[gcode_macro _set_logo_leds]
gcode = 
	{% set red = params.RED|default(0)|float %}
	{% set green = params.GREEN|default(0)|float %}
	{% set blue = params.BLUE|default(0)|float %}
	{% set white = params.WHITE|default(0)|float %}
	{% set led = printer["gcode_macro _sb_vars"].logo_led_name %}
	{% set idx = printer["gcode_macro _sb_vars"].logo_idx %}
	{% set transmit=params.TRANSMIT|default(1) %}
	
	_set_sb_leds led={led} red={red} green={green} blue={blue} white={white} idx="{idx}" transmit={transmit}

[gcode_macro _set_nozzle_leds]
gcode = 
	{% set red = params.RED|default(0)|float %}
	{% set green = params.GREEN|default(0)|float %}
	{% set blue = params.BLUE|default(0)|float %}
	{% set white = params.WHITE|default(0)|float %}
	{% set led = printer["gcode_macro _sb_vars"].nozzle_led_name %}
	{% set idx = printer["gcode_macro _sb_vars"].nozzle_idx %}
	{% set transmit=params.TRANSMIT|default(1) %}
	
	_set_sb_leds led={led} red={red} green={green} blue={blue} white={white} idx="{idx}" transmit={transmit}

[gcode_macro set_thermal_leds_off]
gcode = 
	{% set transmit=params.TRANSMIT|default(1) %}
	_set_thermal_leds red=0 blue=0 green=0 white=0 transmit={transmit}

[gcode_macro set_logo_leds_off]
gcode = 
	{% set transmit=params.TRANSMIT|default(1) %}
	_set_logo_leds red=0 blue=0 green=0 white=0 transmit={transmit}

[gcode_macro set_nozzle_leds_on]
gcode = 
	{% set transmit=params.TRANSMIT|default(1) %}
	_set_sb_leds_by_name leds="nozzle" color="on" transmit={transmit}

[gcode_macro set_nozzle_leds_off]
gcode = 
	{% set transmit=params.TRANSMIT|default(1) %}
	_set_sb_leds_by_name leds="nozzle" color="off" transmit={transmit}

[gcode_macro status_off]
gcode = 
	set_logo_leds_off transmit=0
	set_thermal_leds_off transmit=0
	set_nozzle_leds_off

[gcode_macro status_ready]
gcode = 
	_set_sb_leds_by_name leds="logo" color="standby" transmit=1
	_set_sb_leds_by_name leds="thermal" color="standby" transmit=1
	_set_sb_leds_by_name leds="nozzle" color="standby" transmit=1

[gcode_macro status_busy]
gcode = 
	_set_sb_leds_by_name leds="logo" color="busy" transmit=1
	_set_sb_leds_by_name leds="thermal" color="busy" transmit=1
	set_nozzle_leds_on

[gcode_macro status_heating]
gcode = 
	_set_sb_leds_by_name leds="logo" color="heating" transmit=1
	_set_sb_leds_by_name leds="thermal" color="heating" transmit=1
	_set_sb_leds_by_name leds="nozzle" color="heating" transmit=1

[gcode_macro status_leveling]
gcode = 
	_set_sb_leds_by_name leds="logo" color="leveling" transmit=1
	_set_sb_leds_by_name leds="thermal" color="leveling" transmit=1
	set_nozzle_leds_on

[gcode_macro status_homing]
gcode = 
	_set_sb_leds_by_name leds="logo" color="homing" transmit=1
	_set_sb_leds_by_name leds="thermal" color="homing" transmit=1
	set_nozzle_leds_on

[gcode_macro status_cleaning]
gcode = 
	_set_sb_leds_by_name leds="logo" color="cleaning" transmit=1
	_set_sb_leds_by_name leds="thermal" color="cleaning" transmit=1
	set_nozzle_leds_on

[gcode_macro status_meshing]
gcode = 
	_set_sb_leds_by_name leds="logo" color="meshing" transmit=1
	_set_sb_leds_by_name leds="thermal" color="meshing" transmit=1
	set_nozzle_leds_on

[gcode_macro status_calibrating_z]
gcode = 
	_set_sb_leds_by_name leds="logo" color="calibrating_z" transmit=1
	_set_sb_leds_by_name leds="thermal" color="calibrating_z" transmit=1
	set_nozzle_leds_on

[gcode_macro status_printing]
gcode = 
	_set_sb_leds_by_name leds="logo" color="printing" transmit=1
	_set_sb_leds_by_name leds="thermal" color="printing" transmit=1
	set_nozzle_leds_on

[virtual_sdcard]
path = ~/printer_data/gcodes
on_error_gcode = CANCEL_PRINT

[pause_resume]
recover_velocity = 50.

[display_status]

[respond]
default_type = echo
default_prefix = 

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = CANCEL_PRINT_BASE
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set allow_park = client.park_at_cancel | default(false) | lower == 'true' %}
	{% set retract = client.cancel_retract | default(5.0) | abs %}
	
	{% set park_x = "" if (client.park_at_cancel_x | default(none) is none)
	else "X=" ~ client.park_at_cancel_x %}
	{% set park_y = "" if (client.park_at_cancel_y | default(none) is none)
	else "Y=" ~ client.park_at_cancel_y %}
	{% set custom_park = park_x | length > 0 or park_y | length > 0 %}
	
	
	{% if printer['gcode_macro RESUME'].restore_idle_timeout > 0 %}
	SET_IDLE_TIMEOUT TIMEOUT={printer['gcode_macro RESUME'].restore_idle_timeout}
	{% endif %}
	{% if (custom_park or not printer.pause_resume.is_paused) and allow_park %} _TOOLHEAD_PARK_PAUSE_CANCEL {park_x} {park_y} {% endif %}
	_CLIENT_RETRACT LENGTH={retract}
	TURN_OFF_HEATERS
	M106 S0
	{client.user_cancel_macro | default("")}
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=idle_state VALUE=False
	
	SET_PAUSE_NEXT_LAYER ENABLE=0
	SET_PAUSE_AT_LAYER ENABLE=0 LAYER=0
	CANCEL_PRINT_BASE

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = PAUSE_BASE
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set idle_timeout = client.idle_timeout | default(0) %}
	{% set temp = printer[printer.toolhead.extruder].target if printer.toolhead.extruder != '' else 0 %}
	{% set restore = False if printer.toolhead.extruder == ''
	else True  if params.RESTORE | default(1) | int == 1 else False %}
	
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=last_extruder_temp VALUE="{{'restore': restore, 'temp': temp}}"
	
	{% if idle_timeout > 0 %}
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=restore_idle_timeout VALUE={printer.configfile.settings.idle_timeout.timeout}
	SET_IDLE_TIMEOUT TIMEOUT={idle_timeout}
	{% endif %}
	PAUSE_BASE
	{client.user_pause_macro | default("")}
	_TOOLHEAD_PARK_PAUSE_CANCEL {rawparams}

[gcode_macro RESUME]
description = Resume while heat soaking results in the soaking phase being skipped, any complete callback is run
rename_existing = _HEAT_SOAK__BASE_RESUME
variable_last_extruder_temp = {'restore': False, 'temp': 0}
variable_restore_idle_timeout = 0
variable_idle_state = False
gcode = 
	HEAT_SOAK_RESUME ON_RESUME=_HEAT_SOAK__BASE_RESUME

[gcode_macro SET_PAUSE_NEXT_LAYER]
description = Enable a pause if the next layer is reached
gcode = 
	{% set pause_next_layer = printer['gcode_macro SET_PRINT_STATS_INFO'].pause_next_layer %}
	{% set ENABLE = params.ENABLE | default(1)|int != 0 %}
	{% set MACRO = params.MACRO | default(pause_next_layer.call, True) %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{ 'enable': ENABLE, 'call': MACRO }}"

[gcode_macro SET_PAUSE_AT_LAYER]
description = Enable/disable a pause if a given layer number is reached
gcode = 
	{% set pause_at_layer = printer['gcode_macro SET_PRINT_STATS_INFO'].pause_at_layer %}
	{% set ENABLE = params.ENABLE | int != 0 if params.ENABLE is defined
	else params.LAYER is defined %}
	{% set LAYER = params.LAYER | default(pause_at_layer.layer) | int %}
	{% set MACRO = params.MACRO | default(pause_at_layer.call, True) %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{ 'enable': ENABLE, 'layer': LAYER, 'call': MACRO }}"

[gcode_macro SET_PRINT_STATS_INFO]
rename_existing = SET_PRINT_STATS_INFO_BASE
description = Overwrite, to get pause_next_layer and pause_at_layer feature
variable_pause_next_layer = { 'enable': False, 'call': "PAUSE" }
variable_pause_at_layer = { 'enable': False, 'layer': 0, 'call': "PAUSE" }
gcode = 
	{% if pause_next_layer.enable %}
	RESPOND TYPE=echo MSG='{"%s, forced by pause_next_layer" % pause_next_layer.call}'
	{pause_next_layer.call}
	SET_PAUSE_NEXT_LAYER ENABLE=0
	{% elif pause_at_layer.enable and params.CURRENT_LAYER is defined and params.CURRENT_LAYER | int == pause_at_layer.layer %}
	RESPOND TYPE=echo MSG='{"%s, forced by pause_at_layer [%d]" % (pause_at_layer.call, pause_at_layer.layer)}'
	{pause_at_layer.call}
	SET_PAUSE_AT_LAYER ENABLE=0
	{% endif %}
	SET_PRINT_STATS_INFO_BASE {rawparams}

[gcode_macro _TOOLHEAD_PARK_PAUSE_CANCEL]
description = Helper: park toolhead used in PAUSE and CANCEL_PRINT
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set use_custom     = client.use_custom_pos | default(false) | lower == 'true' %}
	{% set custom_park_x  = client.custom_park_x | default(0.0) %}
	{% set custom_park_y  = client.custom_park_y | default(0.0) %}
	{% set park_dz        = client.custom_park_dz | default(2.0) | abs %}
	{% set sp_hop         = client.speed_hop | default(15) * 60 %}
	{% set sp_move        = client.speed_move | default(velocity) * 60 %}
	
	{% set origin    = printer.gcode_move.homing_origin %}
	{% set act       = printer.gcode_move.gcode_position %}
	{% set max       = printer.toolhead.axis_maximum %}
	{% set cone      = printer.toolhead.cone_start_z | default(max.z) %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	
	{% set z_min = params.Z_MIN | default(0) | float %}
	{% set z_park = [[(act.z + park_dz), z_min]|max, (max.z - origin.z)] | min %}
	{% set x_park = params.X       if params.X is defined
	else custom_park_x  if use_custom
	else 0.0            if round_bed
	else (max.x - 5.0) %}
	{% set y_park = params.Y       if params.Y is defined
	else custom_park_y  if use_custom
	else (max.y - 5.0)  if round_bed and z_park < cone
	else 0.0            if round_bed
	else (max.y - 5.0) %}
	
	_CLIENT_RETRACT
	{% if "xyz" in printer.toolhead.homed_axes %}
	G90
	G1 Z{z_park} F{sp_hop}
	G1 X{x_park} Y{y_park} F{sp_move}
	{% if not printer.gcode_move.absolute_coordinates %} G91 {% endif %}
	{% else %}
	RESPOND TYPE=echo MSG='Printer not homed'
	{% endif %}

[gcode_macro _CLIENT_EXTRUDE]
description = Extrudes, if the extruder is hot enough
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set use_fw_retract = (client.use_fw_retract | default(false) | lower == 'true') and (printer.firmware_retraction is defined) %}
	{% set length = params.LENGTH | default(client.unretract) | default(1.0) | float %}
	{% set speed = params.SPEED | default(client.speed_unretract) | default(35) %}
	{% set absolute_extrude = printer.gcode_move.absolute_extrude %}
	
	{% if printer.toolhead.extruder != '' %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if use_fw_retract %}
	{% if length < 0 %}
	G10
	{% else %}
	G11
	{% endif %}
	{% else %}
	M83
	G1 E{length} F{(speed | float | abs) * 60}
	{% if absolute_extrude %}
	M82
	{% endif %}
	{% endif %}
	{% else %}
	RESPOND TYPE=echo MSG='{"\"%s\" not hot enough" % printer.toolhead.extruder}'
	{% endif %}
	{% endif %}

[gcode_macro _CLIENT_RETRACT]
description = Retracts, if the extruder is hot enough
gcode = 
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set length = params.LENGTH | default(client.retract) | default(1.0) | float %}
	{% set speed = params.SPEED | default(client.speed_retract) | default(35) %}
	
	_CLIENT_EXTRUDE LENGTH=-{length | float | abs} SPEED={speed | float | abs}

[gcode_macro GET_TIMELAPSE_SETUP]
description = Print the Timelapse setup
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set output_txt = ["Timelapse Setup:"] %}
	{% set _dummy = output_txt.append("enable: %s" % tl.enable) %}
	{% set _dummy = output_txt.append("park: %s" % tl.park.enable) %}
	{% if tl.park.enable %}
	{% set _dummy = output_txt.append("park position: %s time: %s s" % (tl.park.pos, tl.park.time)) %}
	{% set _dummy = output_txt.append("park cord x:%s y:%s dz:%s" % (tl.park.coord.x, tl.park.coord.y, tl.park.coord.dz)) %}
	{% set _dummy = output_txt.append("travel speed: %s mm/s" % tl.speed.travel) %}
	{% endif %}
	{% set _dummy = output_txt.append("fw_retract: %s" % tl.extruder.fw_retract) %}
	{% if not tl.extruder.fw_retract %}
	{% set _dummy = output_txt.append("retract: %s mm speed: %s mm/s" % (tl.extruder.retract, tl.speed.retract)) %}
	{% set _dummy = output_txt.append("extrude: %s mm speed: %s mm/s" % (tl.extruder.extrude, tl.speed.extrude)) %}
	{% endif %}
	{% set _dummy = output_txt.append("verbose: %s" % tl.verbose) %}
	{action_respond_info(output_txt|join("\n"))}

[gcode_macro _SET_TIMELAPSE_SETUP]
description = Set user parameters for timelapse
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	{% set park = {'min'   : {'x': (min.x / 1.42)|round(3) if round_bed else min.x|round(3),
	'y': (min.y / 1.42)|round(3) if round_bed else min.y|round(3)},
	'max'   : {'x': (max.x / 1.42)|round(3) if round_bed else max.x|round(3),
	'y': (max.y / 1.42)|round(3) if round_bed else max.y|round(3)},
	'center': {'x': (max.x-(max.x-min.x)/2)|round(3),
	'y': (max.y-(max.y-min.y)/2)|round(3)}} %}
	
	{% if params.ENABLE %}
	{% if params.ENABLE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=enable VALUE={True if params.ENABLE|lower == 'true' else False}
	{% else %}
	{action_raise_error("ENABLE=%s not supported. Allowed values are [True, False]" % params.ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.VERBOSE %}
	{% if params.VERBOSE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=verbose VALUE={True if params.VERBOSE|lower == 'true' else False}
	{% else %}
	{action_raise_error("VERBOSE=%s not supported. Allowed values are [True, False]" % params.VERBOSE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_X %}
	{% if params.CUSTOM_POS_X|float >= min.x and params.CUSTOM_POS_X|float <= max.x %}
	{% set _dummy = tl.park.custom.update({'x':params.CUSTOM_POS_X|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_X=%s must be within [%s - %s]" % (params.CUSTOM_POS_X, min.x, max.x))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_Y %}
	{% if params.CUSTOM_POS_Y|float >= min.y and params.CUSTOM_POS_Y|float <= max.y %}
	{% set _dummy = tl.park.custom.update({'y':params.CUSTOM_POS_Y|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_Y=%s must be within [%s - %s]" % (params.CUSTOM_POS_Y, min.y, max.y))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_DZ %}
	{% if params.CUSTOM_POS_DZ|float >= min.z and params.CUSTOM_POS_DZ|float <= max.z %}
	{% set _dummy = tl.park.custom.update({'dz':params.CUSTOM_POS_DZ|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_DZ=%s must be within [%s - %s]" % (params.CUSTOM_POS_DZ, min.z, max.z))}
	{% endif %}
	{% endif %}
	{% if params.PARK_ENABLE %}
	{% if params.PARK_ENABLE|lower is in ['true', 'false'] %}
	{% set _dummy = tl.park.update({'enable':True if params.PARK_ENABLE|lower == 'true' else False}) %}
	{% else %}
	{action_raise_error("PARK_ENABLE=%s not supported. Allowed values are [True, False]" % params.PARK_ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.PARK_POS %}
	{% if params.PARK_POS|lower is in ['center','front_left','front_right','back_left','back_right','custom','x_only','y_only'] %}
	{% set dic = {'center'      : {'x': park.center.x   , 'y': park.center.y   , 'dz': 1                },
	'front_left'  : {'x': park.min.x      , 'y': park.min.y      , 'dz': 0                },
	'front_right' : {'x': park.max.x      , 'y': park.min.y      , 'dz': 0                },
	'back_left'   : {'x': park.min.x      , 'y': park.max.y      , 'dz': 0                },
	'back_right'  : {'x': park.max.x      , 'y': park.max.y      , 'dz': 0                },
	'custom'      : {'x': tl.park.custom.x, 'y': tl.park.custom.y, 'dz': tl.park.custom.dz},
	'x_only'      : {'x': tl.park.custom.x, 'y': 'none'          , 'dz': tl.park.custom.dz},
	'y_only'      : {'x': 'none'          , 'y': tl.park.custom.y, 'dz': tl.park.custom.dz}} %}
	{% set _dummy = tl.park.update({'pos':params.PARK_POS|lower}) %}
	{% set _dummy = tl.park.update({'coord':dic[tl.park.pos]}) %}
	{% else %}
	{action_raise_error("PARK_POS=%s not supported. Allowed values are [CENTER, FRONT_LEFT, FRONT_RIGHT, BACK_LEFT, BACK_RIGHT, CUSTOM, X_ONLY, Y_ONLY]"
	% params.PARK_POS|upper)}
	{% endif %}
	{% endif %}
	{% if params.PARK_TIME %}
	{% if params.PARK_TIME|float >= 0.0 %}
	{% set _dummy = tl.park.update({'time':params.PARK_TIME|float|round(3)}) %}
	{% else %}
	{action_raise_error("PARK_TIME=%s must be a positive number" % params.PARK_TIME)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=park VALUE="{tl.park}"
	{% if params.TRAVEL_SPEED %}
	{% if params.TRAVEL_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'travel':params.TRAVEL_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("TRAVEL_SPEED=%s must be larger than 0" % params.TRAVEL_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_SPEED %}
	{% if params.RETRACT_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'retract':params.RETRACT_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_SPEED=%s must be larger than 0" % params.RETRACT_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.EXTRUDE_SPEED %}
	{% if params.EXTRUDE_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'extrude':params.EXTRUDE_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_SPEED=%s must be larger than 0" % params.EXTRUDE_SPEED)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=speed VALUE="{tl.speed}"
	{% if params.EXTRUDE_DISTANCE %}
	{% if params.EXTRUDE_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'extrude':params.EXTRUDE_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_DISTANCE=%s must be specified as positiv number" % params.EXTRUDE_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_DISTANCE %}
	{% if params.RETRACT_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'retract':params.RETRACT_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_DISTANCE=%s must be specified as positiv number" % params.RETRACT_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.FW_RETRACT %}
	{% if params.FW_RETRACT|lower is in ['true', 'false'] %}
	{% if 'firmware_retraction' in printer.configfile.settings %}
	{% set _dummy = tl.extruder.update({'fw_retract': True if params.FW_RETRACT|lower == 'true' else False}) %}
	{% else %}
	{% set _dummy = tl.extruder.update({'fw_retract':False}) %}
	{% if params.FW_RETRACT|capitalize == 'True' %}
	{action_raise_error("[firmware_retraction] not defined in printer.cfg. Can not enable fw_retract")}
	{% endif %}
	{% endif %}
	{% else %}
	{action_raise_error("FW_RETRACT=%s not supported. Allowed values are [True, False]" % params.FW_RETRACT|capitalize)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=extruder VALUE="{tl.extruder}"
	{% if printer.configfile.settings['gcode_macro pause'] is defined %}
	{% set _dummy = tl.macro.update({'pause': printer.configfile.settings['gcode_macro pause'].rename_existing}) %}
	{% endif %}
	{% if printer.configfile.settings['gcode_macro resume'] is defined %}
	{% set _dummy = tl.macro.update({'resume': printer.configfile.settings['gcode_macro resume'].rename_existing}) %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=macro VALUE="{tl.macro}"

[gcode_macro TIMELAPSE_TAKE_FRAME]
description = Take Timelapse shoot
variable_enable = False
variable_takingframe = False
variable_park = {'enable': False,
	'pos'   : 'center',
	'time'  : 0.1,
	'custom': {'x': 0, 'y': 0, 'dz': 0},
	'coord' : {'x': 0, 'y': 0, 'dz': 0}}
variable_extruder = {'fw_retract': False,
	'retract': 1.0,
	'extrude': 1.0}
variable_speed = {'travel': 100,
	'retract': 15,
	'extrude': 15}
variable_verbose = True
variable_check_time = 0.5
variable_restore = {'absolute': {'coordinates': True, 'extrude': True}, 'speed': 1500, 'e':0, 'factor': {'speed': 1.0, 'extrude': 1.0}}
variable_macro = {'pause': 'PAUSE', 'resume': 'RESUME'}
variable_is_paused = False
gcode = 
	{% set hyperlapse = True if params.HYPERLAPSE and params.HYPERLAPSE|lower =='true' else False %}
	{% if enable %}
	{% if (hyperlapse and printer['gcode_macro HYPERLAPSE'].run) or
	(not hyperlapse and not printer['gcode_macro HYPERLAPSE'].run) %}
	{% if park.enable %}
	{% set pos = {'x': 'X' + park.coord.x|string if park.pos != 'y_only' else '',
	'y': 'Y' + park.coord.y|string if park.pos != 'x_only' else '',
	'z': 'Z'+ [printer.gcode_move.gcode_position.z + park.coord.dz, printer.toolhead.axis_maximum.z]|min|string} %}
	{% set restore = {'absolute': {'coordinates': printer.gcode_move.absolute_coordinates,
	'extrude'    : printer.gcode_move.absolute_extrude},
	'speed'   : printer.gcode_move.speed,
	'e'       : printer.gcode_move.gcode_position.e,
	'factor'  : {'speed'  : printer.gcode_move.speed_factor,
	'extrude': printer.gcode_move.extrude_factor}} %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=restore VALUE="{restore}"
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, minimum extruder temperature not reached!")}{% endif %}
	{% else %}
	{% if extruder.fw_retract %}
	G10
	{% else %}
	M83
	G0 E-{extruder.retract} F{speed.retract * 60}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=True
	{macro.pause}
	SET_GCODE_OFFSET X=0 Y=0
	G90
	{% if "xyz" not in printer.toolhead.homed_axes %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, axis not homed yet!")}{% endif %}
	{% else %}
	G0 {pos.x} {pos.y} {pos.z} F{speed.travel * 60}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=takingframe VALUE=True
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={check_time}
	M400
	{% endif %}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE={hyperlapse}
	{% endif %}
	{% else %}
	{% if verbose %}{action_respond_info("Timelapse: disabled, take frame ignored")}{% endif %}
	{% endif %}

[gcode_macro _TIMELAPSE_NEW_FRAME]
description = action call for timelapse shoot. must be a seperate macro
gcode = 
	{action_call_remote_method("timelapse_newframe",
	macropark=printer['gcode_macro TIMELAPSE_TAKE_FRAME'].park,
	hyperlapse=params.HYPERLAPSE)}

[delayed_gcode _WAIT_TIMELAPSE_TAKE_FRAME]
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set factor = {'speed': printer.gcode_move.speed_factor, 'extrude': printer.gcode_move.extrude_factor} %}
	{% if tl.takingframe %}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={tl.check_time}
	{% else %}
	{tl.macro.resume} VELOCITY={tl.speed.travel}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=False
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{action_respond_info("Timelapse: Warning minimum extruder temperature not reached!")}
	{% else %}
	{% if tl.extruder.fw_retract %}
	G11
	{% else %}
	G0 E{tl.extruder.extrude} F{tl.speed.extrude * 60}
	G0 F{tl.restore.speed}
	{% if tl.restore.absolute.extrude %}
	M82
	G92 E{tl.restore.e}
	{% endif %}
	{% endif %}
	{% endif %}
	{% if tl.restore.factor.speed   != factor.speed   %} M220 S{(factor.speed*100)|round(0)}   {% endif %}
	{% if tl.restore.factor.extrude != factor.extrude %} M221 S{(factor.extrude*100)|round(0)} {% endif %}
	{% if not tl.restore.absolute.coordinates %} G91 {% endif %}
	{% endif %}

[gcode_macro HYPERLAPSE]
description = Start/Stop a hyperlapse recording
variable_cycle = 0
variable_run = False
gcode = 
	{% set cycle = params.CYCLE|default(30)|int %}
	{% if params.ACTION and params.ACTION|lower == 'start' %}
	{action_respond_info("Hyperlapse: frames started (Cycle %d sec)" % cycle)}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=True
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=cycle VALUE={cycle}
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True
	{% elif params.ACTION and params.ACTION|lower == 'stop' %}
	{% if run %}{action_respond_info("Hyperlapse: frames stopped")}{% endif %}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=False
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION=0
	{% else %}
	{action_raise_error("Hyperlapse: No valid input parameter
	Use:
	- HYPERLAPSE ACTION=START [CYCLE=time]
	- HYPERLAPSE ACTION=STOP")}
	{% endif %}

[delayed_gcode _HYPERLAPSE_LOOP]
gcode = 
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={printer["gcode_macro HYPERLAPSE"].cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True

[gcode_macro TIMELAPSE_RENDER]
description = Render Timelapse video and wait for the result
variable_render = False
variable_run_identifier = 0
gcode = 
	{action_respond_info("Timelapse: Rendering started")}
	{action_call_remote_method("timelapse_render", byrendermacro="True")}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=render VALUE=True
	{printer.configfile.settings['gcode_macro pause'].rename_existing}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5

[delayed_gcode _WAIT_TIMELAPSE_RENDER]
gcode = 
	{% set ri = printer['gcode_macro TIMELAPSE_RENDER'].run_identifier % 4 %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=run_identifier VALUE={ri + 1}
	{% if printer['gcode_macro TIMELAPSE_RENDER'].render %}
	M117 Rendering {['-','\\','|','/'][ri]}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5
	{% else %}
	{action_respond_info("Timelapse: Rendering finished")}
	M117
	{printer.configfile.settings['gcode_macro resume'].rename_existing}
	{% endif %}

[gcode_macro TEST_STREAM_DELAY]
description = Helper macro to find stream and park delay
gcode = 
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set act = printer.toolhead.position %}
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% if act.z > 5.0 %}
	G0 X{min.x + 5.0} F{tl.speed.travel|int * 60}
	G0 X{(max.x-min.x)/2}
	G4 P{tl.park.time|float * 1000}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE=FALSE
	G0 X{max.x - 5.0}
	{% else %}
	{action_raise_error("Toolhead z %.3f to low. Please place head above z = 5.0" % act.z)}
	{% endif %}

[gcode_macro HEAT_SOAK]
description = Wait for a temperature sensor to reach thermal equilibrium
variable_last_temp = 0
variable_last_soak_temp_rate = None
variable_temp_history = None
variable_smoothed_temp_history = None
variable_stage = "done"
variable_total_time_elapsed = 0
variable_soak_time_remaining = 30
variable_check_interval = 1
variable_heating_report_interval = 2
variable_soaking_report_interval = 5
variable_heater_sensor = None
variable_soaker_sensor = None
variable_target_temp = 0.0
variable_min_soak_temp = 0
variable_target_rate = 0.3
variable_complete = None
variable_cancel = None
variable_temp_smooth_time = 4.0
variable_rate_smooth_time = 20.0
variable_resume_trigger = False
variable_was_print_active = False
gcode = 
	{ action_respond_info( "Heat Soak starting" )}
	
	
	{% set SOAKER = params.SOAKER | string %}
	{% set RATE = params.RATE | default(0.3) | float %}
	{% set SOAK_TEMP = params.SOAK_TEMP | default(0.0) | float %}
	{% set HEATER = (params.HEATER | string) %}
	{% set TARGET = params.TARGET | default(0) | float %}
	{% set TIMEOUT = (params.TIMEOUT | default(30) | int) * 60 %}
	{% set TEMP_SMOOTH = params.TEMP_SMOOTH | default(4.0) | float %}
	{% set RATE_SMOOTH = params.RATE_SMOOTH | default(20) | float %}
	{% set COMPLETE  = (params.COMPLETE | string) %}
	{% set CANCEL  = (params.CANCEL | string) %}
	{% set HEATING_REPORT_INTERVAL  = params.HEATING_REPORT_INTERVAL | default(2) | int %}
	{% set SOAKING_REPORT_INTERVAL  = params.SOAKING_REPORT_INTERVAL | default(5) | int %}
	
	
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=heater_sensor           VALUE="{HEATER | pprint}"
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=target_temp             VALUE={TARGET}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=min_soak_temp           VALUE={SOAK_TEMP}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=soaker_sensor           VALUE="{SOAKER | pprint}"
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=target_rate             VALUE={RATE}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=soak_time_remaining     VALUE={TIMEOUT}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=complete                VALUE="'{COMPLETE}'"
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=cancel                  VALUE="'{CANCEL}'"
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=temp_smooth_time        VALUE={TEMP_SMOOTH}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=rate_smooth_time        VALUE={RATE_SMOOTH}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=heating_report_interval VALUE={HEATING_REPORT_INTERVAL}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=soaking_report_interval VALUE={SOAKING_REPORT_INTERVAL}
	
	
	{% set soak_temp = printer[SOAKER].temperature %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=last_temp               VALUE={soak_temp}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=temp_history            VALUE="{[soak_temp] | pprint}"
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=smoothed_temp_history   VALUE="{[] | pprint}"
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=total_time_elapsed      VALUE=0
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=last_soak_temp_rate     VALUE=None
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=check_interval          VALUE=1.0
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=resume_trigger          VALUE=False
	{% set is_print_active = printer['virtual_sdcard'].is_active or printer['virtual_sdcard'].file_position != 0.0 %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=was_print_active        VALUE={is_print_active}
	
	
	{% if (HEATER and TARGET != 0.0) %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=stage               VALUE="'heating'"
	SET_HEATER_TEMPERATURE HEATER={HEATER} TARGET={TARGET}
	{% else %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=stage               VALUE="'soaking'"
	{% endif %}
	
	
	{% if is_print_active %}
	PAUSE
	{% endif %}
	
	UPDATE_DELAYED_GCODE ID=_heat_soaker DURATION={check_interval}

[gcode_macro STOP_HEAT_SOAK]
description = stops heat soak activity without running any callbacks
gcode = 
	UPDATE_DELAYED_GCODE ID=_heat_soaker DURATION=0
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=stage VALUE="'done'"

[gcode_macro CANCEL_HEAT_SOAK]
description = cancels an in-progress HEAT_SOAK cycle and runs the cancel callback
gcode = 
	
	{% set heat_soak = printer['gcode_macro HEAT_SOAK'] %}
	{% set stage = heat_soak.stage %}
	{% if stage in ("heating", "soaking") %}
	STOP_HEAT_SOAK
	{% if heat_soak.cancel %}
	{heat_soak.cancel}
	{% endif %}
	{% endif %}

[gcode_macro HEAT_SOAK_RESUME]
description = Resume while heat soaking results in the soaking phase being skipped, any complete callback is run
gcode = 
	{% set ON_RESUME = (params.ON_RESUME | default("_HEAT_SOAK__BASE_RESUME")) | string %}
	{% set heat_soak = printer['gcode_macro HEAT_SOAK'] %}
	{% set stage = heat_soak.stage %}
	{% if stage == "heating"  %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=resume_trigger VALUE=True
	{% elif stage == "soaking" %}
	STOP_HEAT_SOAK
	{% if heat_soak.complete %}
	{heat_soak.complete}
	{% endif %}
	{ON_RESUME} {% for p in params %}{'%s=%s ' % (p, params[p])}{% endfor %}
	{% else %}
	{ON_RESUME} {% for p in params %}{'%s=%s ' % (p, params[p])}{% endfor %}
	{% endif %}

[delayed_gcode _heat_soaker]
gcode = 
	{% set heat_soak = printer['gcode_macro HEAT_SOAK'] %}
	
	
	
	
	{% set file_position_is_zero = (printer['virtual_sdcard'].file_position == 0.0 )%}
	{% if heat_soak.was_print_active and file_position_is_zero %}
	STOP_HEAT_SOAK
	{action_respond_info("HEAT_SOAK aborted. Detected a change in virtual_sdcard print state. Call STOP_HEAT_SOAK from CANCEL_PRINT to stop seeing this error message.")}
	{% endif %}
	
	
	{% if not file_position_is_zero and not printer['pause_resume'].is_paused %}
	STOP_HEAT_SOAK
	{action_respond_info("HEAT_SOAK aborted. Print is no longer paused. Call STOP_HEAT_SOAK or HEAT_SOAK_RESUME from your RESUME macro to stop seeing this error message.")}
	{% endif %}
	
	
	{% set total_time_elapsed = heat_soak.total_time_elapsed + heat_soak.check_interval %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=total_time_elapsed VALUE={ total_time_elapsed }
	
	{% set soaker_sensor = printer[heat_soak.soaker_sensor] %}
	{% set soak_temp = soaker_sensor.temperature %}
	{% if heat_soak.heater_sensor %}
	{% set heater_sensor = printer[heat_soak.heater_sensor] %}
	{% set heater_temp = heater_sensor.temperature | round(1) %}
	{% endif %}
	{% set stage = heat_soak.stage %}
	
	
	{% set temp_history = heat_soak.temp_history %}
	{% set smoothed_temp_history = heat_soak.smoothed_temp_history %}
	{% set temp_diff = soak_temp - (temp_history | last) %}
	{% set _ = temp_history.append(soak_temp) %}
	{% set soak_temp_smoothed = None %}
	{% set slope = None %}
	{% if (temp_history | length) > heat_soak.temp_smooth_time %}
	{% set temp_history = temp_history[1:] %}
	
	{% set soak_temp_smoothed = ((temp_history | sum) / (temp_history | length)) %}
	
	{% set _ = smoothed_temp_history.append(soak_temp_smoothed) %}
	
	{% set soak_temp_smoothed = soak_temp_smoothed | round(3) %}
	
	{% if (smoothed_temp_history | length) > heat_soak.rate_smooth_time %}
	{% set smoothed_temp_history = smoothed_temp_history[1:] %}
	
	
	
	
	{% set count = (smoothed_temp_history | length) %}
	{% set times = range(0, count, 1) %}
	{% set x_sum = (times | sum) | float %}
	{% set y_sum = (smoothed_temp_history | sum) | float %}
	
	
	{% set xx_sum_arr = [] %}
	{% set xy_sum_arr = [] %}
	{% for i in times %}
	{% set x = times[i] %}
	{% set y = smoothed_temp_history[i] %}
	{% set _ = xx_sum_arr.append(x * x) %}
	{% set _ = xy_sum_arr.append(x * y) %}
	{% endfor %}
	{% set xx_sum = (xx_sum_arr | sum) | float %}
	{% set xy_sum = (xy_sum_arr | sum) | float %}
	
	{% set slope = (60.0 * ((count | float * xy_sum) - (x_sum * y_sum)) / ((count | float * xx_sum) - (x_sum * x_sum))) | round(3) %}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=temp_history VALUE="{(temp_history | pprint | replace("\n", ""))}"
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=smoothed_temp_history VALUE="{(smoothed_temp_history | pprint | replace("\n", ""))}"
	
	
	{% if stage == "heating" %}
	{% if heater_temp < heat_soak.target_temp %}
	{% if total_time_elapsed % heat_soak.heating_report_interval == 0 %}
	{% set message = "Heating -- %.1fC / %.1fC -- %.1fm elapsed" % (heater_temp, heat_soak.target_temp, total_time_elapsed / 60.0) %}
	M117 {message}
	{action_respond_info(message)}
	{% endif %}
	{% else %}
	{action_respond_info("Heating completed after ~%.1fm, starting heat soak phase." % (total_time_elapsed / 60.0))}
	
	{% set stage = "done" if heat_soak.resume_trigger else "soaking" %}
	
	{% set total_time_elapsed = 0 %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=total_time_elapsed VALUE={ total_time_elapsed }
	{% endif %}
	{% endif %}
	
	
	{% if stage == "soaking" %}
	
	{% set soak_time_remaining = [heat_soak.soak_time_remaining - heat_soak.check_interval, 0] | max %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=soak_time_remaining VALUE={ soak_time_remaining }
	
	
	{% if soak_time_remaining <= 0 %}
	{action_respond_info("Heat soak timed out after ~%.1fm" % (total_time_elapsed / 60.0))}
	{% set stage = "cancel" %}
	
	{% elif slope is none or soak_temp_smoothed is none %}
	{% if total_time_elapsed % heat_soak.soaking_report_interval == 0 %}
	
	{% set message = "Soaking -- gathering data -- %.1fm remaining" % (soak_time_remaining / 60.0) %}
	M117 { message }
	{action_respond_info(message)}
	{% endif %}
	
	{% elif (slope > heat_soak.target_rate) or (heat_soak.min_soak_temp > 0 and soak_temp_smoothed < heat_soak.min_soak_temp) %}
	{% if total_time_elapsed % heat_soak.soaking_report_interval == 0 %}
	{% set format_vars = [
	soak_temp_smoothed | float,
	(heat_soak.min_soak_temp | float | round(0) | string) if (heat_soak.min_soak_temp > 0) else "--",
	slope,
	heat_soak.target_rate,
	soak_time_remaining / 60.0
	] %}
	{% set message = "Soaking -- temp: {0:.1f}C / {1}C -- rate: {2:.3f}C/m / {3:.3f}C/m -- {4:.1f}m remaining".format(*format_vars) %}
	M117 { message }
	{action_respond_info(message)}
	{% endif %}
	
	{% else %}
	{action_respond_info("Heat soak complete after ~%.1fm at %.3fC/m / %.1fC" % (total_time_elapsed / 60.0, slope, soak_temp))}
	{% set stage = "done" %}
	{% endif %}
	{% endif %}
	
	
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=stage VALUE="'{stage}'"
	
	{% if stage in ("done", "cancel") %}
	STOP_HEAT_SOAK
	{% if stage == "cancel" %}
	{% if heat_soak.cancel %}
	{heat_soak.cancel}
	{% elif printer['virtual_sdcard'].is_active %}
	CANCEL_PRINT
	{% endif %}
	{% else %}
	{% if heat_soak.complete %}
	{heat_soak.complete}
	{% endif %}
	{% if printer['pause_resume'].is_paused  %}
	RESUME
	{% endif %}
	{% endif %}
	{% else %}
	
	UPDATE_DELAYED_GCODE ID=_heat_soaker DURATION={ heat_soak.check_interval }
	
	G4 P1
	{% endif %}
	
	
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=stage VALUE="'{stage}'"

[gcode_macro PRINT_WARMUP]
description = Perform initial homing and heating tasks
gcode = 
	{% set EXTRUDER_TEMP = params.EXTRUDER_TEMP | default(190) | float %}
	{% set BED_TEMP = params.BED_TEMP | default(60) | float %}
	
	
	M104 S{EXTRUDER_TEMP * 0.75}
	M140 S{BED_TEMP}
	G32
	
	
	HEAT_SOAK HEATER='heater_bed' TARGET={BED_TEMP} SOAKER='temperature_sensor top_bed' SOAK_TEMP={BED_TEMP * 0.80}

[gcode_macro M106]
rename_existing = M106.1
gcode = 
	{% if params.P is defined and params.P|int > 0 %}
	{% if params.P|int == 1 %}
	M106.1 S{params.S|int}
	{% endif %}
	{% if params.P|int == 2 %}
	SET_FAN_SPEED FAN=exhaust_fan SPEED={(params.S|int / 255 )}
	{% endif %}
	{% if params.P|int == 3 %}
	SET_FAN_SPEED FAN=Air_Scrubber SPEED={(params.S|int / 255 )}
	{% endif %}
	{% else %}
	M106.1 S{params.S|int}
	{% endif %}

[gcode_macro M300]
gcode = 
	
	{% set S = params.S|default(1000)|int %}
	
	{% set P = params.P|default(100)|int %}
	SET_PIN PIN=_BEEPER_pin VALUE=0.5 CYCLE_TIME={ 1.0/S if S > 0 else 1 }
	G4 P{P}
	SET_PIN PIN=_BEEPER_pin VALUE=0

[gcode_macro M600]
gcode = 
	PAUSE
	M117 Colour Change Macro
	Change_FILAMENT_UNLOAD
	M117 Load new Filament
	PLAY_TONE l=5

[gcode_macro M601]
gcode = 
	PAUSE
	M117 Printer Paused
	PLAY_TONE l=5

[gcode_macro Rescan_Bed]
gcode = 
	G28
	bed_mesh_calibrate
	BED_MESH_PROFILE SAVE="400custom"
	SAVE_CONFIG

[gcode_macro UNLOAD_FILAMENT]
variable_unloading_speed_start = 80
variable_unloading_speed = 20
variable_cooling_tube_position = 35
variable_cooling_tube_length = 10
variable_initial_cooling_speed = 10
variable_final_cooling_speed = 50
variable_cooling_moves = 4
gcode = 
	{% set UNLOADING_SPEED_START = params.UNLOADING_SPEED_START|default(printer['gcode_macro UNLOAD_FILAMENT_FORM_TIP']['unloading_speed_start']) %}
	{% set UNLOADING_SPEED = params.UNLOADING_SPEED|default(printer['gcode_macro UNLOAD_FILAMENT_FORM_TIP']['unloading_speed']) %}
	{% set COOLING_TUBE_LENGTH = params.COOLING_TUBE_LENGTH|default(printer['gcode_macro UNLOAD_FILAMENT_FORM_TIP']['cooling_tube_length']) %}
	{% set COOLING_TUBE_POSITION = params.COOLING_TUBE_POSITION|default(printer['gcode_macro UNLOAD_FILAMENT_FORM_TIP']['cooling_tube_position']) %}
	{% set INITIAL_COOLING_SPEED = params.INITIAL_COOLING_SPEED|default(printer['gcode_macro UNLOAD_FILAMENT_FORM_TIP']['initial_cooling_speed']) %}
	{% set FINAL_COOLING_SPEED = params.FINAL_COOLING_SPEED|default(printer['gcode_macro UNLOAD_FILAMENT_FORM_TIP']['final_cooling_speed']) %}
	{% set COOLING_MOVES = params.COOLING_MOVES|default(printer['gcode_macro UNLOAD_FILAMENT_FORM_TIP']['cooling_moves']) %}
	SAVE_GCODE_STATE NAME=load_state
	M117 Heating-
	M104 S205
	G28
	M109 S210
	M117 Unloading...
	M83
	G1 X105 Y0 Z80
	SET_PRESSURE_ADVANCE ADVANCE=0
	{% set TOTAL_RETRACTION_DISTANCE = COOLING_TUBE_POSITION|float + COOLING_TUBE_LENGTH|float / 2 - 15 %}
	G1 E-15 F{1.0 * UNLOADING_SPEED_START|float * 60}
	G1 E-{0.7 * TOTAL_RETRACTION_DISTANCE} F{1.0 * UNLOADING_SPEED|float * 60}
	G1 E-{0.2 * TOTAL_RETRACTION_DISTANCE} F{0.5 * UNLOADING_SPEED|float * 60}
	G1 E-{0.1 * TOTAL_RETRACTION_DISTANCE} F{0.3 * UNLOADING_SPEED|float * 60}
	{% set SPEED_INC = (FINAL_COOLING_SPEED|float - INITIAL_COOLING_SPEED|float) / (2 * COOLING_MOVES|float - 1) %}
	{% for move in range(COOLING_MOVES|int) %}
	G1 E{COOLING_TUBE_LENGTH} F{(INITIAL_COOLING_SPEED|float + SPEED_INC*move*2) * 60}
	G1 E-{COOLING_TUBE_LENGTH} F{(INITIAL_COOLING_SPEED|float + SPEED_INC*(move*2+1)) * 60}
	{% endfor %}
	G1 E-300 F3000
	G1 E-300 F3000
	G1 E-100 F1000
	M82
	M117 Sucess!
	RESTORE_GCODE_STATE NAME=load_state MOVE=1

[delayed_gcode POWER_ON_PRINTER]
initial_duration = 1
gcode = 
	PLAY_TONE l=1

[gcode_macro PLAY_TONE]
gcode = 
	{% set l = params.L|default(0)|int %}
	
	{% if l == 1 %}
	M300 P184 S392
	M300 P184 S523
	M300 P187 S659
	M300 P417 S784
	M300 P139 S659
	M300 P400 S784
	
	{% elif l == 2 %}
	M300 P146 S494
	M300 P97 S698
	M300 P157 S0
	M300 P132 S698
	M300 P174 S698
	M300 P168 S659
	M300 P176 S587
	M300 P134 S523
	M300 P95 S330
	M300 P31 S0
	
	{% elif l == 3 %}
	M300 P100 S659
	M300 P200 S659
	M300 P99 S659
	M300 P101 S0
	M300 P100 S523
	M300 P99 S659
	M300 P101 S0
	M300 P199 S784
	M300 P201 S0
	M300 P199 S392
	{% elif l == 4 %}
	M300 P353 S330
	M300 P353 S330
	M300 P353 S349
	M300 P353 S392
	M300 P353 S392
	M300 P353 S349
	M300 P353 S330
	M300 P353 S294
	M300 P353 S262
	M300 P353 S262
	M300 P353 S294
	M300 P353 S330
	M300 P529 S330
	M300 P176 S294
	M300 P706 S294
	{% else %}
	M300 P100 S0
	{% endif %}

[gcode_macro END_PRINT]
gcode = 
	
	{% set th = printer.toolhead %}
	{% set x_safe = th.position.x + 20 * (1 if th.axis_maximum.x - th.position.x > 20 else -1) %}
	{% set y_safe = th.position.y + 20 * (1 if th.axis_maximum.y - th.position.y > 20 else -1) %}
	{% set z_safe = [th.position.z + 50, th.axis_maximum.z]|min %}
	SAVE_GCODE_STATE NAME=STATE_PRINT_END
	M400
	G92 E0
	G1 E-5.0 F1800
	TURN_OFF_HEATERS
	G90
	G0 X{x_safe} Y{y_safe} Z{z_safe} F30000
	
	G0 X{th.axis_maximum.x//2} Y{th.axis_maximum.y} F30000
	BED_MESH_CLEAR
	RESTORE_GCODE_STATE NAME=STATE_PRINT_END
	
	SET_LED LED=case_light WHITE=0.25
	UPDATE_DELAYED_GCODE ID=filter_off DURATION=180
	PLAY_TONE l=2

[gcode_macro PRINT_START]
gcode = 
	
	{% set fct = {'ASA': 30, 'ABS': 50, 'NYLON': 35, 'PLA': 0, 'PC': 50, 'PETG': 30 } %}
	{% set ADAPTIVE_bed = params.ADAPTIVEBED|default("2")|int %}
	{% set MESH_bed = params.MESHbed|default("NONE") %}
	{% set skipheatsoak = params.skipheatsoak|default("0") %}
	{% set target_bed = params.BED|int %}
	{% set target_extruder = params.EXTRUDER|int %}
	{% set target_chamber = params.CHAMBER|default("0")|int %}
	{% set filament = params.filament|default("NONE") %}
	{% if filament != 'NONE' %}
	{% set target_chamber = fct[filament] %}
	{% endif %}
	{% set x_wait = printer.toolhead.axis_maximum.x|float / 2 %}
	{% set y_wait = printer.toolhead.axis_maximum.y|float / 2 %}
	
	
	STATUS_HOMING
	G28
	G90
	
	
	BED_MESH_CLEAR
	
	SET_FAN_SPEED FAN=Air_Scrubber SPEED=1
	
	SET_DISPLAY_TEXT MSG="Bed: {target_bed}c"
	STATUS_HEATING
	G1 X{x_wait} Y{y_wait} Z15 F9000
	M190 S{target_bed}
	{% if skipheatsoak == 0 %}
	HEAT_SOAK HEATER='heater_bed' TARGET={target_bed} SOAKER='temperature_sensor top_bed' SOAK_TEMP={target_bed * 0.80}
	{% endif %}
	
	SET_DISPLAY_TEXT MSG="Hotend: 150c"
	M109 S150
	SET_DISPLAY_TEXT MSG="Hotend: {target_extruder}c"
	M104 S{target_extruder}
	
	
	SET_DISPLAY_TEXT MSG="Z-tilt adjust"
	STATUS_LEVELING
	Z_TILT_ADJUST
	G28 Z
	
	
	
	
	
	
	
	
	{% if ADAPTIVE_bed == 99 %}
	{% if MESH_bed != "NONE" %}
	BED_MESH_CLEAR
	STATUS_MESHING
	SET_DISPLAY_TEXT MSG="Loading Mesh {MESH_bed}"
	BED_MESH_PROFILE LOAD="{MESH_bed}"
	{% endif %}
	{% else %}
	BED_MESH_CLEAR
	SET_DISPLAY_TEXT MSG="Adaptive Bed mesh"
	STATUS_MESHING
	bed_mesh_calibrate ADAPTIVE=1 ADAPTIVE_MARGIN={ADAPTIVE_bed}
	{% endif %}
	
	
	
	
	
	
	
	
	
	SET_DISPLAY_TEXT MSG="Hotend: {target_extruder}c"
	STATUS_HEATING
	G1 X{x_wait} Y{y_wait} Z15 F9000
	M107
	M109 S{target_extruder}
	SET_LED LED=case_light WHITE=1
	
	
	SET_DISPLAY_TEXT MSG="Printer goes brr"
	PLAY_TONE l=3
	STATUS_PRINTING
	G0 X0 Y1 F10000
	G0 Z0.3
	G91
	G1 X150 E35 F1000
	G90

[gcode_macro LOAD_FILAMENT]
gcode = 
	SAVE_GCODE_STATE NAME=unload_state
	M117 Heating+
	M104 S205
	HOME
	M109 S205
	M117 Unloading...
	M83
	
	G1 E200 F3000
	G1 E200 F3000
	G1 E250 F3000
	G1 E20 F120
	
	G1 E-5
	M82
	RESTORE_GCODE_STATE NAME=unload_state MOVE=1

[delayed_gcode DISABLEFILAMENTSENSOR]
initial_duration = 1
gcode = 
	SET_FILAMENT_SENSOR SENSOR=filament_sensor ENABLE=0

[gcode_macro SFS_ENABLE]
description = Enable smart filament sensor
gcode = 
	M117 ENABLING the Smart Filament Sensor
	G92 E0
	SET_FILAMENT_SENSOR SENSOR=filament_sensor ENABLE=1

[gcode_macro SFS_DISABLE]
description = Disable smart filament sensor
gcode = 
	M117 DISABLING the Smart Filament Sensor
	G92 E0
	SET_FILAMENT_SENSOR SENSOR=filament_sensor ENABLE=0

[gcode_macro _START_BED_HEAT]
gcode = 
	{% set t = params.T|default(60)|int %}
	{% set c = params.C|default(30)|int %}
	{% set h = params.H|default(600)|int %}
	M140 S{t}
	
	SET_GCODE_VARIABLE MACRO=_BED_HEAT_STATUS VARIABLE=time_remaining VALUE={h}
	SET_GCODE_VARIABLE MACRO=_BED_HEAT_STATUS VARIABLE=bed_temperature VALUE={t}
	
	UPDATE_DELAYED_GCODE ID=_BED_HEAT_TIMER DURATION=1
	SET_IDLE_TIMEOUT

[gcode_macro STOP_BED_HEAT]
gcode = 
	
	
	SET_GCODE_VARIABLE MACRO=_BED_HEAT_STATUS VARIABLE=time_remaining VALUE=0
	UPDATE_DELAYED_GCODE ID=_BED_HEAT_TIMER DURATION=0
	M117 PreHeat Stopped

[gcode_macro _BED_HEAT_STATUS]
variable_time_remaining = 0
variable_bed_temperature = 0
variable_chamber_temperature = 0
gcode = 
	{% if time_remaining > 0 %}
	M140 S{bed_temperature}
	
	SET_GCODE_VARIABLE MACRO=_BED_HEAT_STATUS VARIABLE=time_remaining VALUE={time_remaining - 1}
	M117 PreHeat {time_remaining}
	{% else %}
	STOP_BED_HEAT
	{% endif %}

[delayed_gcode BED_HEAT_TIMER]
gcode = 
	UPDATE_DELAYED_GCODE ID=_BED_HEAT_TIMER DURATION=1
	_BED_HEAT_STATUS

[gcode_macro BED_60]
gcode = 
	_START_BED_HEAT t=60 c=30 h=600

[gcode_macro BED_65]
gcode = 
	_START_BED_HEAT t=65 c=30 h=600

[gcode_macro BED_70]
gcode = 
	_START_BED_HEAT t=70 c=30 h=600

[gcode_macro PA_CAL]
gcode = 
	{% set BED = params.BED|default(65) |float %}
	{% set EXTRUDER = params.EXTRUDER|default(210) |float %}
	{% set PA_start = params.START|default(0) |float %}
	{% set PA_max = params.MAX|default(0.1) |float %}
	
	{% set PA_factor = PA_max / 20 |float %}
	
	{% set max_x = printer.configfile.config["stepper_x"]["position_max"]|float %}
	{% set max_y = printer.configfile.config["stepper_y"]["position_max"]|float %}
	
	{% set x_section = max_x / 6 | float %}
	{% set x_start = x_section | float %}
	{% set x_p1 = x_section * 2 | float %}
	{% set x_p2 = x_section * 4 | float %}
	{% set x_p3 = x_section * 5 | float %}
	
	{% set y_section = max_y / 24 | float %}
	{% set y_start = y_section | float %}
	{% set y_base = y_section * 2 | float %}
	
	PRINT_START BED={BED} EXTRUDER={EXTRUDER}
	
	G21
	G90
	M83
	SET_VELOCITY_LIMIT ACCEL=5000 ACCEL_TO_DECEL=2500
	G92 E0
	M106 S0
	
	SET_PRESSURE_ADVANCE ADVANCE={PA_start}
	G1 X{x_start} Y{y_start} F30000
	G1 Z0.25 F300
	G1 E0.75 F1800
	G1 X{x_p1} Y{y_start} E0.91798 F300
	G1 X{x_p2} Y{y_start} E1.83596 F9000
	G1 X{x_p3} Y{y_start} E0.91798 F300
	G1 E-0.75 F1800
	G1 Z1 F300
	
	{% for i in range(0, 20) %}
	SET_PRESSURE_ADVANCE ADVANCE={PA_start + i*PA_factor}
	M117 Testing Pressure Advance at: {i*PA_factor}
	G1 X{x_start} Y{y_base+(5*i)} F30000
	G1 Z0.25 F300
	G1 E0.75 F1800
	G1 X{x_p1} Y{y_base+(5*i)} E0.91798 F300
	G1 X{x_p2} Y{y_base+(5*i)} E1.83596 F9000
	G1 X{x_p3} Y{y_base+(5*i)} E0.91798 F300
	G1 E-0.75 F1800
	G1 Z1 F300
	{% endfor %}
	
	PRINT_END

[gcode_macro PA_TUNER]
description = Pressure Advance Tuning Macro
	=========================================
	parameters with defaults listed below:
	TOOLHEAD=""
	BED_X_LENGTH=printer.toolhead.axis.maximum.x
	BED_Y_LENGTH=printer.toolhead.axis.maximum.y
	FILAMENT_DIAMETER=printer...filament_diameter
	EXTRUSION_WIDTH=printer...nozzle_diameter
	LAYER_HEIGHT=0.3
	SIDE_LENGTH=100
	FAST_PRINT_SPEED=150
	SLOW_PRINT_SPEED=30
	COOLING_FAN_SPEED=255
	PA_MIN=0.0
	PA_MAX=1.0
	LAYERS=60
	BED_TEMP=55
	PRINTING_TEMP=210
	X_OFFSET=0
	Y_OFFSET=0
	BASE_ONLY_FLOW_PERCENT=125
	STARTUP_MACRO=LOCAL_GENERIC_PA_START
	END_MACRO=LOCAL_GENERIC_PA_END
	=========================================
gcode = 
	
	{% set bed_x = params.BED_X_LENGTH|default(printer.toolhead.axis_maximum.x)|float %}
	{% set bed_y = params.BED_Y_LENGTH|default(printer.toolhead.axis_maximum.y)|float %}
	{% set filament_d = params.FILAMENT_DIAMETER|default(printer.configfile.settings.extruder.filament_diameter)|float %}
	{% set e_width = params.EXTRUSION_WIDTH|default(printer.configfile.settings.extruder.nozzle_diameter)|float %}
	{% set tool = params.TOOLHEAD|default("") %}
	{% set flow_p = params.BASE_ONLY_FLOW_PERCENT|default(125.0)|float %}
	{% set rect_side_len = params.SIDE_LENGTH|default(100.0)|float %}
	{% set layer_h = params.LAYER_HEIGHT|default(0.3)|float %}
	{% set fspeed = params.FAST_PRINT_SPEED|default(150.0)|float %}
	{% set sspeed = params.SLOW_PRINT_SPEED|default(30.0)|float %}
	{% set fan_speed = params.COOLING_FAN_SPEED|default(255.0)|float %}
	{% set PA_low = params.PA_MIN|default(0.0)|float %}
	{% set PA_high = params.PA_MAX|default(1.0)|float %}
	{% set b_temp = params.BED_TEMP|default(55.0)|float %}
	{% set p_temp = params.PRINTING_TEMP|default(210.0)|float %}
	{% set off_x = params.X_OFFSET|default(0.0)|float %}
	{% set off_y = params.Y_OFFSET|default(0.0)|float %}
	{% set layer_num  = params.LAYERS|default(60)|int %}
	{% set startup_code = params.START_MACRO|default("LOCAL_GENERIC_PA_START PT=" ~ p_temp ~ " BT=" ~ b_temp)|string %}
	{% set end_code = params.END_MACRO|default("LOCAL_GENERIC_PA_END EJECT=" ~ bed_y)|string %}
	
	{% set PA_const = (2 * ((PA_high - PA_low) / layer_num)) - PA_low %}
	{% if PA_const < 0 %}
	{% set PA_sign = " + " %}
	{% else %}
	{% set PA_sign = " - " %}
	{% endif %}
	{% set info_str = "Bed X Length: " ~ bed_x %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed Y Length: " ~ bed_y %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed X Offset: " ~ off_x %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed Y Offset: " ~ off_y %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Extrusion Width: " ~ e_width %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Filament size: " ~ filament_d %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Layer Height: " ~ layer_h %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed Temperature: " ~ b_temp %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Print Temperature: " ~ p_temp %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Slow Printing Speed: " ~ sspeed %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Fast Printing Speed: " ~ fspeed %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Fan Speed: " ~ fan_speed %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Length of Test Square: " ~ rect_side_len %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Number of Layers: " ~ layer_num %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Minimum Pressure Advance: " ~ PA_low %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Maximum Pressure Advance: " ~ PA_high %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Formula: Pressure Advance Value = Measured_Z_Height x " ~ (((PA_high - PA_low) / layer_num) / layer_h) ~ PA_sign ~ PA_const|abs %}
	RESPOND MSG="{info_str}"
	{% set g_cmd = tool %}
	{ g_cmd }
	{% set g_cmd = startup_code %}
	{ g_cmd }
	{% set g_cmd = "M220 S100" %}
	{ g_cmd }
	{% set g_cmd = "M221 S100" %}
	{ g_cmd }
	{% set g_cmd = "SET_VELOCITY_LIMIT SQUARE_CORNER_VELOCITY=1 ACCEL=500" %}
	{ g_cmd }
	{% set g_cmd = "SET_PRESSURE_ADVANCE ADVANCE_LOOKAHEAD_TIME=0" %}
	{ g_cmd }
	{% set g_cmd = "G92 E0" %}
	{ g_cmd }
	{% set g_cmd = "M83" %}
	{ g_cmd }
	{% set current_x = (bed_x / 2) - (rect_side_len / 2) %}
	{% set current_y = (bed_y / 2) - (rect_side_len / 2) %}
	
	{% set g_cmd = "G1 X" ~ (current_x + off_x) ~ " Y" ~ (current_y + off_y) ~ " Z" ~ layer_h ~ " E1.0 F" ~ (fspeed*60) %}
	{ g_cmd }
	{% set g_cmd = "G91" %}
	{ g_cmd }
	{% set pressure_advance = 0.0 %}
	{% set PA_msg = "SET_PRESSURE_ADVANCE ADVANCE=" ~ pressure_advance %}
	{ PA_msg }
	pa_line LSPEED={20} X_L={rect_side_len} Y_L=0.0 LF={flow_p} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={20} X_L={0.0} Y_L={(rect_side_len/2)} LF={flow_p} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={20} X_L=0.0 Y_L={(rect_side_len/2)} LF={flow_p} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={20} X_L={0-rect_side_len} Y_L=0.0 LF={flow_p} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={20} X_L=0.0 Y_L={0-rect_side_len} LF={flow_p} FD={filament_d} EW={e_width} LH={layer_h}
	{% set g_cmd = "G1 Z" ~ layer_h %}
	{ g_cmd }
	
	{% set g_cmd = "M106 S" ~ fan_speed %}
	{ g_cmd }
	{% for i in range(layer_num) %}
	{% set pressure_advance = (i / layer_num) * (PA_high - PA_low) + PA_low|float %}
	{% set PA_msg = "SET_PRESSURE_ADVANCE ADVANCE=" ~ pressure_advance %}
	{ PA_msg }
	pa_line LSPEED={fspeed} X_L={rect_side_len} Y_L=0.0 FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={fspeed} X_L=0.0 Y_L={(rect_side_len/2)} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={sspeed} X_L=0.0 Y_L={(rect_side_len/2)} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={fspeed} X_L={0-rect_side_len} Y_L=0.0 FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={sspeed} X_L=0.0 Y_L={0-rect_side_len} FD={filament_d} EW={e_width} LH={layer_h}
	{% set g_cmd = "G1 Z" ~ layer_h %}
	{ g_cmd }
	{% endfor %}
	
	{% set pressure_advance = PA_high|float %}
	{% set PA_msg = "SET_PRESSURE_ADVANCE ADVANCE=" ~ pressure_advance %}
	{ PA_msg }
	pa_line LSPEED={fspeed} X_L={rect_side_len} Y_L=0.0 FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={fspeed} X_L=0.0 Y_L={(rect_side_len/2)} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={sspeed} X_L=0.0 Y_L={(rect_side_len/2)} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={fspeed} X_L={0-rect_side_len} Y_L=0.0 FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={sspeed} X_L=0.0 Y_L={0-rect_side_len} FD={filament_d} EW={e_width} LH={layer_h}
	{% set g_cmd = "G1 Z" ~ layer_h %}
	{ g_cmd }
	pa_line LSPEED={fspeed} X_L={rect_side_len} Y_L=0.0 FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={fspeed} X_L=0.0 Y_L={(rect_side_len/2)} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={sspeed} X_L=0.0 Y_L={(rect_side_len/2)} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={fspeed} X_L={0-rect_side_len} Y_L=0.0 FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={sspeed} X_L=0.0 Y_L={0-rect_side_len} FD={filament_d} EW={e_width} LH={layer_h}
	{% set g_cmd = "G1 Z" ~ layer_h %}
	{ g_cmd }
	{% set g_cmd = "G90" %}
	{ g_cmd }
	{% set g_cmd = end_code %}
	{ g_cmd }
	{% set info_str = "Bed X Length: " ~ bed_x %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed Y Length: " ~ bed_y %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed X Offset: " ~ off_x %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed Y Offset: " ~ off_y %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Extrusion Width: " ~ e_width %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Filament size: " ~ filament_d %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Layer Height: " ~ layer_h %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed Temperature: " ~ b_temp %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Print Temperature: " ~ p_temp %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Slow Printing Speed: " ~ sspeed %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Fast Printing Speed: " ~ fspeed %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Fan Speed: " ~ fan_speed %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Length of Test Square: " ~ rect_side_len %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Number of Layers: " ~ layer_num %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Minimum Pressure Advance: " ~ PA_low %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Maximum Pressure Advance: " ~ PA_high %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Formula: Pressure Advance Value = Measured_Z_Height x " ~ (((PA_high - PA_low) / layer_num) / layer_h) ~ PA_sign ~ PA_const|abs %}
	RESPOND MSG="{info_str}"

[gcode_macro pa_line]
gcode = 
	{% set flow_r = params.LF|default(100.0)|float %}
	{% set zoomy = params.LSPEED|default(50.0)|float %}
	{% set x_lin = params.X_L|default(100.0)|float %}
	{% set y_lin = params.Y_L|default(100.0)|float %}
	{% set f_size = params.FD|default(1.75)|float %}
	{% set e_size = params.EW|default(0.4)|float %}
	{% set l_size = params.LH|default(0.2)|float %}
	{% set flow_n = flow_r / 100 %}
	{% set lin_length = (x_lin**2 + y_lin**2)**(1/2) %}
	{% set e_len = lin_length / (f_size * f_size * 3.14159 * 0.25) %}
	{% set e_num = e_len * e_size * l_size * 1.67 %}
	{% set g_cmd = "G1 X" ~ x_lin ~ " Y" ~ y_lin ~ " E" ~ (e_num * flow_n) ~ " F" ~ (zoomy*60) %}
	{ g_cmd }

[gcode_macro LOCAL_GENERIC_PA_START ]
description = Generic startup gcode with a prime strip
gcode = 
	{% set b_t = params.BT|default(0.0)|float %}
	{% set p_t = params.PT|default(0.0)|float %}
	{% set b_x = params.BED_X_LENGTH|default(printer.toolhead.axis_maximum.x)|float %}
	{% set b_y = params.BED_Y_LENGTH|default(printer.toolhead.axis_maximum.y)|float %}
	{% set f_d = params.FILAMENT_DIAMETER|default(printer.configfile.settings.extruder.filament_diameter)|float %}
	{% set e_w = params.EXTRUSION_WIDTH|default(printer.configfile.settings.extruder.nozzle_diameter)|float %}
	{% set o_x = params.X_OFFSET|default(0.0)|float %}
	{% set o_y = params.Y_OFFSET|default(0.0)|float %}
	{% set l_h = params.LAYER_HEIGHT|default(0.3)|float %}
	{% set g_cmd = "M140 S" ~ b_t %}
	{ g_cmd }
	{% set g_cmd = "M104 S" ~ p_t %}
	{ g_cmd }
	{% set g_cmd = "M190 S" ~ b_t %}
	{ g_cmd }
	{% set g_cmd = "G28" %}
	{ g_cmd }
	{% set g_cmd = "G1 Z10 F1500" %}
	{ g_cmd }
	{% set g_cmd = "M109 S" ~ p_t %}
	{ g_cmd }
	{% set g_cmd = "G92 E0" %}
	{ g_cmd }
	{% set g_cmd = "G1 Z2.0 F3000" %}
	{ g_cmd }
	{% set g_cmd = "G1 X0.1 Y20 Z0.3 F5000.0" %}
	{ g_cmd }
	{% set g_cmd = "M83" %}
	{ g_cmd }
	{% set g_cmd = "G91" %}
	{ g_cmd }
	pa_line LSPEED=25 X_L=0.0 Y_L={(b_y - 40)} FD={f_d} EW={e_w} LH={l_h}
	{% set g_cmd = "G1 X0.3 Y0 F5000.0" %}
	{ g_cmd }
	pa_line LSPEED=25 X_L=0.0 Y_L={0-(b_y - 40)} FD={f_d} EW={e_w} LH={l_h}
	{% set g_cmd = "G90" %}
	{ g_cmd }
	{% set g_cmd = "M82" %}
	{ g_cmd }
	{% set g_cmd = "G92 E0" %}
	{ g_cmd }
	{% set g_cmd = "G1 Z2.0 F3000" %}
	{ g_cmd }

[gcode_macro LOCAL_GENERIC_PA_END ]
description = Generic ending gcode
gcode = 
	{% set y_done = params.EJECT|default(0.0)|float %}
	{% set g_cmd = "G91" %}
	{ g_cmd }
	{% set g_cmd = "G1 Z10 F450" %}
	{ g_cmd }
	{% set g_cmd = "G90" %}
	{ g_cmd }
	{% set g_cmd = "M82" %}
	{ g_cmd }
	{% set g_cmd = "G1 X0 Y" ~ y_done %}
	{ g_cmd }
	{% set g_cmd = "M106 S0" %}
	{ g_cmd }
	{% set g_cmd = "M104 S0" %}
	{ g_cmd }
	{% set g_cmd = "M140 S0" %}
	{ g_cmd }
	{% set g_cmd = "M84" %}
	{ g_cmd }

[gcode_macro TEST_SPEED]
gcode = 
	
	{% set speed  = params.SPEED|default(printer.configfile.settings.printer.max_velocity)|int %}
	
	{% set iterations = params.ITERATIONS|default(5)|int %}
	
	{% set accel  = params.ACCEL|default(printer.configfile.settings.printer.max_accel)|int %}
	
	{% set bound = params.BOUND|default(20)|int %}
	
	{% set smallpatternsize = SMALLPATTERNSIZE|default(20)|int %}
	
	
	
	{% set x_min = printer.toolhead.axis_minimum.x + bound %}
	{% set x_max = printer.toolhead.axis_maximum.x - bound %}
	{% set y_min = printer.toolhead.axis_minimum.y + bound %}
	{% set y_max = printer.toolhead.axis_maximum.y - bound %}
	
	
	
	{% set x_center = (printer.toolhead.axis_minimum.x|float + printer.toolhead.axis_maximum.x|float ) / 2 %}
	{% set y_center = (printer.toolhead.axis_minimum.y|float + printer.toolhead.axis_maximum.y|float ) / 2 %}
	
	
	{% set x_center_min = x_center - (smallpatternsize/2) %}
	{% set x_center_max = x_center + (smallpatternsize/2) %}
	{% set y_center_min = y_center - (smallpatternsize/2) %}
	{% set y_center_max = y_center + (smallpatternsize/2) %}
	
	
	SAVE_GCODE_STATE NAME=TEST_SPEED
	
	
	{ action_respond_info("TEST_SPEED: starting %d iterations at speed %d, accel %d" % (iterations, speed, accel)) }
	
	
	G28
	M400
	
	{% if printer.configfile.settings.quad_gantry_level %}
	{% if printer.quad_gantry_level.applied == False %}
	QUAD_GANTRY_LEVEL
	G28 Z
	{% endif %}
	{% endif %}
	
	G90
	G1 X{printer.toolhead.axis_maximum.x-50} Y{printer.toolhead.axis_maximum.y-50} F{30*60}
	M400
	G28 X Y
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	G0 X{x_min} Y{y_min} Z{bound + 10} F{speed*60}
	
	
	SET_VELOCITY_LIMIT VELOCITY={speed} ACCEL={accel} ACCEL_TO_DECEL={accel / 2}
	
	{% for i in range(iterations) %}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	{% endfor %}
	
	
	SET_VELOCITY_LIMIT VELOCITY={printer.configfile.settings.printer.max_velocity} ACCEL={printer.configfile.settings.printer.max_accel} ACCEL_TO_DECEL={printer.configfile.settings.printer.max_accel_to_decel}
	
	
	M400
	G28
	
	G90
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	RESTORE_GCODE_STATE NAME=TEST_SPEED

[gcode_macro _USE_INFILL_SQV]
gcode = 
	{% set svv = printer.save_variables.variables %}
	{% set sqv = svv.infill_sqv | default(printer.configfile.settings.printer.square_corner_velocity, true) %}
	SET_VELOCITY_LIMIT SQUARE_CORNER_VELOCITY={ sqv }

[gcode_macro _USE_NORMAL_SQV]
gcode = 
	{% set sqv = printer.configfile.settings.printer.square_corner_velocity %}
	SET_VELOCITY_LIMIT SQUARE_CORNER_VELOCITY={ sqv }

[gcode_macro SET_INFILL_SQV]
gcode = 
	{% set svv = printer.save_variables.variables %}
	{% set val = params.SQV|default(svv.infill_sqv|default(printer.configfile.settings.printer.square_corner_velocity, true), true) | int %}
	SAVE_VARIABLE VARIABLE=infill_sqv VALUE={val}

[gcode_macro M204]
rename_existing = M204.1
gcode = 
	{% set f = params.F|default(0.5)|float %}
	
	{% if 'S' in params %}
	{% set s = params.S|float %}
	SET_VELOCITY_LIMIT ACCEL={s} ACCEL_TO_DECEL={ s * f }
	{% else %}
	{% if 'P' in params %}
	{% set p = params.P|float %}
	{% if 'T' in params %}
	{% set t = params.T|float %}
	{% if p < t %}
	SET_VELOCITY_LIMIT ACCEL={p} ACCEL_TO_DECEL={ p * f }
	{% else %}
	SET_VELOCITY_LIMIT ACCEL={t} ACCEL_TO_DECEL={ t * f }
	{% endif %}
	{% else %}
	SET_VELOCITY_LIMIT ACCEL={p} ACCEL_TO_DECEL={ p * f }
	{% endif %}
	{% elif 'T' in params %}
	{% set t = params.T|float %}
	SET_VELOCITY_LIMIT ACCEL={t} ACCEL_TO_DECEL={ t * f }
	{% endif %}
	{% endif %}

[gcode_macro _START_DRYER]
gcode = 
	{% set t = params.T|default(60)|int %}
	{% set c = params.C|default(25)|int %}
	{% set h = params.H|default(14400)|int %}
	M140 S{t}
	
	SET_GCODE_VARIABLE MACRO=_DRYER_STATUS VARIABLE=time_remaining VALUE={h}
	SET_GCODE_VARIABLE MACRO=_DRYER_STATUS VARIABLE=bed_temperature VALUE={t}
	
	UPDATE_DELAYED_GCODE ID=_DRYER_TIMER DURATION=1
	SET_IDLE_TIMEOUT

[gcode_macro STOP_DRYER]
gcode = 
	M140 S0
	
	SET_GCODE_VARIABLE MACRO=_DRYER_STATUS VARIABLE=time_remaining VALUE=0
	UPDATE_DELAYED_GCODE ID=_DRYER_TIMER DURATION=0
	M117 Drying Stopped

[gcode_macro _DRYER_STATUS]
variable_time_remaining = 0
variable_bed_temperature = 0
variable_chamber_temperature = 0
gcode = _
	{% if time_remaining > 0 %}
	M140 S{bed_temperature}
	
	SET_GCODE_VARIABLE MACRO=_DRYER_STATUS VARIABLE=time_remaining VALUE={time_remaining - 1}
	M117 Drying {time_remaining}
	M118 Drying Time Remaining: {time_remaining}
	{% else %}
	STOP_DRYER
	{% endif %}

[delayed_gcode _DRYER_TIMER]
gcode = 
	UPDATE_DELAYED_GCODE ID=_DRYER_TIMER DURATION=1
	_DRYER_STATUS

[gcode_macro DRY_PLA]
gcode = 
	_START_DRYER t=50 c=25 h=14400

[gcode_macro DRY_PETG]
gcode = 
	_START_DRYER t=55 c=30 h=18000

[gcode_macro DRY_ABS]
gcode = 
	_START_DRYER t=65 c=40 h=14400

[printer]
kinematics = corexy
max_velocity = 800
max_accel = 5000
max_z_velocity = 15
max_z_accel = 50

[output_pin _BEEPER_pin]
pin = PE9
pwm = True
value = 0
shutdown_value = 0
cycle_time = 0.001
scale = 1

[idle_timeout]
timeout = 172800

[thermistor Trianglelab-NTC100K-B3950]
temperature1 = 25
resistance1 = 103180
temperature2 = 150
resistance2 = 1366.2
temperature3 = 250
resistance3 = 168.6

[temperature_sensor Bed_Top]
sensor_type = ATC Semitec 104NT-4-R025H42G
sensor_pin = PC1
min_temp = -50
max_temp = 300

[heater_fan hotend_fan]
pin = EBBCan:PA0
max_power = 1.0
kick_start_time = 0.5
heater = extruder
heater_temp = 50.0

[fan]
pin = EBBCan:PA1
max_power = 1.0
kick_start_time = 0.5
off_below = 0.10

[controller_fan _MOSFET]
pin = PA0
max_power = 0.8
kick_start_time = 0.5
idle_speed = 0.0
fan_speed = 1.0
idle_timeout = 30
off_below = 0.10
heater = heater_bed

[controller_fan _Monster8]
pin = PA1
max_power = 0.8
kick_start_time = 0.5
idle_speed = 0.0
fan_speed = 1.0
idle_timeout = 600
off_below = 0.10
stepper = stepper_x,stepper_y,stepper_z,stepper_z1,stepper_z2

[temperature_sensor Raspberry_Pi]
sensor_type = temperature_host
max_temp = 75
min_temp = 20

[temperature_sensor mcu_Monster]
sensor_type = temperature_mcu
min_temp = 0
max_temp = 100

[temperature_sensor mcu_ebb36]
sensor_type = temperature_mcu
sensor_mcu = EBBCan
min_temp = 0
max_temp = 100

[stepper_x]
step_pin = PITB:gpio6
dir_pin = PITB:gpio5
enable_pin = !PITB:gpio20
microsteps = 16
full_steps_per_rotation = 400
rotation_distance = 40
endstop_pin = tmc5160_stepper_x:virtual_endstop
position_endstop = -9
position_min = -9
position_max = 409
homing_speed = 40
homing_retract_dist = 20
second_homing_speed = 10.0

[tmc5160 stepper_x]
cs_pin = PITB:gpio1
spi_software_sclk_pin = PITB:gpio2
spi_software_mosi_pin = PITB:gpio3
spi_software_miso_pin = PITB:gpio4
diag1_pin = PITB:gpio7
driver_sgt = -64
interpolate = True
run_current = 1.1

[stepper_y]
step_pin = PITB:gpio13
dir_pin = PITB:gpio23
enable_pin = !PITB:gpio22
microsteps = 16
full_steps_per_rotation = 400
rotation_distance = 40
endstop_pin = tmc5160_stepper_y:virtual_endstop
position_endstop = 410
position_min = -15
position_max = 410
homing_speed = 40
homing_retract_dist = 20
second_homing_speed = 10.0

[tmc5160 stepper_y]
cs_pin = PITB:gpio21
spi_software_sclk_pin = PITB:gpio2
spi_software_mosi_pin = PITB:gpio3
spi_software_miso_pin = PITB:gpio4
diag1_pin = PITB:gpio14
driver_sgt = -64
interpolate = True
run_current = 1.1

[stepper_z]
step_pin = PB5
dir_pin = PB4
enable_pin = !PB6
position_max = 400
position_min = -2
homing_speed = 5
second_homing_speed = 3
homing_retract_dist = 5
homing_retract_speed = 2
endstop_pin = probe:z_virtual_endstop
microsteps = 128
rotation_distance = 4

[tmc2209 stepper_z]
uart_pin = PB3
run_current = 0.800
hold_current = 0.500
interpolate = false

[stepper_z1]
step_pin = PD6
dir_pin = PD5
enable_pin = !PD7
microsteps = 128
rotation_distance = 4

[tmc2209 stepper_z1]
uart_pin = PD4
run_current = 0.800
hold_current = 0.500
interpolate = false

[stepper_z2]
step_pin = PD2
dir_pin = PD1
enable_pin = !PD3
microsteps = 128
rotation_distance = 4

[tmc2209 stepper_z2]
uart_pin = PD0
run_current = 0.800
hold_current = 0.500
interpolate = false

[z_tilt]
horizontal_move_z = 30
speed = 120
z_positions = -51,0
	136,440
	434,0
points = 40,20
	171,390
	409,20
retry_tolerance = 0.05
retries = 20

[screws_tilt_adjust]
screw1 = 30,30
screw1_name = Front Left
screw2 = 30,200
screw2_name = Mid Left
screw3 = 30,370
screw3_name = Back Left
screw4 = 370,30
screw4_name = Front Right
screw5 = 370,200
screw5_name = Mid Right
screw6 = 370,370
screw6_name = Back Right

[bed_screws]
screw1 = 30,30
screw2 = 30,200
screw3 = 30,370
screw4 = 370,30
screw5 = 370,200
screw6 = 370,370

[heater_bed]
heater_pin = PB10
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PC0
max_power = 1.0
min_temp = 0
max_temp = 130
control = pid
pid_kp = 73.560
pid_ki = 0.863
pid_kd = 1566.832

[neopixel Main_LED]
pin = PC5
chain_count = 24
color_order = GRB
initial_red = 0.0
initial_green = 0.0
initial_blue = 0.0

[BDsensor]
scl_pin = EBBCan:PB9
sda_pin = EBBCan:PB8
delay = 20
z_offset = 0
x_offset = -34
y_offset = 0
position_endstop = 0.8
collision_homing = 0
collision_calibrate = 0
z_adjust = 0.0

[bed_mesh]
speed = 500
mesh_min = 50,50
mesh_max = 350,350
probe_count = 20, 20
mesh_pps = 2, 2
algorithm = bicubic
horizontal_move_z = 1
zero_reference_position = 200, 200

[adxl345]
cs_pin = EBBCan:PB12
spi_software_sclk_pin = EBBCan:PB10
spi_software_mosi_pin = EBBCan:PB11
spi_software_miso_pin = EBBCan:PB2
axes_map = x,y,z

[resonance_tester]
accel_chip = adxl345
probe_points = 
	200, 200, 20

[extruder]
step_pin = EBBCan:PD0
dir_pin = !EBBCan:PD1
enable_pin = !EBBCan:PD2
microsteps = 64
rotation_distance = 5.693950178
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = EBBCan: PB13
sensor_pin = EBBCan: PA3
sensor_type = ATC Semitec 104NT-4-R025H42G
min_temp = 0
max_temp = 300
control = pid
pid_kp = 44.021
pid_ki = 8.152
pid_kd = 59.428

[tmc2209 extruder]
uart_pin = EBBCan:PA15
interpolate = False
run_current = 0.800
stealthchop_threshold = 0

[filament_motion_sensor filament_sensor]
detection_length = 10.0
extruder = extruder
switch_pin = ^PA13
pause_on_runout = True
event_delay = 3.0
pause_delay = 0.5
runout_gcode = 
	M117 Runout Detected!

[gcode_macro M900]
gcode = 
	{% if 'K' in params %}
	{% if 'E' in params %}
	SET_PRESSURE_ADVANCE EXTRUDER={params.E} ADVANCE={params.K}
	{% else %}
	SET_PRESSURE_ADVANCE ADVANCE={params.K}
	{% endif %}
	{% endif %}

[gcode_macro Level_Bed]
gcode = 
	Z_TILT_ADJUST
	BED_MESH_CALIBRATE

[gcode_macro PARK]
gcode = 
	{% set th = printer.toolhead %}
	G0 Z40 F20000
	G0 X{th.axis_maximum.x//2} Y{th.axis_maximum.y//2} Z40 F30000

[gcode_macro G32]
gcode = 
	SAVE_GCODE_STATE NAME=STATE_G32
	G90
	G28
	Z_TILT_ADJUST
	G28
	PARK
	RESTORE_GCODE_STATE NAME=STATE_G32

[gcode_macro M0]
gcode = 
	PAUSE

[gcode_macro G29]
gcode = 
	{% if printer.idle_timeout.state == "Printing" %}
	{action_respond_info("This command cannot be used while printing")}
	{% elif printer.toolhead.homed_axes != "xyz" %}
	{action_respond_info("Please home XYZ first")}
	{% else %}
	SAVE_GCODE_STATE NAME=STATE_G29
	G90
	G28
	Z_TILT_ADJUST
	G28
	PARK
	BED_MESH_CALIBRATE
	BED_MESH_PROFILE SAVE=p1
	BED_MESH_PROFILE LOAD="p1"
	RESTORE_GCODE_STATE NAME=STATE_G29
	{% endif %}

[force_move]
enable_force_move = True

[firmware_retraction]
retract_length = 0.5
retract_speed = 40
unretract_extra_length = 0.1
unretract_speed = 30

[verify_heater heater_bed]
max_error = 120
hysteresis = 5
heating_gain = 2

[verify_heater extruder]
max_error = 120
check_gain_time = 90
hysteresis = 5
heating_gain = 2

[gcode_macro M486]
gcode = 
	
	
	
	
	
	
	
	
	
	
	
	{% if 'exclude_object' not in printer %}
	{action_raise_error("[exclude_object] is not enabled")}
	{% endif %}
	
	{% if 'T' in params %}
	EXCLUDE_OBJECT RESET=1
	
	{% for i in range(params.T | int) %}
	EXCLUDE_OBJECT_DEFINE NAME={i}
	{% endfor %}
	{% endif %}
	
	{% if 'C' in params %}
	EXCLUDE_OBJECT CURRENT=1
	{% endif %}
	
	{% if 'P' in params %}
	EXCLUDE_OBJECT NAME={params.P}
	{% endif %}
	
	{% if 'S' in params %}
	{% if params.S == '-1' %}
	{% if printer.exclude_object.current_object %}
	EXCLUDE_OBJECT_END NAME={printer.exclude_object.current_object}
	{% endif %}
	{% else %}
	EXCLUDE_OBJECT_START NAME={params.S}
	{% endif %}
	{% endif %}
	
	{% if 'U' in params %}
	EXCLUDE_OBJECT RESET=1 NAME={params.U}
	{% endif %}

[gcode_arcs]
resolution = 1.0

[gcode_macro G12]
gcode = 
	{% set CLEANTYPE = params.P|default(2) %}
	{% set RADI = params.R|default(2) %}
	{% set repetitions = params.S|default(2) %}
	{% set triangles = params.T|default(2) %}
	{% set th = printer.toolhead %}
	
	{% if printer.idle_timeout.state == "Printing" %}
	{action_respond_info("This command cannot be used while printing")}
	{% elif printer.toolhead.homed_axes != "xyz" %}
	{action_respond_info("Please home XYZ first")}
	{% else %}
	{action_respond_info("Cleaning Printhead")}
	SAVE_GCODE_STATE NAME=STATE_G12
	G90
	{% if params.P == '0' %}
	{action_respond_info("Cleaning Printhead back and forward")}
	G0 X405 Y400 Z1 F3600
	{% if repetitions == '1' %}
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	{% elif repetitions == '2' %}
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	{% elif repetitions == '3' %}
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	{% elif repetitions == '4' %}
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	{% elif repetitions == '5' %}
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	{% endif %}
	{% elif CLEANTYPE == '1' %}
	G0 X405 Y400 Z1 F3600
	
	
	{% elif CLEANTYPE == '2' %}
	G0 X405 Y400 Z1 F3600
	G3 X405 Y390 R{RADI} P{repetitions}
	G2 X405 Y390 R{RADI} P{repetitions}
	{% endif %}
	G0 X{th.axis_maximum.x//2} Y{th.axis_maximum.y//2} Z30 F3600
	RESTORE_GCODE_STATE NAME=STATE_G12
	{action_respond_info("Cleaning Done")}
	{% endif %}

[exclude_object]

[input_shaper]

[bed_mesh default]
version = 1
points = 
	1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 0.990000, 0.985000, 0.985000, 0.990000, 0.995000, 0.990000, 0.975000, 0.970000, 0.985000, 0.985000, 0.975000, 0.970000
	1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 0.995000, 0.980000, 0.970000, 0.965000, 0.960000, 0.960000, 0.935000, 0.905000, 0.910000, 0.920000, 0.920000, 0.915000, 0.920000, 0.920000, 0.905000
	1.000000, 1.000000, 1.000000, 1.000000, 0.990000, 0.970000, 0.960000, 0.950000, 0.940000, 0.930000, 0.895000, 0.860000, 0.860000, 0.840000, 0.825000, 0.805000, 0.800000, 0.800000, 0.800000, 0.800000
	1.000000, 1.000000, 1.000000, 1.000000, 0.985000, 0.960000, 0.945000, 0.910000, 0.890000, 0.870000, 0.865000, 0.745000, 0.695000, 0.680000, 0.685000, 0.640000, 0.635000, 0.625000, 0.625000, 0.625000
	1.000000, 1.000000, 1.000000, 0.995000, 0.925000, 0.900000, 0.865000, 0.830000, 0.740000, 0.690000, 0.675000, 0.645000, 0.640000, 0.525000, 0.515000, 0.480000, 0.480000, 0.475000, 0.465000, 0.465000
	1.000000, 1.000000, 1.000000, 0.920000, 0.860000, 0.830000, 0.800000, 0.755000, 0.635000, 0.560000, 0.505000, 0.450000, 0.425000, 0.395000, 0.365000, 0.340000, 0.315000, 0.315000, 0.315000, 0.305000
	1.000000, 1.000000, 0.975000, 0.885000, 0.810000, 0.760000, 0.725000, 0.620000, 0.510000, 0.435000, 0.375000, 0.305000, 0.280000, 0.250000, 0.215000, 0.180000, 0.175000, 0.170000, 0.160000, 0.165000
	0.985000, 0.970000, 0.840000, 0.825000, 0.750000, 0.670000, 0.550000, 0.440000, 0.355000, 0.280000, 0.215000, 0.180000, 0.125000, 0.100000, 0.080000, 0.040000, 0.015000, 0.015000, 0.005000, 0.010000
	0.880000, 0.845000, 0.780000, 0.690000, 0.625000, 0.580000, 0.475000, 0.355000, 0.250000, 0.160000, 0.095000, 0.030000, -0.000000, -0.040000, -0.060000, -0.090000, -0.110000, -0.110000, -0.110000, -0.115000
	0.760000, 0.725000, 0.670000, 0.585000, 0.525000, 0.460000, 0.360000, 0.240000, 0.125000, 0.040000, -0.050000, -0.100000, -0.140000, -0.155000, -0.190000, -0.220000, -0.230000, -0.235000, -0.220000, -0.225000
	0.635000, 0.600000, 0.525000, 0.460000, 0.380000, 0.320000, 0.235000, 0.205000, 0.155000, -0.080000, -0.150000, -0.220000, -0.275000, -0.280000, -0.325000, -0.335000, -0.360000, -0.350000, -0.365000, -0.350000
	0.505000, 0.465000, 0.410000, 0.330000, 0.260000, 0.180000, 0.090000, -0.040000, -0.145000, -0.215000, -0.300000, -0.350000, -0.395000, -0.435000, -0.440000, -0.475000, -0.490000, -0.485000, -0.490000, -0.485000
	0.385000, 0.350000, 0.270000, 0.195000, 0.125000, 0.080000, -0.020000, -0.150000, -0.265000, -0.345000, -0.400000, -0.480000, -0.520000, -0.535000, -0.565000, -0.590000, -0.600000, -0.600000, -0.590000, -0.600000
	0.265000, 0.225000, 0.170000, 0.080000, 0.025000, -0.020000, -0.130000, -0.240000, -0.350000, -0.460000, -0.525000, -0.580000, -0.615000, -0.645000, -0.685000, -0.695000, -0.710000, -0.710000, -0.715000, -0.710000
	0.170000, 0.120000, 0.045000, -0.020000, -0.075000, -0.135000, -0.225000, -0.350000, -0.475000, -0.550000, -0.605000, -0.665000, -0.715000, -0.715000, -0.765000, -0.790000, -0.800000, -0.795000, -0.785000, -0.800000
	0.070000, 0.045000, -0.020000, -0.105000, -0.175000, -0.250000, -0.370000, -0.480000, -0.580000, -0.655000, -0.730000, -0.785000, -0.825000, -0.845000, -0.875000, -0.895000, -0.900000, -0.885000, -0.890000, -0.880000
	0.000000, -0.045000, -0.110000, -0.210000, -0.270000, -0.320000, -0.410000, -0.565000, -0.670000, -0.755000, -0.825000, -0.880000, -0.910000, -0.910000, -0.960000, -0.995000, -0.995000, -0.990000, -0.990000, -0.985000
	-0.020000, -0.080000, -0.155000, -0.250000, -0.310000, -0.365000, -0.465000, -0.630000, -0.750000, -0.840000, -0.895000, -0.950000, -0.990000, -1.010000, -1.030000, -1.040000, -1.055000, -1.060000, -1.035000, -1.050000
	-0.040000, -0.075000, -0.210000, -0.310000, -0.365000, -0.420000, -0.550000, -0.705000, -0.825000, -0.925000, -1.005000, -1.055000, -1.075000, -1.100000, -1.115000, -1.155000, -1.155000, -1.130000, -1.145000, -1.140000
	-0.005000, -0.050000, -0.150000, -0.255000, -0.350000, -0.415000, -0.545000, -0.710000, -0.855000, -0.950000, -1.065000, -1.100000, -1.145000, -1.165000, -1.185000, -1.205000, -1.210000, -1.205000, -1.195000, -1.185000
x_count = 20
y_count = 20
mesh_x_pps = 2
mesh_y_pps = 2
algo = bicubic
tension = 0.2
min_x = 50.0
max_x = 349.82
min_y = 50.0
max_y = 349.82
=======================
BMxx80: Oversampling: Temp 2x Humid 2x Pressure 2x
BMxx80: IIR: 1x
Extruder max_extrude_ratio=0.266081
mcu 'mcu': Starting CAN connect
Created a socket
webhooks client 548238913104: New connection
webhooks client 548238913104: Client info {'program': 'Moonraker', 'version': 'v0.8.0-387-gb8ba6c0'}
Loaded MCU 'mcu' 127 commands (v0.12.0-267-g12cd1d9e / gcc: (15:12.2.rel1-1) 12.2.1 20221205 binutils: (2.40-2+18+b1) 2.40)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c1=PB6,PB7 BUS_PINS_i2c1a=PB8,PB9 BUS_PINS_i2c2=PB10,PB11 BUS_PINS_i2c2a=PH4,PH5 BUS_PINS_i2c3=PA8,PC9 BUS_PINS_i2c3a=PH7,PH8 BUS_PINS_sdio=PC12,PD2,PC8,PC9,PC10,PC11 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2a=PC2,PC3,PB10 BUS_PINS_spi2b=PI2,PI3,PI1 BUS_PINS_spi3=PB4,PB5,PB3 BUS_PINS_spi3a=PC11,PC12,PC10 CANBUS_BRIDGE=1 CLOCK_FREQ=168000000 MCU=stm32f407xx PWM_MAX=255 RECEIVE_WINDOW=192 RESERVE_PINS_CAN=PB8,PB9 RESERVE_PINS_USB=PA11,PA12 RESERVE_PINS_crystal=PH0,PH1 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu 'EBBCan': Starting CAN connect
Created a socket
mcu 'EBBCan': got {'oid': 9, 'next_clock': 2139782679, 'value': 7546, '#name': 'analog_in_state', '#sent_time': 422.5068221, '#receive_time': 422.557087137}
mcu 'EBBCan': got {'oid': 10, 'next_clock': 2140422679, 'value': 31310, '#name': 'analog_in_state', '#sent_time': 422.5579831, '#receive_time': 422.567074322}
Loaded MCU 'EBBCan' 119 commands (v0.12.0-267-g12cd1d9e-dirty-20240725_173632-Core400 / gcc: (15:12.2.rel1-1) 12.2.1 20221205 binutils: (2.40-2+18+b1) 2.40)
MCU 'EBBCan' config: ADC_MAX=4095 BUS_PINS_i2c1_PA9_PA10=PA9,PA10 BUS_PINS_i2c1_PB6_PB7=PB6,PB7 BUS_PINS_i2c1_PB8_PB9=PB8,PB9 BUS_PINS_i2c2_PB10_PB11=PB10,PB11 BUS_PINS_i2c2_PB13_PB14=PB13,PB14 BUS_PINS_i2c3_PB3_PB4=PB3,PB4 BUS_PINS_i2c3_PC0_PC1=PC0,PC1 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2_PB2_PB11_PB10=PB2,PB11,PB10 BUS_PINS_spi2a=PC2,PC3,PB10 BUS_PINS_spi3=PB4,PB5,PB3 CANBUS_FREQUENCY=1000000 CLOCK_FREQ=64000000 MCU=stm32g0b1xx PWM_MAX=255 RECEIVE_WINDOW=192 RESERVE_PINS_CAN=PB0,PB1 RESERVE_PINS_crystal=PF0,PF1 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu 'PITB': Starting CAN connect
Created a socket
mcu 'EBBCan': got {'oid': 9, 'next_clock': 2158982679, 'value': 7545, '#name': 'analog_in_state', '#sent_time': 422.817552303, '#receive_time': 422.857125414}
mcu 'EBBCan': got {'oid': 10, 'next_clock': 2159622679, 'value': 31309, '#name': 'analog_in_state', '#sent_time': 422.817552303, '#receive_time': 422.867177562}
mcu 'EBBCan': got {'oid': 9, 'next_clock': 2178182679, 'value': 7539, '#name': 'analog_in_state', '#sent_time': 422.817552303, '#receive_time': 423.157086321}
mcu 'EBBCan': got {'oid': 10, 'next_clock': 2178822679, 'value': 31309, '#name': 'analog_in_state', '#sent_time': 422.817552303, '#receive_time': 423.167124784}
mcu 'PITB': got {'oid': 12, 'next_clock': 945254577, 'value': 6800, '#name': 'analog_in_state', '#sent_time': 423.144409636, '#receive_time': 423.174539266}
Loaded MCU 'PITB' 115 commands (v0.12.0-267-g12cd1d9e / gcc: (15:12.2.rel1-1) 12.2.1 20221205 binutils: (2.40-2+18+b1) 2.40)
MCU 'PITB' config: ADC_MAX=4095 BUS_PINS_i2c0a=gpio0,gpio1 BUS_PINS_i2c0b=gpio4,gpio5 BUS_PINS_i2c0c=gpio8,gpio9 BUS_PINS_i2c0d=gpio12,gpio13 BUS_PINS_i2c0e=gpio16,gpio17 BUS_PINS_i2c0f=gpio20,gpio21 BUS_PINS_i2c0g=gpio24,gpio25 BUS_PINS_i2c0h=gpio28,gpio29 BUS_PINS_i2c1a=gpio2,gpio3 BUS_PINS_i2c1b=gpio6,gpio7 BUS_PINS_i2c1c=gpio10,gpio11 BUS_PINS_i2c1d=gpio14,gpio15 BUS_PINS_i2c1e=gpio18,gpio19 BUS_PINS_i2c1f=gpio22,gpio23 BUS_PINS_i2c1g=gpio26,gpio27 BUS_PINS_spi0a=gpio0,gpio3,gpio2 BUS_PINS_spi0b=gpio4,gpio7,gpio6 BUS_PINS_spi0c=gpio16,gpio19,gpio18 BUS_PINS_spi0d=gpio20,gpio23,gpio22 BUS_PINS_spi1a=gpio8,gpio11,gpio10 BUS_PINS_spi1b=gpio12,gpio15,gpio14 BUS_PINS_spi1c=gpio24,gpio27,gpio26 CANBUS_FREQUENCY=1000000 CLOCK_FREQ=12000000 MCU=rp2040 PWM_MAX=255 RECEIVE_WINDOW=192 RESERVE_PINS_CAN=gpio9,gpio8 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu_temperature 'PITB' nominal base=437.226612 slope=-1917.489831
mcu_temperature 'mcu' nominal base=-279.593496 slope=1331.707317
mcu_temperature 'EBBCan' nominal base=-269.710145 slope=1305.652174
Sending MCU 'mcu' printer configuration...
Configured MCU 'mcu' (1024 moves)
MCU error during connect
Traceback (most recent call last):
  File "/home/pi/klipper/klippy/klippy.py", line 135, in _connect
    cb()
  File "/home/pi/klipper/klippy/mcu.py", line 755, in _connect
    raise error("Failed automated reset of MCU '%s'"
mcu.error: Failed automated reset of MCU 'EBBCan'
Failed automated reset of MCU 'EBBCan'
Once the underlying issue is corrected, use the
"FIRMWARE_RESTART" command to reset the firmware, reload the
config, and restart the host software.
Error configuring printer

Build file /home/pi/klipper/klippy/../.config(3482): Thu Jul 25 17:36:05 2024
========= Last MCU build config =========
CONFIG_LOW_LEVEL_OPTIONS=y
# CONFIG_MACH_AVR is not set
# CONFIG_MACH_ATSAM is not set
# CONFIG_MACH_ATSAMD is not set
# CONFIG_MACH_LPC176X is not set
CONFIG_MACH_STM32=y
# CONFIG_MACH_HC32F460 is not set
# CONFIG_MACH_RP2040 is not set
# CONFIG_MACH_PRU is not set
# CONFIG_MACH_AR100 is not set
# CONFIG_MACH_LINUX is not set
# CONFIG_MACH_SIMU is not set
CONFIG_BOARD_DIRECTORY="stm32"
CONFIG_MCU="stm32g0b1xx"
CONFIG_CLOCK_FREQ=64000000
CONFIG_FLASH_SIZE=0x20000
CONFIG_FLASH_BOOT_ADDRESS=0x8000000
CONFIG_RAM_START=0x20000000
CONFIG_RAM_SIZE=0x24000
CONFIG_STACK_SIZE=512
CONFIG_FLASH_APPLICATION_ADDRESS=0x8002000
CONFIG_STM32_SELECT=y
# CONFIG_MACH_STM32F103 is not set
# CONFIG_MACH_STM32F207 is not set
# CONFIG_MACH_STM32F401 is not set
# CONFIG_MACH_STM32F405 is not set
# CONFIG_MACH_STM32F407 is not set
# CONFIG_MACH_STM32F429 is not set
# CONFIG_MACH_STM32F446 is not set
# CONFIG_MACH_STM32F765 is not set
# CONFIG_MACH_STM32F031 is not set
# CONFIG_MACH_STM32F042 is not set
# CONFIG_MACH_STM32F070 is not set
# CONFIG_MACH_STM32F072 is not set
# CONFIG_MACH_STM32G070 is not set
# CONFIG_MACH_STM32G071 is not set
# CONFIG_MACH_STM32G0B0 is not set
CONFIG_MACH_STM32G0B1=y
# CONFIG_MACH_STM32G431 is not set
# CONFIG_MACH_STM32G474 is not set
# CONFIG_MACH_STM32H723 is not set
# CONFIG_MACH_STM32H743 is not set
# CONFIG_MACH_STM32H750 is not set
# CONFIG_MACH_STM32L412 is not set
# CONFIG_MACH_N32G452 is not set
# CONFIG_MACH_N32G455 is not set
CONFIG_MACH_STM32G0=y
CONFIG_MACH_STM32G0Bx=y
CONFIG_HAVE_STM32_USBFS=y
CONFIG_HAVE_STM32_FDCANBUS=y
CONFIG_HAVE_STM32_USBCANBUS=y
CONFIG_STM32_DFU_ROM_ADDRESS=0
CONFIG_STM32_FLASH_START_2000=y
# CONFIG_STM32_FLASH_START_0000 is not set
CONFIG_STM32_CLOCK_REF_8M=y
# CONFIG_STM32_CLOCK_REF_12M is not set
# CONFIG_STM32_CLOCK_REF_16M is not set
# CONFIG_STM32_CLOCK_REF_20M is not set
# CONFIG_STM32_CLOCK_REF_24M is not set
# CONFIG_STM32_CLOCK_REF_25M is not set
# CONFIG_STM32_CLOCK_REF_INTERNAL is not set
CONFIG_CLOCK_REF_FREQ=8000000
CONFIG_STM32F0_TRIM=16
# CONFIG_STM32_USB_PA11_PA12 is not set
# CONFIG_STM32_SERIAL_USART1 is not set
# CONFIG_STM32_SERIAL_USART1_ALT_PB7_PB6 is not set
# CONFIG_STM32_SERIAL_USART2 is not set
# CONFIG_STM32_SERIAL_USART2_ALT_PD6_PD5 is not set
# CONFIG_STM32_SERIAL_USART3 is not set
# CONFIG_STM32_SERIAL_USART3_ALT_PD9_PD8 is not set
# CONFIG_STM32_SERIAL_USART5 is not set
# CONFIG_STM32_CANBUS_PA11_PA12 is not set
# CONFIG_STM32_CANBUS_PA11_PB9 is not set
# CONFIG_STM32_MMENU_CANBUS_PB8_PB9 is not set
# CONFIG_STM32_MMENU_CANBUS_PB12_PB13 is not set
# CONFIG_STM32_MMENU_CANBUS_PD0_PD1 is not set
CONFIG_STM32_MMENU_CANBUS_PB0_PB1=y
# CONFIG_STM32_MMENU_CANBUS_PD12_PD13 is not set
# CONFIG_STM32_MMENU_CANBUS_PC2_PC3 is not set
# CONFIG_STM32_USBCANBUS_PA11_PA12 is not set
CONFIG_STM32_CANBUS_PB0_PB1=y
CONFIG_USB_VENDOR_ID=0x1d50
CONFIG_USB_DEVICE_ID=0x614e
CONFIG_USB_SERIAL_NUMBER="12345"
CONFIG_WANT_GPIO_BITBANGING=y
CONFIG_WANT_DISPLAYS=y
CONFIG_WANT_SENSORS=y
CONFIG_WANT_LIS2DW=y
CONFIG_WANT_LDC1612=y
CONFIG_WANT_SOFTWARE_I2C=y
CONFIG_WANT_SOFTWARE_SPI=y
CONFIG_NEED_SENSOR_BULK=y
CONFIG_CANSERIAL=y
CONFIG_CANBUS=y
CONFIG_CANBUS_FREQUENCY=1000000
CONFIG_CANBUS_FILTER=y
CONFIG_INITIAL_PINS=""
CONFIG_HAVE_GPIO=y
CONFIG_HAVE_GPIO_ADC=y
CONFIG_HAVE_GPIO_SPI=y
CONFIG_HAVE_GPIO_I2C=y
CONFIG_HAVE_GPIO_HARD_PWM=y
CONFIG_HAVE_STRICT_TIMING=y
CONFIG_HAVE_CHIPID=y
CONFIG_HAVE_STEPPER_BOTH_EDGE=y
CONFIG_HAVE_BOOTLOADER_REQUEST=y
CONFIG_INLINE_STEPPER_HACK=y
=======================
Build file /home/pi/klipper/klippy/../out/klipper.dict(8683): Thu Jul 25 17:36:32 2024
Last MCU build version: v0.12.0-267-g12cd1d9e-dirty-20240725_173632-Core400
Last MCU build tools: gcc: (15:12.2.rel1-1) 12.2.1 20221205 binutils: (2.40-2+18+b1) 2.40
Last MCU build config: ADC_MAX=4095 BUS_PINS_i2c1_PA9_PA10=PA9,PA10 BUS_PINS_i2c1_PB6_PB7=PB6,PB7 BUS_PINS_i2c1_PB8_PB9=PB8,PB9 BUS_PINS_i2c2_PB10_PB11=PB10,PB11 BUS_PINS_i2c2_PB13_PB14=PB13,PB14 BUS_PINS_i2c3_PB3_PB4=PB3,PB4 BUS_PINS_i2c3_PC0_PC1=PC0,PC1 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2_PB2_PB11_PB10=PB2,PB11,PB10 BUS_PINS_spi2a=PC2,PC3,PB10 BUS_PINS_spi3=PB4,PB5,PB3 CANBUS_FREQUENCY=1000000 CLOCK_FREQ=64000000 MCU=stm32g0b1xx PWM_MAX=255 RECEIVE_WINDOW=192 RESERVE_PINS_CAN=PB0,PB1 RESERVE_PINS_crystal=PF0,PF1 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
Build file /home/pi/klipper/klippy/../out/klipper.elf(1039988): Thu Jul 25 17:36:38 2024
mcu 'EBBCan': got {'oid': 9, 'next_clock': 2197382679, 'value': 7539, '#name': 'analog_in_state', '#sent_time': 423.364562784, '#receive_time': 423.457084377}
mcu 'EBBCan': got {'oid': 10, 'next_clock': 2198022679, 'value': 31312, '#name': 'analog_in_state', '#sent_time': 423.364562784, '#receive_time': 423.46708850600004}
mcu 'PITB': got {'oid': 12, 'next_clock': 948854577, 'value': 6800, '#name': 'analog_in_state', '#sent_time': 423.351717247, '#receive_time': 423.474530618}
mcu 'EBBCan': got {'oid': 9, 'next_clock': 2216582679, 'value': 7543, '#name': 'analog_in_state', '#sent_time': 423.364562784, '#receive_time': 423.757094136}
mcu 'EBBCan': got {'oid': 10, 'next_clock': 2217222679, 'value': 31310, '#name': 'analog_in_state', '#sent_time': 423.364562784, '#receive_time': 423.767100062}
mcu 'PITB': got {'oid': 12, 'next_clock': 952454577, 'value': 6799, '#name': 'analog_in_state', '#sent_time': 423.351717247, '#receive_time': 423.774529691}
mcu 'EBBCan': got {'oid': 9, 'next_clock': 2235782679, 'value': 7543, '#name': 'analog_in_state', '#sent_time': 423.801516765, '#receive_time': 424.057088636}
mcu 'EBBCan': got {'oid': 10, 'next_clock': 2236422679, 'value': 31311, '#name': 'analog_in_state', '#sent_time': 423.801516765, '#receive_time': 424.067142413}
mcu 'PITB': got {'oid': 12, 'next_clock': 956054577, 'value': 6800, '#name': 'analog_in_state', '#sent_time': 423.351717247, '#receive_time': 424.07453171}
mcu 'EBBCan': got {'oid': 9, 'next_clock': 2254982679, 'value': 7544, '#name': 'analog_in_state', '#sent_time': 423.801516765, '#receive_time': 424.357114339}
mcu 'EBBCan': got {'oid': 10, 'next_clock': 2255622679, 'value': 31308, '#name': 'analog_in_state', '#sent_time': 423.801516765, '#receive_time': 424.367119006}
mcu 'PITB': got {'oid': 12, 'next_clock': 959654577, 'value': 6800, '#name': 'analog_in_state', '#sent_time': 424.33587408, '#receive_time': 424.374511265}
mcu 'EBBCan': got {'oid': 9, 'next_clock': 2274182679, 'value': 7546, '#name': 'analog_in_state', '#sent_time': 423.801516765, '#receive_time': 424.657107858}
mcu 'EBBCan': got {'oid': 10, 'next_clock': 2274822679, 'value': 31311, '#name': 'analog_in_state', '#sent_time': 423.801516765, '#receive_time': 424.667121913}
mcu 'PITB': got {'oid': 12, 'next_clock': 963254577, 'value': 6800, '#name': 'analog_in_state', '#sent_time': 424.33587408, '#receive_time': 424.674504024}
mcu 'EBBCan': got {'oid': 9, 'next_clock': 2293382679, 'value': 7544, '#name': 'analog_in_state', '#sent_time': 424.78563082, '#receive_time': 424.957094172}
mcu 'EBBCan': got {'oid': 10, 'next_clock': 2294022679, 'value': 31311, '#name': 'analog_in_state', '#sent_time': 424.78563082, '#receive_time': 424.967110283}
mcu 'PITB': got {'oid': 12, 'next_clock': 966854577, 'value': 6800, '#name': 'analog_in_state', '#sent_time': 424.33587408, '#receive_time': 424.974499024}
mcu 'EBBCan': got {'oid': 9, 'next_clock': 2312582679, 'value': 7547, '#name': 'analog_in_state', '#sent_time': 424.78563082, '#receive_time': 425.257095913}
mcu 'EBBCan': got {'oid': 10, 'next_clock': 2313222679, 'value': 31312, '#name': 'analog_in_state', '#sent_time': 424.78563082, '#receive_time': 425.267104709}
mcu 'PITB': got {'oid': 12, 'next_clock': 970454577, 'value': 6800, '#name': 'analog_in_state', '#sent_time': 424.33587408, '#receive_time': 425.274495709}
mcu 'EBBCan': got {'oid': 9, 'next_clock': 2331782679, 'value': 7543, '#name': 'analog_in_state', '#sent_time': 424.78563082, '#receive_time': 425.557104598}
mcu 'EBBCan': got {'oid': 10, 'next_clock': 2332422679, 'value': 31309, '#name': 'analog_in_state', '#sent_time': 424.78563082, '#receive_time': 425.567106135}
mcu 'PITB': got {'oid': 12, 'next_clock': 974054577, 'value': 6800, '#name': 'analog_in_state', '#sent_time': 425.320834505, '#receive_time': 425.57449050499997}
mcu 'EBBCan': got {'oid': 9, 'next_clock': 2350982679, 'value': 7541, '#name': 'analog_in_state', '#sent_time': 425.770219746, '#receive_time': 425.85712635699997}
mcu 'EBBCan': got {'oid': 10, 'next_clock': 2351622679, 'value': 31310, '#name': 'analog_in_state', '#sent_time': 425.770219746, '#receive_time': 425.867171023}
mcu 'PITB': got {'oid': 12, 'next_clock': 977654577, 'value': 6800, '#name': 'analog_in_state', '#sent_time': 425.320834505, '#receive_time': 425.874508283}
mcu 'EBBCan': got {'oid': 9, 'next_clock': 2370182679, 'value': 7541, '#name': 'analog_in_state', '#sent_time': 425.770219746, '#receive_time': 426.15713432}
mcu 'EBBCan': got {'oid': 10, 'next_clock': 2370822679, 'value': 31309, '#name': 'analog_in_state', '#sent_time': 425.770219746, '#receive_time': 426.16715920800004}
mcu 'PITB': got {'oid': 12, 'next_clock': 981254577, 'value': 6800, '#name': 'analog_in_state', '#sent_time': 425.320834505, '#receive_time': 426.174527246}
mcu 'EBBCan': got {'oid': 9, 'next_clock': 2389382679, 'value': 7542, '#name': 'analog_in_state', '#sent_time': 425.770219746, '#receive_time': 426.457139986}
mcu 'EBBCan': got {'oid': 10, 'next_clock': 2390022679, 'value': 31312, '#name': 'analog_in_state', '#sent_time': 425.770219746, '#receive_time': 426.467149097}
mcu 'PITB': got {'oid': 12, 'next_clock': 984854577, 'value': 6800, '#name': 'analog_in_state', '#sent_time': 426.305387171, '#receive_time': 426.474506708}
mcu 'EBBCan': got {'oid': 9, 'next_clock': 2408582679, 'value': 7544, '#name': 'analog_in_state', '#sent_time': 426.754328301, '#receive_time': 426.75716556}
mcu 'EBBCan': got {'oid': 10, 'next_clock': 2409222679, 'value': 31309, '#name': 'analog_in_state', '#sent_time': 426.754328301, '#receive_time': 426.767161449}
mcu 'PITB': got {'oid': 12, 'next_clock': 988454577, 'value': 6800, '#name': 'analog_in_state', '#sent_time': 426.305387171, '#receive_time': 426.77447069}
mcu 'EBBCan': got {'oid': 9, 'next_clock': 2427782679, 'value': 7544, '#name': 'analog_in_state', '#sent_time': 426.754328301, '#receive_time': 427.057151393}
mcu 'EBBCan': got {'oid': 10, 'next_clock': 2428422679, 'value': 31312, '#name': 'analog_in_state', '#sent_time': 426.754328301, '#receive_time': 427.06720972600004}
mcu 'PITB': got {'oid': 12, 'next_clock': 992054577, 'value': 6800, '#name': 'analog_in_state', '#sent_time': 426.305387171, '#receive_time': 427.074473875}
mcu 'EBBCan': got {'oid': 9, 'next_clock': 2446982679, 'value': 7546, '#name': 'analog_in_state', '#sent_time': 426.754328301, '#receive_time': 427.357148263}
mcu 'EBBCan': got {'oid': 10, 'next_clock': 2447622679, 'value': 31309, '#name': 'analog_in_state', '#sent_time': 426.754328301, '#receive_time': 427.367169337}
mcu 'PITB': got {'oid': 12, 'next_clock': 995654577, 'value': 6800, '#name': 'analog_in_state', '#sent_time': 427.290112337, '#receive_time': 427.374470171}
mcu 'EBBCan': got {'oid': 9, 'next_clock': 2466182679, 'value': 7541, '#name': 'analog_in_state', '#sent_time': 426.754328301, '#receive_time': 427.657175652}
mcu 'EBBCan': got {'oid': 10, 'next_clock': 2466822679, 'value': 31313, '#name': 'analog_in_state', '#sent_time': 426.754328301, '#receive_time': 427.667142967}
mcu 'PITB': got {'oid': 12, 'next_clock': 999254577, 'value': 6800, '#name': 'analog_in_state', '#sent_time': 427.290112337, '#receive_time': 427.674462134}
mcu 'EBBCan': got {'oid': 9, 'next_clock': 2485382679, 'value': 7546, '#name': 'analog_in_state', '#sent_time': 427.738853263, '#receive_time': 427.957162819}
mcu 'EBBCan': got {'oid': 10, 'next_clock': 2486022679, 'value': 31313, '#name': 'analog_in_state', '#sent_time': 427.738853263, '#receive_time': 427.96715274400003}
mcu 'PITB': got {'oid': 12, 'next_clock': 1002854577, 'value': 6800, '#name': 'analog_in_state', '#sent_time': 427.290112337, '#receive_time': 427.974475004}
mcu 'EBBCan': got {'oid': 9, 'next_clock': 2504582679, 'value': 7539, '#name': 'analog_in_state', '#sent_time': 427.738853263, '#receive_time': 428.257260318}
mcu 'EBBCan': got {'oid': 10, 'next_clock': 2505222679, 'value': 31311, '#name': 'analog_in_state', '#sent_time': 427.738853263, '#receive_time': 428.267148281}
mcu 'PITB': got {'oid': 12, 'next_clock': 1006454577, 'value': 6800, '#name': 'analog_in_state', '#sent_time': 427.290112337, '#receive_time': 428.274537911}
mcu 'EBBCan': got {'oid': 9, 'next_clock': 2523782679, 'value': 7543, '#name': 'analog_in_state', '#sent_time': 427.738853263, '#receive_time': 428.557230003}
mcu 'EBBCan': got {'oid': 10, 'next_clock': 2524422679, 'value': 31311, '#name': 'analog_in_state', '#sent_time': 427.738853263, '#receive_time': 428.56717720700004}
mcu 'PITB': got {'oid': 12, 'next_clock': 1010054577, 'value': 6800, '#name': 'analog_in_state', '#sent_time': 428.274428744, '#receive_time': 428.574439837}
mcu 'EBBCan': got {'oid': 9, 'next_clock': 2542982679, 'value': 7544, '#name': 'analog_in_state', '#sent_time': 428.723586892, '#receive_time': 428.857168262}
mcu 'EBBCan': got {'oid': 10, 'next_clock': 2543622679, 'value': 31310, '#name': 'analog_in_state', '#sent_time': 428.723586892, '#receive_time': 428.86716129900003}
mcu 'PITB': got {'oid': 12, 'next_clock': 1013654577, 'value': 6800, '#name': 'analog_in_state', '#sent_time': 428.274428744, '#receive_time': 428.874490911}
Attempting MCU 'EBBCan' reset command
Attempting MCU 'PITB' reset command
Attempting MCU 'mcu' reset command
webhooks client 548238913104: Disconnected
Restarting printer
Start printer at Tue Jul 30 14:01:02 2024 (1722344462.0 430.1)
===== Config file =====
[mcu]
canbus_uuid = 70559fc0ed52

[mcu EBBCan]
canbus_uuid = 1e0fae8aa7ce

[save_variables]
filename = ~/printer_data/config/variables.cfg

[fan_generic Air_Scrubber]
pin = PA2
max_power = 1
off_below = 0.25
kick_start_time = 0.5

[delayed_gcode filter_off]
gcode = 
	SET_FAN_SPEED FAN=Air_Scrubber SPEED=0

[gcode_macro TOGGLE_Air_Scrubber]
gcode = 
	{% if printer['fan_generic Air_Scrubber'].speed > 0 %}
	SET_FAN_SPEED FAN=Air_Scrubber SPEED=0
	{% else %}
	SET_FAN_SPEED FAN=Air_Scrubber SPEED=1
	{% endif %}

[tmc2209 manual_stepper selector]
uart_pin = PB7
run_current = 0.3
stealthchop_threshold = 0

[tmc2209 manual_stepper chameleon]
uart_pin = PD15
run_current = 0.8
stealthchop_threshold = 0

[manual_stepper selector]
step_pin = PE1
dir_pin = PE0
enable_pin = !PE2
microsteps = 1
rotation_distance = 2

[manual_stepper chameleon]
step_pin = PC7
dir_pin = PC6
enable_pin = !PC8
microsteps = 16
rotation_distance = 34.408602151

[neopixel mmu_LED]
pin = PE15
chain_count = 3
color_order = GRBW
initial_red = 0.3
initial_green = 0.3
initial_blue = 0.3
initial_white = 0.0

[gcode_macro TOOL_INIT]
description = homes the tool selector. Needed before any tool change.
variable_tool = 0
variable_ysplit_distance = 670
gcode = 
	MANUAL_STEPPER STEPPER=selector SET_POSITION=0
	MANUAL_STEPPER STEPPER=selector MOVE=-1.65
	MANUAL_STEPPER STEPPER=selector SET_POSITION=0
	MANUAL_STEPPER STEPPER=selector MOVE=0.12
	MANUAL_STEPPER STEPPER=selector SET_POSITION=0
	MANUAL_STEPPER STEPPER=chameleon SET_POSITION=0
	
	SET_GCODE_VARIABLE MACRO=TOOL_INIT VARIABLE=tool VALUE={TOOL}
	SET_GCODE_VARIABLE MACRO=TOOL_INIT VARIABLE=ysplit_distance VALUE={YSPLIT_DISTANCE}

[gcode_macro WIPE]
gcode = 
	G1 X170 F5000
	G1 X250
	G1 X170
	G1 X250

[gcode_macro _Cut_Filament]
description = Cut filament by pressing the cutter on a pin with a horizontal movement.
gcode = 
	{% set svv = printer.save_variables.variables %}
	SAVE_GCODE_STATE NAME=_filament_change_state
	{% set prev_pa = printer.extruder.pressure_advance %}
	SET_PRESSURE_ADVANCE ADVANCE=0
	G1 E-33 F3000
	G1 X15 Y0 F10000
	G1 X15 Y-23 F10000
	G1 X-2 Y-23 F10000
	
	
	G1 E-100 F3000
	G1 X15 Y-23 F10000
	SET_PRESSURE_ADVANCE ADVANCE={prev_pa}
	RESTORE_GCODE_STATE NAME=_filament_change_state MOVE=1

[gcode_macro TS0]
gcode = 
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=0 WHITE=1 INDEX=1 TRANSMIT=1
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=0 WHITE=0 INDEX=3 TRANSMIT=1
	TOOL_SELECT TOOL=0

[gcode_macro TS1]
gcode = 
	SET_LED LED=mmu_LED RED=1 GREEN=0 BLUE=0 WHITE=0 INDEX=1 TRANSMIT=1
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=0 WHITE=0 INDEX=3 TRANSMIT=1
	TOOL_SELECT TOOL=1

[gcode_macro TS2]
gcode = 
	SET_LED LED=mmu_LED RED=0 GREEN=1 BLUE=0 WHITE=0 INDEX=1 TRANSMIT=1
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=0 WHITE=0 INDEX=3 TRANSMIT=1
	TOOL_SELECT TOOL=2

[gcode_macro TS3]
gcode = 
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=1 WHITE=0 INDEX=1 TRANSMIT=1
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=0 WHITE=0 INDEX=3 TRANSMIT=1
	TOOL_SELECT TOOL=3

[gcode_macro TOOL_SELECT]
gcode = 
	{% set TOOL = params.TOOL|int %}
	M117 "Setting tool to TOOL{TOOL}"
	{% if TOOL == 0 %}
	MANUAL_STEPPER stepper=selector MOVE=0
	{% elif TOOL == 1 %}
	MANUAL_STEPPER stepper=selector MOVE=0.5
	{% elif TOOL == 2 %}
	MANUAL_STEPPER stepper=selector MOVE=1.0
	{% elif TOOL == 3 %}
	MANUAL_STEPPER stepper=selector MOVE=1.5
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TOOL_INIT VARIABLE=tool VALUE={TOOL}

[gcode_macro TOOL_FREE]
gcode = 
	{% set TOOL = params.TOOL|int %}
	M117 "Free filament path for tool {TOOL}"
	{% if TOOL == 0 %}
	MANUAL_STEPPER stepper=selector MOVE=1
	{% elif TOOL == 1 %}
	MANUAL_STEPPER stepper=selector MOVE=1.5
	{% elif TOOL == 2 %}
	MANUAL_STEPPER stepper=selector MOVE=0
	{% elif TOOL == 3 %}
	MANUAL_STEPPER stepper=selector MOVE=0.5
	{% endif %}

[gcode_macro CHAMELEON_UNLOAD]
description = Unloads the filament from the tubing
gcode = 
	SET_LED LED=mmu_LED RED=1 GREEN=0 BLUE=0 WHITE=0 INDEX=2 TRANSMIT=1
	{% set TOOL=printer["gcode_macro TOOL_INIT"].tool %}
	{% set YSPLIT_DIST=printer["gcode_macro TOOL_INIT"].ysplit_distance %}
	MANUAL_STEPPER STEPPER=chameleon SET_POSITION=0
	{% if TOOL == 0 or TOOL == 1 %}
	M117 "Move tool {TOOL} by -{YSPLIT_DIST}"
	MANUAL_STEPPER stepper=chameleon MOVE=-{YSPLIT_DIST} SPEED=200 ACCEL=200
	{% else %}
	M117 "Move tool {TOOL} by {YSPLIT_DIST}"
	MANUAL_STEPPER stepper=chameleon MOVE={YSPLIT_DIST} SPEED=200 ACCEL=200
	{% endif %}
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=0 WHITE=1 INDEX=2 TRANSMIT=1

[gcode_macro CHAMELEON_LOAD]
description = Loads the filament into the extruder bowden
gcode = 
	SET_LED LED=mmu_LED RED=0 GREEN=1 BLUE=0 WHITE=0 INDEX=2 TRANSMIT=1
	{% set TOOL=printer["gcode_macro TOOL_INIT"].tool %}
	{% set YSPLIT_DIST=printer["gcode_macro TOOL_INIT"].ysplit_distance %}
	MANUAL_STEPPER STEPPER=chameleon SET_POSITION=0
	{% if TOOL == 0 or TOOL == 1 %}
	M117 "Move tool {TOOL} by {YSPLIT_DIST}"
	MANUAL_STEPPER stepper=chameleon MOVE={YSPLIT_DIST} SPEED=200 ACCEL=200
	{% else %}
	M117 "Move tool {TOOL} by -{YSPLIT_DIST}"
	MANUAL_STEPPER stepper=chameleon MOVE=-{YSPLIT_DIST} SPEED=200 ACCEL=200
	{% endif %}
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=0 WHITE=1 INDEX=2 TRANSMIT=1

[gcode_macro EXTRUDER_UNLOAD]
description = Unloads the filament from the extruder before a tool change
gcode = 
	_Cut_Filament

[gcode_macro EXTRUDER_LOAD]
description = Loads the filament in the extruder after a tool change
gcode = 
	G92 E0
	G1 E98 F3000
	G1 E5 F300

[gcode_macro T0]
description = Changes the filament to that loaded in tool 0
gcode = 
	
	{% set TOOL= printer["gcode_macro TOOL_INIT"].tool %}
	{% set YSPLIT_DIST=printer["gcode_macro TOOL_INIT"].ysplit_distance %}
	
	PAUSE
	EXTRUDER_UNLOAD
	TOOL_SELECT TOOL={TOOL}
	CHAMELEON_UNLOAD
	
	{% set TOOL=0 %}
	SET_GCODE_VARIABLE MACRO=TOOL_INIT VARIABLE=tool VALUE=0
	TOOL_SELECT TOOL={TOOL}
	CHAMELEON_LOAD
	
	TOOL_FREE TOOL={TOOL}
	EXTRUDER_LOAD
	
	WIPE
	
	RESUME

[gcode_macro T1]
description = Changes the filament to that loaded in tool 1
gcode = 
	
	{% set TOOL= printer["gcode_macro TOOL_INIT"].tool %}
	{% set YSPLIT_DIST=printer["gcode_macro TOOL_INIT"].ysplit_distance %}
	
	PAUSE
	EXTRUDER_UNLOAD
	TOOL_SELECT TOOL={TOOL}
	CHAMELEON_UNLOAD
	
	{% set TOOL=1 %}
	SET_GCODE_VARIABLE MACRO=TOOL_INIT VARIABLE=tool VALUE={TOOL}
	TOOL_SELECT TOOL={TOOL}
	CHAMELEON_LOAD
	
	TOOL_FREE TOOL={TOOL}
	EXTRUDER_LOAD
	
	WIPE
	
	RESUME

[gcode_macro T2]
description = Changes the filament to that loaded in tool 2
gcode = 
	
	{% set TOOL= printer["gcode_macro TOOL_INIT"].tool %}
	{% set YSPLIT_DIST=printer["gcode_macro TOOL_INIT"].ysplit_distance %}
	
	PAUSE
	EXTRUDER_UNLOAD
	TOOL_SELECT TOOL={TOOL}
	CHAMELEON_UNLOAD
	
	{% set TOOL=2 %}
	SET_GCODE_VARIABLE MACRO=TOOL_INIT VARIABLE=tool VALUE={TOOL}
	TOOL_SELECT TOOL={TOOL}
	CHAMELEON_LOAD
	
	TOOL_FREE TOOL={TOOL}
	EXTRUDER_LOAD
	
	WIPE
	
	RESUME

[gcode_macro T3]
description = Changes the filament to that loaded in tool 2
gcode = 
	
	{% set TOOL= printer["gcode_macro TOOL_INIT"].tool %}
	{% set YSPLIT_DIST=printer["gcode_macro TOOL_INIT"].ysplit_distance %}
	
	PAUSE
	EXTRUDER_UNLOAD
	TOOL_SELECT TOOL={TOOL}
	CHAMELEON_UNLOAD
	
	{% set TOOL=3 %}
	TOOL_SELECT TOOL={TOOL}
	SET_GCODE_VARIABLE MACRO=TOOL_INIT VARIABLE=tool VALUE={TOOL}
	CHAMELEON_LOAD
	
	TOOL_FREE TOOL={TOOL}
	EXTRUDER_LOAD
	
	WIPE
	
	RESUME

[mcu PITB]
canbus_uuid = 2e8f2c113235

[fan_generic PITB_FAN0]
pin = PITB:gpio0
max_power = 1.0
kick_start_time = 0.5
off_below = 0.10

[fan_generic PITB_FAN1]
pin = PITB:gpio18
max_power = 1.0
kick_start_time = 0.5
off_below = 0.10

[neopixel PITB_LED]
pin = PITB:gpio19
color_order = GRBW
initial_red = 0.0
initial_green = 0.0
initial_blue = 0.0
initial_white = 0.0

[temperature_sensor mcu_pitb]
sensor_type = temperature_mcu
sensor_mcu = PITB

[output_pin activity_led]
pin = PITB:gpio15

[temperature_sensor enclosure_temp]
sensor_type = BME280
i2c_address = 118
i2c_mcu = PITB
i2c_bus = i2c0g

[neopixel Hotend_LED]
pin = EBBCan:PD3
chain_count = 3
color_order = GRBW
initial_red = 0.0
initial_green = 0.0
initial_blue = 0.0
initial_white = 0.0

[gcode_macro _sb_vars]
variable_colors = {
	'logo': {
	'busy': {'r': 0.4, 'g': 0.0, 'b': 0.0, 'w': 0.0},
	'cleaning': {'r': 0.0, 'g': 0.02, 'b': 0.5, 'w': 0.0},
	'calibrating_z': {'r': 0.8, 'g': 0., 'b': 0.35, 'w': 0.0},
	'heating': {'r': 0.3, 'g': 0.18, 'b': 0.0, 'w': 0.0},
	'homing': {'r': 0.0, 'g': 0.6, 'b': 0.2, 'w': 0.0},
	'leveling': {'r': 0.5, 'g': 0.1, 'b': 0.4, 'w': 0.0},
	'meshing': {'r': 0.2, 'g': 1.0, 'b': 0.0, 'w': 0.0},
	'off': {'r': 0.0, 'g': 0.0, 'b': 0.0, 'w': 0.0},
	'printing': {'r': 1.0, 'g': 1.0, 'b': 1.0, 'w': 1.0},
	'standby': {'r': 0.01, 'g': 0.01, 'b': 0.5, 'w': 0.1}
	},
	'nozzle': {
	'heating': {'r': 0.8, 'g': 0.35, 'b': 0.0, 'w':0.0},
	'off': {'r': 0.0, 'g': 0.0, 'b': 0.0, 'w': 0.0},
	'on': {'r': 0.8, 'g': 0.8, 'b': 0.8, 'w':1.0},
	'standby': {'r': 0.0, 'g': 0.0, 'b': 0.0, 'w':0.5},
	'hot': {'r': 1.0, 'g': 0.0, 'b': 0.0, 'w': 0.0},
	'cold': {'r': 0.3, 'g': 0.0, 'b': 1.0, 'w': 0.0}
	},
	'thermal': {
	'hot': {'r': 1.0, 'g': 0.0, 'b': 0.0, 'w': 0.0},
	'cold': {'r': 0.3, 'g': 0.0, 'b': 0.3, 'w': 0.0},
	'busy': {'r': 0.4, 'g': 0.0, 'b': 0.0, 'w': 0.0},
	'cleaning': {'r': 0.0, 'g': 0.02, 'b': 0.5, 'w': 0.0},
	'calibrating_z': {'r': 0.8, 'g': 0., 'b': 0.35, 'w': 0.0},
	'heating': {'r': 0.3, 'g': 0.18, 'b': 0.0, 'w': 0.0},
	'homing': {'r': 0.0, 'g': 0.6, 'b': 0.2, 'w': 0.0},
	'leveling': {'r': 0.5, 'g': 0.1, 'b': 0.4, 'w': 0.0},
	'meshing': {'r': 0.2, 'g': 1.0, 'b': 0.0, 'w': 0.0},
	'off': {'r': 0.0, 'g': 0.0, 'b': 0.0, 'w': 0.0},
	'printing': {'r': 1.0, 'g': 1.0, 'b': 1.0, 'w': 1.0},
	'standby': {'r': 0.01, 'g': 0.01, 'b': 0.01, 'w': 0.1}
	}
	}
variable_logo_led_name = "Hotend_LED"
variable_logo_idx = "3"
variable_nozzle_led_name = "Hotend_LED"
variable_nozzle_idx = "1,2"
variable_thermal_led_name = "Main_LED"
variable_thermal_idx = "1,2,3,4,5,6,7,8,9,10,21,22,23,24"
variable_control1_led_name = "LCD_BUTTON_LED"
variable_control1_idx = "1"
variable_thermal_config = {
	'extruder': {
	'cool_temp': 40,
	'leds': 'nozzle',
	},
	'heater_bed': {
	'cool_temp': 40,
	'leds': 'thermal',
	},
	}
gcode = 

[gcode_macro _set_sb_leds]
gcode = 
	{% set red = params.RED|default(0)|float %}
	{% set green = params.GREEN|default(0)|float %}
	{% set blue = params.BLUE|default(0)|float %}
	{% set white = params.WHITE|default(0)|float %}
	{% set led = params.LED|string %}
	{% set idx = (params.IDX|string).split(',') %}
	{% set transmit_last = params.TRANSMIT|default(1) %}
	
	{% for led_index in idx %}
	{% set transmit=transmit_last if loop.last else 0 %}
	set_led led={led} red={red} green={green} blue={blue} white={white} index={led_index} transmit={transmit}
	{% endfor %}

[gcode_macro _set_sb_leds_by_name]
gcode = 
	{% set leds_name = params.LEDS %}
	{% set color_name = params.COLOR %}
	{% set color = printer["gcode_macro _sb_vars"].colors[leds_name][color_name] %}
	{% set led = printer["gcode_macro _sb_vars"][leds_name + "_led_name"] %}
	{% set idx = printer["gcode_macro _sb_vars"][leds_name + "_idx"] %}
	{% set transmit = params.TRANSMIT|default(1) %}
	
	_set_sb_leds led={led} red={color.r} green={color.g} blue={color.b} white={color.w} idx="{idx}" transmit={transmit}

[gcode_macro _set_thermal_leds]
gcode = 
	{% set red = params.RED|default(0)|float %}
	{% set green = params.GREEN|default(0)|float %}
	{% set blue = params.BLUE|default(0)|float %}
	{% set white = params.WHITE|default(0)|float %}
	{% set led = printer["gcode_macro _sb_vars"].thermal_led_name %}
	{% set idx = printer["gcode_macro _sb_vars"].thermal_idx %}
	{% set transmit=params.TRANSMIT|default(1) %}
	
	_set_sb_leds led={led} red={red} green={green} blue={blue} white={white} idx="{idx}" transmit={transmit}

[gcode_macro _set_logo_leds]
gcode = 
	{% set red = params.RED|default(0)|float %}
	{% set green = params.GREEN|default(0)|float %}
	{% set blue = params.BLUE|default(0)|float %}
	{% set white = params.WHITE|default(0)|float %}
	{% set led = printer["gcode_macro _sb_vars"].logo_led_name %}
	{% set idx = printer["gcode_macro _sb_vars"].logo_idx %}
	{% set transmit=params.TRANSMIT|default(1) %}
	
	_set_sb_leds led={led} red={red} green={green} blue={blue} white={white} idx="{idx}" transmit={transmit}

[gcode_macro _set_nozzle_leds]
gcode = 
	{% set red = params.RED|default(0)|float %}
	{% set green = params.GREEN|default(0)|float %}
	{% set blue = params.BLUE|default(0)|float %}
	{% set white = params.WHITE|default(0)|float %}
	{% set led = printer["gcode_macro _sb_vars"].nozzle_led_name %}
	{% set idx = printer["gcode_macro _sb_vars"].nozzle_idx %}
	{% set transmit=params.TRANSMIT|default(1) %}
	
	_set_sb_leds led={led} red={red} green={green} blue={blue} white={white} idx="{idx}" transmit={transmit}

[gcode_macro set_thermal_leds_off]
gcode = 
	{% set transmit=params.TRANSMIT|default(1) %}
	_set_thermal_leds red=0 blue=0 green=0 white=0 transmit={transmit}

[gcode_macro set_logo_leds_off]
gcode = 
	{% set transmit=params.TRANSMIT|default(1) %}
	_set_logo_leds red=0 blue=0 green=0 white=0 transmit={transmit}

[gcode_macro set_nozzle_leds_on]
gcode = 
	{% set transmit=params.TRANSMIT|default(1) %}
	_set_sb_leds_by_name leds="nozzle" color="on" transmit={transmit}

[gcode_macro set_nozzle_leds_off]
gcode = 
	{% set transmit=params.TRANSMIT|default(1) %}
	_set_sb_leds_by_name leds="nozzle" color="off" transmit={transmit}

[gcode_macro status_off]
gcode = 
	set_logo_leds_off transmit=0
	set_thermal_leds_off transmit=0
	set_nozzle_leds_off

[gcode_macro status_ready]
gcode = 
	_set_sb_leds_by_name leds="logo" color="standby" transmit=1
	_set_sb_leds_by_name leds="thermal" color="standby" transmit=1
	_set_sb_leds_by_name leds="nozzle" color="standby" transmit=1

[gcode_macro status_busy]
gcode = 
	_set_sb_leds_by_name leds="logo" color="busy" transmit=1
	_set_sb_leds_by_name leds="thermal" color="busy" transmit=1
	set_nozzle_leds_on

[gcode_macro status_heating]
gcode = 
	_set_sb_leds_by_name leds="logo" color="heating" transmit=1
	_set_sb_leds_by_name leds="thermal" color="heating" transmit=1
	_set_sb_leds_by_name leds="nozzle" color="heating" transmit=1

[gcode_macro status_leveling]
gcode = 
	_set_sb_leds_by_name leds="logo" color="leveling" transmit=1
	_set_sb_leds_by_name leds="thermal" color="leveling" transmit=1
	set_nozzle_leds_on

[gcode_macro status_homing]
gcode = 
	_set_sb_leds_by_name leds="logo" color="homing" transmit=1
	_set_sb_leds_by_name leds="thermal" color="homing" transmit=1
	set_nozzle_leds_on

[gcode_macro status_cleaning]
gcode = 
	_set_sb_leds_by_name leds="logo" color="cleaning" transmit=1
	_set_sb_leds_by_name leds="thermal" color="cleaning" transmit=1
	set_nozzle_leds_on

[gcode_macro status_meshing]
gcode = 
	_set_sb_leds_by_name leds="logo" color="meshing" transmit=1
	_set_sb_leds_by_name leds="thermal" color="meshing" transmit=1
	set_nozzle_leds_on

[gcode_macro status_calibrating_z]
gcode = 
	_set_sb_leds_by_name leds="logo" color="calibrating_z" transmit=1
	_set_sb_leds_by_name leds="thermal" color="calibrating_z" transmit=1
	set_nozzle_leds_on

[gcode_macro status_printing]
gcode = 
	_set_sb_leds_by_name leds="logo" color="printing" transmit=1
	_set_sb_leds_by_name leds="thermal" color="printing" transmit=1
	set_nozzle_leds_on

[virtual_sdcard]
path = ~/printer_data/gcodes
on_error_gcode = CANCEL_PRINT

[pause_resume]
recover_velocity = 50.

[display_status]

[respond]
default_type = echo
default_prefix = 

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = CANCEL_PRINT_BASE
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set allow_park = client.park_at_cancel | default(false) | lower == 'true' %}
	{% set retract = client.cancel_retract | default(5.0) | abs %}
	
	{% set park_x = "" if (client.park_at_cancel_x | default(none) is none)
	else "X=" ~ client.park_at_cancel_x %}
	{% set park_y = "" if (client.park_at_cancel_y | default(none) is none)
	else "Y=" ~ client.park_at_cancel_y %}
	{% set custom_park = park_x | length > 0 or park_y | length > 0 %}
	
	
	{% if printer['gcode_macro RESUME'].restore_idle_timeout > 0 %}
	SET_IDLE_TIMEOUT TIMEOUT={printer['gcode_macro RESUME'].restore_idle_timeout}
	{% endif %}
	{% if (custom_park or not printer.pause_resume.is_paused) and allow_park %} _TOOLHEAD_PARK_PAUSE_CANCEL {park_x} {park_y} {% endif %}
	_CLIENT_RETRACT LENGTH={retract}
	TURN_OFF_HEATERS
	M106 S0
	{client.user_cancel_macro | default("")}
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=idle_state VALUE=False
	
	SET_PAUSE_NEXT_LAYER ENABLE=0
	SET_PAUSE_AT_LAYER ENABLE=0 LAYER=0
	CANCEL_PRINT_BASE

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = PAUSE_BASE
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set idle_timeout = client.idle_timeout | default(0) %}
	{% set temp = printer[printer.toolhead.extruder].target if printer.toolhead.extruder != '' else 0 %}
	{% set restore = False if printer.toolhead.extruder == ''
	else True  if params.RESTORE | default(1) | int == 1 else False %}
	
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=last_extruder_temp VALUE="{{'restore': restore, 'temp': temp}}"
	
	{% if idle_timeout > 0 %}
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=restore_idle_timeout VALUE={printer.configfile.settings.idle_timeout.timeout}
	SET_IDLE_TIMEOUT TIMEOUT={idle_timeout}
	{% endif %}
	PAUSE_BASE
	{client.user_pause_macro | default("")}
	_TOOLHEAD_PARK_PAUSE_CANCEL {rawparams}

[gcode_macro RESUME]
description = Resume while heat soaking results in the soaking phase being skipped, any complete callback is run
rename_existing = _HEAT_SOAK__BASE_RESUME
variable_last_extruder_temp = {'restore': False, 'temp': 0}
variable_restore_idle_timeout = 0
variable_idle_state = False
gcode = 
	HEAT_SOAK_RESUME ON_RESUME=_HEAT_SOAK__BASE_RESUME

[gcode_macro SET_PAUSE_NEXT_LAYER]
description = Enable a pause if the next layer is reached
gcode = 
	{% set pause_next_layer = printer['gcode_macro SET_PRINT_STATS_INFO'].pause_next_layer %}
	{% set ENABLE = params.ENABLE | default(1)|int != 0 %}
	{% set MACRO = params.MACRO | default(pause_next_layer.call, True) %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{ 'enable': ENABLE, 'call': MACRO }}"

[gcode_macro SET_PAUSE_AT_LAYER]
description = Enable/disable a pause if a given layer number is reached
gcode = 
	{% set pause_at_layer = printer['gcode_macro SET_PRINT_STATS_INFO'].pause_at_layer %}
	{% set ENABLE = params.ENABLE | int != 0 if params.ENABLE is defined
	else params.LAYER is defined %}
	{% set LAYER = params.LAYER | default(pause_at_layer.layer) | int %}
	{% set MACRO = params.MACRO | default(pause_at_layer.call, True) %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{ 'enable': ENABLE, 'layer': LAYER, 'call': MACRO }}"

[gcode_macro SET_PRINT_STATS_INFO]
rename_existing = SET_PRINT_STATS_INFO_BASE
description = Overwrite, to get pause_next_layer and pause_at_layer feature
variable_pause_next_layer = { 'enable': False, 'call': "PAUSE" }
variable_pause_at_layer = { 'enable': False, 'layer': 0, 'call': "PAUSE" }
gcode = 
	{% if pause_next_layer.enable %}
	RESPOND TYPE=echo MSG='{"%s, forced by pause_next_layer" % pause_next_layer.call}'
	{pause_next_layer.call}
	SET_PAUSE_NEXT_LAYER ENABLE=0
	{% elif pause_at_layer.enable and params.CURRENT_LAYER is defined and params.CURRENT_LAYER | int == pause_at_layer.layer %}
	RESPOND TYPE=echo MSG='{"%s, forced by pause_at_layer [%d]" % (pause_at_layer.call, pause_at_layer.layer)}'
	{pause_at_layer.call}
	SET_PAUSE_AT_LAYER ENABLE=0
	{% endif %}
	SET_PRINT_STATS_INFO_BASE {rawparams}

[gcode_macro _TOOLHEAD_PARK_PAUSE_CANCEL]
description = Helper: park toolhead used in PAUSE and CANCEL_PRINT
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set use_custom     = client.use_custom_pos | default(false) | lower == 'true' %}
	{% set custom_park_x  = client.custom_park_x | default(0.0) %}
	{% set custom_park_y  = client.custom_park_y | default(0.0) %}
	{% set park_dz        = client.custom_park_dz | default(2.0) | abs %}
	{% set sp_hop         = client.speed_hop | default(15) * 60 %}
	{% set sp_move        = client.speed_move | default(velocity) * 60 %}
	
	{% set origin    = printer.gcode_move.homing_origin %}
	{% set act       = printer.gcode_move.gcode_position %}
	{% set max       = printer.toolhead.axis_maximum %}
	{% set cone      = printer.toolhead.cone_start_z | default(max.z) %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	
	{% set z_min = params.Z_MIN | default(0) | float %}
	{% set z_park = [[(act.z + park_dz), z_min]|max, (max.z - origin.z)] | min %}
	{% set x_park = params.X       if params.X is defined
	else custom_park_x  if use_custom
	else 0.0            if round_bed
	else (max.x - 5.0) %}
	{% set y_park = params.Y       if params.Y is defined
	else custom_park_y  if use_custom
	else (max.y - 5.0)  if round_bed and z_park < cone
	else 0.0            if round_bed
	else (max.y - 5.0) %}
	
	_CLIENT_RETRACT
	{% if "xyz" in printer.toolhead.homed_axes %}
	G90
	G1 Z{z_park} F{sp_hop}
	G1 X{x_park} Y{y_park} F{sp_move}
	{% if not printer.gcode_move.absolute_coordinates %} G91 {% endif %}
	{% else %}
	RESPOND TYPE=echo MSG='Printer not homed'
	{% endif %}

[gcode_macro _CLIENT_EXTRUDE]
description = Extrudes, if the extruder is hot enough
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set use_fw_retract = (client.use_fw_retract | default(false) | lower == 'true') and (printer.firmware_retraction is defined) %}
	{% set length = params.LENGTH | default(client.unretract) | default(1.0) | float %}
	{% set speed = params.SPEED | default(client.speed_unretract) | default(35) %}
	{% set absolute_extrude = printer.gcode_move.absolute_extrude %}
	
	{% if printer.toolhead.extruder != '' %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if use_fw_retract %}
	{% if length < 0 %}
	G10
	{% else %}
	G11
	{% endif %}
	{% else %}
	M83
	G1 E{length} F{(speed | float | abs) * 60}
	{% if absolute_extrude %}
	M82
	{% endif %}
	{% endif %}
	{% else %}
	RESPOND TYPE=echo MSG='{"\"%s\" not hot enough" % printer.toolhead.extruder}'
	{% endif %}
	{% endif %}

[gcode_macro _CLIENT_RETRACT]
description = Retracts, if the extruder is hot enough
gcode = 
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set length = params.LENGTH | default(client.retract) | default(1.0) | float %}
	{% set speed = params.SPEED | default(client.speed_retract) | default(35) %}
	
	_CLIENT_EXTRUDE LENGTH=-{length | float | abs} SPEED={speed | float | abs}

[gcode_macro GET_TIMELAPSE_SETUP]
description = Print the Timelapse setup
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set output_txt = ["Timelapse Setup:"] %}
	{% set _dummy = output_txt.append("enable: %s" % tl.enable) %}
	{% set _dummy = output_txt.append("park: %s" % tl.park.enable) %}
	{% if tl.park.enable %}
	{% set _dummy = output_txt.append("park position: %s time: %s s" % (tl.park.pos, tl.park.time)) %}
	{% set _dummy = output_txt.append("park cord x:%s y:%s dz:%s" % (tl.park.coord.x, tl.park.coord.y, tl.park.coord.dz)) %}
	{% set _dummy = output_txt.append("travel speed: %s mm/s" % tl.speed.travel) %}
	{% endif %}
	{% set _dummy = output_txt.append("fw_retract: %s" % tl.extruder.fw_retract) %}
	{% if not tl.extruder.fw_retract %}
	{% set _dummy = output_txt.append("retract: %s mm speed: %s mm/s" % (tl.extruder.retract, tl.speed.retract)) %}
	{% set _dummy = output_txt.append("extrude: %s mm speed: %s mm/s" % (tl.extruder.extrude, tl.speed.extrude)) %}
	{% endif %}
	{% set _dummy = output_txt.append("verbose: %s" % tl.verbose) %}
	{action_respond_info(output_txt|join("\n"))}

[gcode_macro _SET_TIMELAPSE_SETUP]
description = Set user parameters for timelapse
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	{% set park = {'min'   : {'x': (min.x / 1.42)|round(3) if round_bed else min.x|round(3),
	'y': (min.y / 1.42)|round(3) if round_bed else min.y|round(3)},
	'max'   : {'x': (max.x / 1.42)|round(3) if round_bed else max.x|round(3),
	'y': (max.y / 1.42)|round(3) if round_bed else max.y|round(3)},
	'center': {'x': (max.x-(max.x-min.x)/2)|round(3),
	'y': (max.y-(max.y-min.y)/2)|round(3)}} %}
	
	{% if params.ENABLE %}
	{% if params.ENABLE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=enable VALUE={True if params.ENABLE|lower == 'true' else False}
	{% else %}
	{action_raise_error("ENABLE=%s not supported. Allowed values are [True, False]" % params.ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.VERBOSE %}
	{% if params.VERBOSE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=verbose VALUE={True if params.VERBOSE|lower == 'true' else False}
	{% else %}
	{action_raise_error("VERBOSE=%s not supported. Allowed values are [True, False]" % params.VERBOSE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_X %}
	{% if params.CUSTOM_POS_X|float >= min.x and params.CUSTOM_POS_X|float <= max.x %}
	{% set _dummy = tl.park.custom.update({'x':params.CUSTOM_POS_X|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_X=%s must be within [%s - %s]" % (params.CUSTOM_POS_X, min.x, max.x))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_Y %}
	{% if params.CUSTOM_POS_Y|float >= min.y and params.CUSTOM_POS_Y|float <= max.y %}
	{% set _dummy = tl.park.custom.update({'y':params.CUSTOM_POS_Y|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_Y=%s must be within [%s - %s]" % (params.CUSTOM_POS_Y, min.y, max.y))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_DZ %}
	{% if params.CUSTOM_POS_DZ|float >= min.z and params.CUSTOM_POS_DZ|float <= max.z %}
	{% set _dummy = tl.park.custom.update({'dz':params.CUSTOM_POS_DZ|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_DZ=%s must be within [%s - %s]" % (params.CUSTOM_POS_DZ, min.z, max.z))}
	{% endif %}
	{% endif %}
	{% if params.PARK_ENABLE %}
	{% if params.PARK_ENABLE|lower is in ['true', 'false'] %}
	{% set _dummy = tl.park.update({'enable':True if params.PARK_ENABLE|lower == 'true' else False}) %}
	{% else %}
	{action_raise_error("PARK_ENABLE=%s not supported. Allowed values are [True, False]" % params.PARK_ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.PARK_POS %}
	{% if params.PARK_POS|lower is in ['center','front_left','front_right','back_left','back_right','custom','x_only','y_only'] %}
	{% set dic = {'center'      : {'x': park.center.x   , 'y': park.center.y   , 'dz': 1                },
	'front_left'  : {'x': park.min.x      , 'y': park.min.y      , 'dz': 0                },
	'front_right' : {'x': park.max.x      , 'y': park.min.y      , 'dz': 0                },
	'back_left'   : {'x': park.min.x      , 'y': park.max.y      , 'dz': 0                },
	'back_right'  : {'x': park.max.x      , 'y': park.max.y      , 'dz': 0                },
	'custom'      : {'x': tl.park.custom.x, 'y': tl.park.custom.y, 'dz': tl.park.custom.dz},
	'x_only'      : {'x': tl.park.custom.x, 'y': 'none'          , 'dz': tl.park.custom.dz},
	'y_only'      : {'x': 'none'          , 'y': tl.park.custom.y, 'dz': tl.park.custom.dz}} %}
	{% set _dummy = tl.park.update({'pos':params.PARK_POS|lower}) %}
	{% set _dummy = tl.park.update({'coord':dic[tl.park.pos]}) %}
	{% else %}
	{action_raise_error("PARK_POS=%s not supported. Allowed values are [CENTER, FRONT_LEFT, FRONT_RIGHT, BACK_LEFT, BACK_RIGHT, CUSTOM, X_ONLY, Y_ONLY]"
	% params.PARK_POS|upper)}
	{% endif %}
	{% endif %}
	{% if params.PARK_TIME %}
	{% if params.PARK_TIME|float >= 0.0 %}
	{% set _dummy = tl.park.update({'time':params.PARK_TIME|float|round(3)}) %}
	{% else %}
	{action_raise_error("PARK_TIME=%s must be a positive number" % params.PARK_TIME)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=park VALUE="{tl.park}"
	{% if params.TRAVEL_SPEED %}
	{% if params.TRAVEL_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'travel':params.TRAVEL_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("TRAVEL_SPEED=%s must be larger than 0" % params.TRAVEL_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_SPEED %}
	{% if params.RETRACT_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'retract':params.RETRACT_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_SPEED=%s must be larger than 0" % params.RETRACT_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.EXTRUDE_SPEED %}
	{% if params.EXTRUDE_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'extrude':params.EXTRUDE_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_SPEED=%s must be larger than 0" % params.EXTRUDE_SPEED)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=speed VALUE="{tl.speed}"
	{% if params.EXTRUDE_DISTANCE %}
	{% if params.EXTRUDE_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'extrude':params.EXTRUDE_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_DISTANCE=%s must be specified as positiv number" % params.EXTRUDE_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_DISTANCE %}
	{% if params.RETRACT_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'retract':params.RETRACT_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_DISTANCE=%s must be specified as positiv number" % params.RETRACT_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.FW_RETRACT %}
	{% if params.FW_RETRACT|lower is in ['true', 'false'] %}
	{% if 'firmware_retraction' in printer.configfile.settings %}
	{% set _dummy = tl.extruder.update({'fw_retract': True if params.FW_RETRACT|lower == 'true' else False}) %}
	{% else %}
	{% set _dummy = tl.extruder.update({'fw_retract':False}) %}
	{% if params.FW_RETRACT|capitalize == 'True' %}
	{action_raise_error("[firmware_retraction] not defined in printer.cfg. Can not enable fw_retract")}
	{% endif %}
	{% endif %}
	{% else %}
	{action_raise_error("FW_RETRACT=%s not supported. Allowed values are [True, False]" % params.FW_RETRACT|capitalize)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=extruder VALUE="{tl.extruder}"
	{% if printer.configfile.settings['gcode_macro pause'] is defined %}
	{% set _dummy = tl.macro.update({'pause': printer.configfile.settings['gcode_macro pause'].rename_existing}) %}
	{% endif %}
	{% if printer.configfile.settings['gcode_macro resume'] is defined %}
	{% set _dummy = tl.macro.update({'resume': printer.configfile.settings['gcode_macro resume'].rename_existing}) %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=macro VALUE="{tl.macro}"

[gcode_macro TIMELAPSE_TAKE_FRAME]
description = Take Timelapse shoot
variable_enable = False
variable_takingframe = False
variable_park = {'enable': False,
	'pos'   : 'center',
	'time'  : 0.1,
	'custom': {'x': 0, 'y': 0, 'dz': 0},
	'coord' : {'x': 0, 'y': 0, 'dz': 0}}
variable_extruder = {'fw_retract': False,
	'retract': 1.0,
	'extrude': 1.0}
variable_speed = {'travel': 100,
	'retract': 15,
	'extrude': 15}
variable_verbose = True
variable_check_time = 0.5
variable_restore = {'absolute': {'coordinates': True, 'extrude': True}, 'speed': 1500, 'e':0, 'factor': {'speed': 1.0, 'extrude': 1.0}}
variable_macro = {'pause': 'PAUSE', 'resume': 'RESUME'}
variable_is_paused = False
gcode = 
	{% set hyperlapse = True if params.HYPERLAPSE and params.HYPERLAPSE|lower =='true' else False %}
	{% if enable %}
	{% if (hyperlapse and printer['gcode_macro HYPERLAPSE'].run) or
	(not hyperlapse and not printer['gcode_macro HYPERLAPSE'].run) %}
	{% if park.enable %}
	{% set pos = {'x': 'X' + park.coord.x|string if park.pos != 'y_only' else '',
	'y': 'Y' + park.coord.y|string if park.pos != 'x_only' else '',
	'z': 'Z'+ [printer.gcode_move.gcode_position.z + park.coord.dz, printer.toolhead.axis_maximum.z]|min|string} %}
	{% set restore = {'absolute': {'coordinates': printer.gcode_move.absolute_coordinates,
	'extrude'    : printer.gcode_move.absolute_extrude},
	'speed'   : printer.gcode_move.speed,
	'e'       : printer.gcode_move.gcode_position.e,
	'factor'  : {'speed'  : printer.gcode_move.speed_factor,
	'extrude': printer.gcode_move.extrude_factor}} %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=restore VALUE="{restore}"
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, minimum extruder temperature not reached!")}{% endif %}
	{% else %}
	{% if extruder.fw_retract %}
	G10
	{% else %}
	M83
	G0 E-{extruder.retract} F{speed.retract * 60}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=True
	{macro.pause}
	SET_GCODE_OFFSET X=0 Y=0
	G90
	{% if "xyz" not in printer.toolhead.homed_axes %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, axis not homed yet!")}{% endif %}
	{% else %}
	G0 {pos.x} {pos.y} {pos.z} F{speed.travel * 60}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=takingframe VALUE=True
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={check_time}
	M400
	{% endif %}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE={hyperlapse}
	{% endif %}
	{% else %}
	{% if verbose %}{action_respond_info("Timelapse: disabled, take frame ignored")}{% endif %}
	{% endif %}

[gcode_macro _TIMELAPSE_NEW_FRAME]
description = action call for timelapse shoot. must be a seperate macro
gcode = 
	{action_call_remote_method("timelapse_newframe",
	macropark=printer['gcode_macro TIMELAPSE_TAKE_FRAME'].park,
	hyperlapse=params.HYPERLAPSE)}

[delayed_gcode _WAIT_TIMELAPSE_TAKE_FRAME]
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set factor = {'speed': printer.gcode_move.speed_factor, 'extrude': printer.gcode_move.extrude_factor} %}
	{% if tl.takingframe %}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={tl.check_time}
	{% else %}
	{tl.macro.resume} VELOCITY={tl.speed.travel}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=False
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{action_respond_info("Timelapse: Warning minimum extruder temperature not reached!")}
	{% else %}
	{% if tl.extruder.fw_retract %}
	G11
	{% else %}
	G0 E{tl.extruder.extrude} F{tl.speed.extrude * 60}
	G0 F{tl.restore.speed}
	{% if tl.restore.absolute.extrude %}
	M82
	G92 E{tl.restore.e}
	{% endif %}
	{% endif %}
	{% endif %}
	{% if tl.restore.factor.speed   != factor.speed   %} M220 S{(factor.speed*100)|round(0)}   {% endif %}
	{% if tl.restore.factor.extrude != factor.extrude %} M221 S{(factor.extrude*100)|round(0)} {% endif %}
	{% if not tl.restore.absolute.coordinates %} G91 {% endif %}
	{% endif %}

[gcode_macro HYPERLAPSE]
description = Start/Stop a hyperlapse recording
variable_cycle = 0
variable_run = False
gcode = 
	{% set cycle = params.CYCLE|default(30)|int %}
	{% if params.ACTION and params.ACTION|lower == 'start' %}
	{action_respond_info("Hyperlapse: frames started (Cycle %d sec)" % cycle)}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=True
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=cycle VALUE={cycle}
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True
	{% elif params.ACTION and params.ACTION|lower == 'stop' %}
	{% if run %}{action_respond_info("Hyperlapse: frames stopped")}{% endif %}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=False
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION=0
	{% else %}
	{action_raise_error("Hyperlapse: No valid input parameter
	Use:
	- HYPERLAPSE ACTION=START [CYCLE=time]
	- HYPERLAPSE ACTION=STOP")}
	{% endif %}

[delayed_gcode _HYPERLAPSE_LOOP]
gcode = 
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={printer["gcode_macro HYPERLAPSE"].cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True

[gcode_macro TIMELAPSE_RENDER]
description = Render Timelapse video and wait for the result
variable_render = False
variable_run_identifier = 0
gcode = 
	{action_respond_info("Timelapse: Rendering started")}
	{action_call_remote_method("timelapse_render", byrendermacro="True")}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=render VALUE=True
	{printer.configfile.settings['gcode_macro pause'].rename_existing}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5

[delayed_gcode _WAIT_TIMELAPSE_RENDER]
gcode = 
	{% set ri = printer['gcode_macro TIMELAPSE_RENDER'].run_identifier % 4 %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=run_identifier VALUE={ri + 1}
	{% if printer['gcode_macro TIMELAPSE_RENDER'].render %}
	M117 Rendering {['-','\\','|','/'][ri]}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5
	{% else %}
	{action_respond_info("Timelapse: Rendering finished")}
	M117
	{printer.configfile.settings['gcode_macro resume'].rename_existing}
	{% endif %}

[gcode_macro TEST_STREAM_DELAY]
description = Helper macro to find stream and park delay
gcode = 
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set act = printer.toolhead.position %}
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% if act.z > 5.0 %}
	G0 X{min.x + 5.0} F{tl.speed.travel|int * 60}
	G0 X{(max.x-min.x)/2}
	G4 P{tl.park.time|float * 1000}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE=FALSE
	G0 X{max.x - 5.0}
	{% else %}
	{action_raise_error("Toolhead z %.3f to low. Please place head above z = 5.0" % act.z)}
	{% endif %}

[gcode_macro HEAT_SOAK]
description = Wait for a temperature sensor to reach thermal equilibrium
variable_last_temp = 0
variable_last_soak_temp_rate = None
variable_temp_history = None
variable_smoothed_temp_history = None
variable_stage = "done"
variable_total_time_elapsed = 0
variable_soak_time_remaining = 30
variable_check_interval = 1
variable_heating_report_interval = 2
variable_soaking_report_interval = 5
variable_heater_sensor = None
variable_soaker_sensor = None
variable_target_temp = 0.0
variable_min_soak_temp = 0
variable_target_rate = 0.3
variable_complete = None
variable_cancel = None
variable_temp_smooth_time = 4.0
variable_rate_smooth_time = 20.0
variable_resume_trigger = False
variable_was_print_active = False
gcode = 
	{ action_respond_info( "Heat Soak starting" )}
	
	
	{% set SOAKER = params.SOAKER | string %}
	{% set RATE = params.RATE | default(0.3) | float %}
	{% set SOAK_TEMP = params.SOAK_TEMP | default(0.0) | float %}
	{% set HEATER = (params.HEATER | string) %}
	{% set TARGET = params.TARGET | default(0) | float %}
	{% set TIMEOUT = (params.TIMEOUT | default(30) | int) * 60 %}
	{% set TEMP_SMOOTH = params.TEMP_SMOOTH | default(4.0) | float %}
	{% set RATE_SMOOTH = params.RATE_SMOOTH | default(20) | float %}
	{% set COMPLETE  = (params.COMPLETE | string) %}
	{% set CANCEL  = (params.CANCEL | string) %}
	{% set HEATING_REPORT_INTERVAL  = params.HEATING_REPORT_INTERVAL | default(2) | int %}
	{% set SOAKING_REPORT_INTERVAL  = params.SOAKING_REPORT_INTERVAL | default(5) | int %}
	
	
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=heater_sensor           VALUE="{HEATER | pprint}"
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=target_temp             VALUE={TARGET}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=min_soak_temp           VALUE={SOAK_TEMP}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=soaker_sensor           VALUE="{SOAKER | pprint}"
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=target_rate             VALUE={RATE}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=soak_time_remaining     VALUE={TIMEOUT}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=complete                VALUE="'{COMPLETE}'"
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=cancel                  VALUE="'{CANCEL}'"
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=temp_smooth_time        VALUE={TEMP_SMOOTH}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=rate_smooth_time        VALUE={RATE_SMOOTH}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=heating_report_interval VALUE={HEATING_REPORT_INTERVAL}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=soaking_report_interval VALUE={SOAKING_REPORT_INTERVAL}
	
	
	{% set soak_temp = printer[SOAKER].temperature %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=last_temp               VALUE={soak_temp}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=temp_history            VALUE="{[soak_temp] | pprint}"
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=smoothed_temp_history   VALUE="{[] | pprint}"
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=total_time_elapsed      VALUE=0
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=last_soak_temp_rate     VALUE=None
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=check_interval          VALUE=1.0
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=resume_trigger          VALUE=False
	{% set is_print_active = printer['virtual_sdcard'].is_active or printer['virtual_sdcard'].file_position != 0.0 %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=was_print_active        VALUE={is_print_active}
	
	
	{% if (HEATER and TARGET != 0.0) %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=stage               VALUE="'heating'"
	SET_HEATER_TEMPERATURE HEATER={HEATER} TARGET={TARGET}
	{% else %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=stage               VALUE="'soaking'"
	{% endif %}
	
	
	{% if is_print_active %}
	PAUSE
	{% endif %}
	
	UPDATE_DELAYED_GCODE ID=_heat_soaker DURATION={check_interval}

[gcode_macro STOP_HEAT_SOAK]
description = stops heat soak activity without running any callbacks
gcode = 
	UPDATE_DELAYED_GCODE ID=_heat_soaker DURATION=0
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=stage VALUE="'done'"

[gcode_macro CANCEL_HEAT_SOAK]
description = cancels an in-progress HEAT_SOAK cycle and runs the cancel callback
gcode = 
	
	{% set heat_soak = printer['gcode_macro HEAT_SOAK'] %}
	{% set stage = heat_soak.stage %}
	{% if stage in ("heating", "soaking") %}
	STOP_HEAT_SOAK
	{% if heat_soak.cancel %}
	{heat_soak.cancel}
	{% endif %}
	{% endif %}

[gcode_macro HEAT_SOAK_RESUME]
description = Resume while heat soaking results in the soaking phase being skipped, any complete callback is run
gcode = 
	{% set ON_RESUME = (params.ON_RESUME | default("_HEAT_SOAK__BASE_RESUME")) | string %}
	{% set heat_soak = printer['gcode_macro HEAT_SOAK'] %}
	{% set stage = heat_soak.stage %}
	{% if stage == "heating"  %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=resume_trigger VALUE=True
	{% elif stage == "soaking" %}
	STOP_HEAT_SOAK
	{% if heat_soak.complete %}
	{heat_soak.complete}
	{% endif %}
	{ON_RESUME} {% for p in params %}{'%s=%s ' % (p, params[p])}{% endfor %}
	{% else %}
	{ON_RESUME} {% for p in params %}{'%s=%s ' % (p, params[p])}{% endfor %}
	{% endif %}

[delayed_gcode _heat_soaker]
gcode = 
	{% set heat_soak = printer['gcode_macro HEAT_SOAK'] %}
	
	
	
	
	{% set file_position_is_zero = (printer['virtual_sdcard'].file_position == 0.0 )%}
	{% if heat_soak.was_print_active and file_position_is_zero %}
	STOP_HEAT_SOAK
	{action_respond_info("HEAT_SOAK aborted. Detected a change in virtual_sdcard print state. Call STOP_HEAT_SOAK from CANCEL_PRINT to stop seeing this error message.")}
	{% endif %}
	
	
	{% if not file_position_is_zero and not printer['pause_resume'].is_paused %}
	STOP_HEAT_SOAK
	{action_respond_info("HEAT_SOAK aborted. Print is no longer paused. Call STOP_HEAT_SOAK or HEAT_SOAK_RESUME from your RESUME macro to stop seeing this error message.")}
	{% endif %}
	
	
	{% set total_time_elapsed = heat_soak.total_time_elapsed + heat_soak.check_interval %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=total_time_elapsed VALUE={ total_time_elapsed }
	
	{% set soaker_sensor = printer[heat_soak.soaker_sensor] %}
	{% set soak_temp = soaker_sensor.temperature %}
	{% if heat_soak.heater_sensor %}
	{% set heater_sensor = printer[heat_soak.heater_sensor] %}
	{% set heater_temp = heater_sensor.temperature | round(1) %}
	{% endif %}
	{% set stage = heat_soak.stage %}
	
	
	{% set temp_history = heat_soak.temp_history %}
	{% set smoothed_temp_history = heat_soak.smoothed_temp_history %}
	{% set temp_diff = soak_temp - (temp_history | last) %}
	{% set _ = temp_history.append(soak_temp) %}
	{% set soak_temp_smoothed = None %}
	{% set slope = None %}
	{% if (temp_history | length) > heat_soak.temp_smooth_time %}
	{% set temp_history = temp_history[1:] %}
	
	{% set soak_temp_smoothed = ((temp_history | sum) / (temp_history | length)) %}
	
	{% set _ = smoothed_temp_history.append(soak_temp_smoothed) %}
	
	{% set soak_temp_smoothed = soak_temp_smoothed | round(3) %}
	
	{% if (smoothed_temp_history | length) > heat_soak.rate_smooth_time %}
	{% set smoothed_temp_history = smoothed_temp_history[1:] %}
	
	
	
	
	{% set count = (smoothed_temp_history | length) %}
	{% set times = range(0, count, 1) %}
	{% set x_sum = (times | sum) | float %}
	{% set y_sum = (smoothed_temp_history | sum) | float %}
	
	
	{% set xx_sum_arr = [] %}
	{% set xy_sum_arr = [] %}
	{% for i in times %}
	{% set x = times[i] %}
	{% set y = smoothed_temp_history[i] %}
	{% set _ = xx_sum_arr.append(x * x) %}
	{% set _ = xy_sum_arr.append(x * y) %}
	{% endfor %}
	{% set xx_sum = (xx_sum_arr | sum) | float %}
	{% set xy_sum = (xy_sum_arr | sum) | float %}
	
	{% set slope = (60.0 * ((count | float * xy_sum) - (x_sum * y_sum)) / ((count | float * xx_sum) - (x_sum * x_sum))) | round(3) %}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=temp_history VALUE="{(temp_history | pprint | replace("\n", ""))}"
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=smoothed_temp_history VALUE="{(smoothed_temp_history | pprint | replace("\n", ""))}"
	
	
	{% if stage == "heating" %}
	{% if heater_temp < heat_soak.target_temp %}
	{% if total_time_elapsed % heat_soak.heating_report_interval == 0 %}
	{% set message = "Heating -- %.1fC / %.1fC -- %.1fm elapsed" % (heater_temp, heat_soak.target_temp, total_time_elapsed / 60.0) %}
	M117 {message}
	{action_respond_info(message)}
	{% endif %}
	{% else %}
	{action_respond_info("Heating completed after ~%.1fm, starting heat soak phase." % (total_time_elapsed / 60.0))}
	
	{% set stage = "done" if heat_soak.resume_trigger else "soaking" %}
	
	{% set total_time_elapsed = 0 %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=total_time_elapsed VALUE={ total_time_elapsed }
	{% endif %}
	{% endif %}
	
	
	{% if stage == "soaking" %}
	
	{% set soak_time_remaining = [heat_soak.soak_time_remaining - heat_soak.check_interval, 0] | max %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=soak_time_remaining VALUE={ soak_time_remaining }
	
	
	{% if soak_time_remaining <= 0 %}
	{action_respond_info("Heat soak timed out after ~%.1fm" % (total_time_elapsed / 60.0))}
	{% set stage = "cancel" %}
	
	{% elif slope is none or soak_temp_smoothed is none %}
	{% if total_time_elapsed % heat_soak.soaking_report_interval == 0 %}
	
	{% set message = "Soaking -- gathering data -- %.1fm remaining" % (soak_time_remaining / 60.0) %}
	M117 { message }
	{action_respond_info(message)}
	{% endif %}
	
	{% elif (slope > heat_soak.target_rate) or (heat_soak.min_soak_temp > 0 and soak_temp_smoothed < heat_soak.min_soak_temp) %}
	{% if total_time_elapsed % heat_soak.soaking_report_interval == 0 %}
	{% set format_vars = [
	soak_temp_smoothed | float,
	(heat_soak.min_soak_temp | float | round(0) | string) if (heat_soak.min_soak_temp > 0) else "--",
	slope,
	heat_soak.target_rate,
	soak_time_remaining / 60.0
	] %}
	{% set message = "Soaking -- temp: {0:.1f}C / {1}C -- rate: {2:.3f}C/m / {3:.3f}C/m -- {4:.1f}m remaining".format(*format_vars) %}
	M117 { message }
	{action_respond_info(message)}
	{% endif %}
	
	{% else %}
	{action_respond_info("Heat soak complete after ~%.1fm at %.3fC/m / %.1fC" % (total_time_elapsed / 60.0, slope, soak_temp))}
	{% set stage = "done" %}
	{% endif %}
	{% endif %}
	
	
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=stage VALUE="'{stage}'"
	
	{% if stage in ("done", "cancel") %}
	STOP_HEAT_SOAK
	{% if stage == "cancel" %}
	{% if heat_soak.cancel %}
	{heat_soak.cancel}
	{% elif printer['virtual_sdcard'].is_active %}
	CANCEL_PRINT
	{% endif %}
	{% else %}
	{% if heat_soak.complete %}
	{heat_soak.complete}
	{% endif %}
	{% if printer['pause_resume'].is_paused  %}
	RESUME
	{% endif %}
	{% endif %}
	{% else %}
	
	UPDATE_DELAYED_GCODE ID=_heat_soaker DURATION={ heat_soak.check_interval }
	
	G4 P1
	{% endif %}
	
	
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=stage VALUE="'{stage}'"

[gcode_macro PRINT_WARMUP]
description = Perform initial homing and heating tasks
gcode = 
	{% set EXTRUDER_TEMP = params.EXTRUDER_TEMP | default(190) | float %}
	{% set BED_TEMP = params.BED_TEMP | default(60) | float %}
	
	
	M104 S{EXTRUDER_TEMP * 0.75}
	M140 S{BED_TEMP}
	G32
	
	
	HEAT_SOAK HEATER='heater_bed' TARGET={BED_TEMP} SOAKER='temperature_sensor top_bed' SOAK_TEMP={BED_TEMP * 0.80}

[gcode_macro M106]
rename_existing = M106.1
gcode = 
	{% if params.P is defined and params.P|int > 0 %}
	{% if params.P|int == 1 %}
	M106.1 S{params.S|int}
	{% endif %}
	{% if params.P|int == 2 %}
	SET_FAN_SPEED FAN=exhaust_fan SPEED={(params.S|int / 255 )}
	{% endif %}
	{% if params.P|int == 3 %}
	SET_FAN_SPEED FAN=Air_Scrubber SPEED={(params.S|int / 255 )}
	{% endif %}
	{% else %}
	M106.1 S{params.S|int}
	{% endif %}

[gcode_macro M300]
gcode = 
	
	{% set S = params.S|default(1000)|int %}
	
	{% set P = params.P|default(100)|int %}
	SET_PIN PIN=_BEEPER_pin VALUE=0.5 CYCLE_TIME={ 1.0/S if S > 0 else 1 }
	G4 P{P}
	SET_PIN PIN=_BEEPER_pin VALUE=0

[gcode_macro M600]
gcode = 
	PAUSE
	M117 Colour Change Macro
	Change_FILAMENT_UNLOAD
	M117 Load new Filament
	PLAY_TONE l=5

[gcode_macro M601]
gcode = 
	PAUSE
	M117 Printer Paused
	PLAY_TONE l=5

[gcode_macro Rescan_Bed]
gcode = 
	G28
	bed_mesh_calibrate
	BED_MESH_PROFILE SAVE="400custom"
	SAVE_CONFIG

[gcode_macro UNLOAD_FILAMENT]
variable_unloading_speed_start = 80
variable_unloading_speed = 20
variable_cooling_tube_position = 35
variable_cooling_tube_length = 10
variable_initial_cooling_speed = 10
variable_final_cooling_speed = 50
variable_cooling_moves = 4
gcode = 
	{% set UNLOADING_SPEED_START = params.UNLOADING_SPEED_START|default(printer['gcode_macro UNLOAD_FILAMENT_FORM_TIP']['unloading_speed_start']) %}
	{% set UNLOADING_SPEED = params.UNLOADING_SPEED|default(printer['gcode_macro UNLOAD_FILAMENT_FORM_TIP']['unloading_speed']) %}
	{% set COOLING_TUBE_LENGTH = params.COOLING_TUBE_LENGTH|default(printer['gcode_macro UNLOAD_FILAMENT_FORM_TIP']['cooling_tube_length']) %}
	{% set COOLING_TUBE_POSITION = params.COOLING_TUBE_POSITION|default(printer['gcode_macro UNLOAD_FILAMENT_FORM_TIP']['cooling_tube_position']) %}
	{% set INITIAL_COOLING_SPEED = params.INITIAL_COOLING_SPEED|default(printer['gcode_macro UNLOAD_FILAMENT_FORM_TIP']['initial_cooling_speed']) %}
	{% set FINAL_COOLING_SPEED = params.FINAL_COOLING_SPEED|default(printer['gcode_macro UNLOAD_FILAMENT_FORM_TIP']['final_cooling_speed']) %}
	{% set COOLING_MOVES = params.COOLING_MOVES|default(printer['gcode_macro UNLOAD_FILAMENT_FORM_TIP']['cooling_moves']) %}
	SAVE_GCODE_STATE NAME=load_state
	M117 Heating-
	M104 S205
	G28
	M109 S210
	M117 Unloading...
	M83
	G1 X105 Y0 Z80
	SET_PRESSURE_ADVANCE ADVANCE=0
	{% set TOTAL_RETRACTION_DISTANCE = COOLING_TUBE_POSITION|float + COOLING_TUBE_LENGTH|float / 2 - 15 %}
	G1 E-15 F{1.0 * UNLOADING_SPEED_START|float * 60}
	G1 E-{0.7 * TOTAL_RETRACTION_DISTANCE} F{1.0 * UNLOADING_SPEED|float * 60}
	G1 E-{0.2 * TOTAL_RETRACTION_DISTANCE} F{0.5 * UNLOADING_SPEED|float * 60}
	G1 E-{0.1 * TOTAL_RETRACTION_DISTANCE} F{0.3 * UNLOADING_SPEED|float * 60}
	{% set SPEED_INC = (FINAL_COOLING_SPEED|float - INITIAL_COOLING_SPEED|float) / (2 * COOLING_MOVES|float - 1) %}
	{% for move in range(COOLING_MOVES|int) %}
	G1 E{COOLING_TUBE_LENGTH} F{(INITIAL_COOLING_SPEED|float + SPEED_INC*move*2) * 60}
	G1 E-{COOLING_TUBE_LENGTH} F{(INITIAL_COOLING_SPEED|float + SPEED_INC*(move*2+1)) * 60}
	{% endfor %}
	G1 E-300 F3000
	G1 E-300 F3000
	G1 E-100 F1000
	M82
	M117 Sucess!
	RESTORE_GCODE_STATE NAME=load_state MOVE=1

[delayed_gcode POWER_ON_PRINTER]
initial_duration = 1
gcode = 
	PLAY_TONE l=1

[gcode_macro PLAY_TONE]
gcode = 
	{% set l = params.L|default(0)|int %}
	
	{% if l == 1 %}
	M300 P184 S392
	M300 P184 S523
	M300 P187 S659
	M300 P417 S784
	M300 P139 S659
	M300 P400 S784
	
	{% elif l == 2 %}
	M300 P146 S494
	M300 P97 S698
	M300 P157 S0
	M300 P132 S698
	M300 P174 S698
	M300 P168 S659
	M300 P176 S587
	M300 P134 S523
	M300 P95 S330
	M300 P31 S0
	
	{% elif l == 3 %}
	M300 P100 S659
	M300 P200 S659
	M300 P99 S659
	M300 P101 S0
	M300 P100 S523
	M300 P99 S659
	M300 P101 S0
	M300 P199 S784
	M300 P201 S0
	M300 P199 S392
	{% elif l == 4 %}
	M300 P353 S330
	M300 P353 S330
	M300 P353 S349
	M300 P353 S392
	M300 P353 S392
	M300 P353 S349
	M300 P353 S330
	M300 P353 S294
	M300 P353 S262
	M300 P353 S262
	M300 P353 S294
	M300 P353 S330
	M300 P529 S330
	M300 P176 S294
	M300 P706 S294
	{% else %}
	M300 P100 S0
	{% endif %}

[gcode_macro END_PRINT]
gcode = 
	
	{% set th = printer.toolhead %}
	{% set x_safe = th.position.x + 20 * (1 if th.axis_maximum.x - th.position.x > 20 else -1) %}
	{% set y_safe = th.position.y + 20 * (1 if th.axis_maximum.y - th.position.y > 20 else -1) %}
	{% set z_safe = [th.position.z + 50, th.axis_maximum.z]|min %}
	SAVE_GCODE_STATE NAME=STATE_PRINT_END
	M400
	G92 E0
	G1 E-5.0 F1800
	TURN_OFF_HEATERS
	G90
	G0 X{x_safe} Y{y_safe} Z{z_safe} F30000
	
	G0 X{th.axis_maximum.x//2} Y{th.axis_maximum.y} F30000
	BED_MESH_CLEAR
	RESTORE_GCODE_STATE NAME=STATE_PRINT_END
	
	SET_LED LED=case_light WHITE=0.25
	UPDATE_DELAYED_GCODE ID=filter_off DURATION=180
	PLAY_TONE l=2

[gcode_macro PRINT_START]
gcode = 
	
	{% set fct = {'ASA': 30, 'ABS': 50, 'NYLON': 35, 'PLA': 0, 'PC': 50, 'PETG': 30 } %}
	{% set ADAPTIVE_bed = params.ADAPTIVEBED|default("2")|int %}
	{% set MESH_bed = params.MESHbed|default("NONE") %}
	{% set skipheatsoak = params.skipheatsoak|default("0") %}
	{% set target_bed = params.BED|int %}
	{% set target_extruder = params.EXTRUDER|int %}
	{% set target_chamber = params.CHAMBER|default("0")|int %}
	{% set filament = params.filament|default("NONE") %}
	{% if filament != 'NONE' %}
	{% set target_chamber = fct[filament] %}
	{% endif %}
	{% set x_wait = printer.toolhead.axis_maximum.x|float / 2 %}
	{% set y_wait = printer.toolhead.axis_maximum.y|float / 2 %}
	
	
	STATUS_HOMING
	G28
	G90
	
	
	BED_MESH_CLEAR
	
	SET_FAN_SPEED FAN=Air_Scrubber SPEED=1
	
	SET_DISPLAY_TEXT MSG="Bed: {target_bed}c"
	STATUS_HEATING
	G1 X{x_wait} Y{y_wait} Z15 F9000
	M190 S{target_bed}
	{% if skipheatsoak == 0 %}
	HEAT_SOAK HEATER='heater_bed' TARGET={target_bed} SOAKER='temperature_sensor top_bed' SOAK_TEMP={target_bed * 0.80}
	{% endif %}
	
	SET_DISPLAY_TEXT MSG="Hotend: 150c"
	M109 S150
	SET_DISPLAY_TEXT MSG="Hotend: {target_extruder}c"
	M104 S{target_extruder}
	
	
	SET_DISPLAY_TEXT MSG="Z-tilt adjust"
	STATUS_LEVELING
	Z_TILT_ADJUST
	G28 Z
	
	
	
	
	
	
	
	
	{% if ADAPTIVE_bed == 99 %}
	{% if MESH_bed != "NONE" %}
	BED_MESH_CLEAR
	STATUS_MESHING
	SET_DISPLAY_TEXT MSG="Loading Mesh {MESH_bed}"
	BED_MESH_PROFILE LOAD="{MESH_bed}"
	{% endif %}
	{% else %}
	BED_MESH_CLEAR
	SET_DISPLAY_TEXT MSG="Adaptive Bed mesh"
	STATUS_MESHING
	bed_mesh_calibrate ADAPTIVE=1 ADAPTIVE_MARGIN={ADAPTIVE_bed}
	{% endif %}
	
	
	
	
	
	
	
	
	
	SET_DISPLAY_TEXT MSG="Hotend: {target_extruder}c"
	STATUS_HEATING
	G1 X{x_wait} Y{y_wait} Z15 F9000
	M107
	M109 S{target_extruder}
	SET_LED LED=case_light WHITE=1
	
	
	SET_DISPLAY_TEXT MSG="Printer goes brr"
	PLAY_TONE l=3
	STATUS_PRINTING
	G0 X0 Y1 F10000
	G0 Z0.3
	G91
	G1 X150 E35 F1000
	G90

[gcode_macro LOAD_FILAMENT]
gcode = 
	SAVE_GCODE_STATE NAME=unload_state
	M117 Heating+
	M104 S205
	HOME
	M109 S205
	M117 Unloading...
	M83
	
	G1 E200 F3000
	G1 E200 F3000
	G1 E250 F3000
	G1 E20 F120
	
	G1 E-5
	M82
	RESTORE_GCODE_STATE NAME=unload_state MOVE=1

[delayed_gcode DISABLEFILAMENTSENSOR]
initial_duration = 1
gcode = 
	SET_FILAMENT_SENSOR SENSOR=filament_sensor ENABLE=0

[gcode_macro SFS_ENABLE]
description = Enable smart filament sensor
gcode = 
	M117 ENABLING the Smart Filament Sensor
	G92 E0
	SET_FILAMENT_SENSOR SENSOR=filament_sensor ENABLE=1

[gcode_macro SFS_DISABLE]
description = Disable smart filament sensor
gcode = 
	M117 DISABLING the Smart Filament Sensor
	G92 E0
	SET_FILAMENT_SENSOR SENSOR=filament_sensor ENABLE=0

[gcode_macro _START_BED_HEAT]
gcode = 
	{% set t = params.T|default(60)|int %}
	{% set c = params.C|default(30)|int %}
	{% set h = params.H|default(600)|int %}
	M140 S{t}
	
	SET_GCODE_VARIABLE MACRO=_BED_HEAT_STATUS VARIABLE=time_remaining VALUE={h}
	SET_GCODE_VARIABLE MACRO=_BED_HEAT_STATUS VARIABLE=bed_temperature VALUE={t}
	
	UPDATE_DELAYED_GCODE ID=_BED_HEAT_TIMER DURATION=1
	SET_IDLE_TIMEOUT

[gcode_macro STOP_BED_HEAT]
gcode = 
	
	
	SET_GCODE_VARIABLE MACRO=_BED_HEAT_STATUS VARIABLE=time_remaining VALUE=0
	UPDATE_DELAYED_GCODE ID=_BED_HEAT_TIMER DURATION=0
	M117 PreHeat Stopped

[gcode_macro _BED_HEAT_STATUS]
variable_time_remaining = 0
variable_bed_temperature = 0
variable_chamber_temperature = 0
gcode = 
	{% if time_remaining > 0 %}
	M140 S{bed_temperature}
	
	SET_GCODE_VARIABLE MACRO=_BED_HEAT_STATUS VARIABLE=time_remaining VALUE={time_remaining - 1}
	M117 PreHeat {time_remaining}
	{% else %}
	STOP_BED_HEAT
	{% endif %}

[delayed_gcode BED_HEAT_TIMER]
gcode = 
	UPDATE_DELAYED_GCODE ID=_BED_HEAT_TIMER DURATION=1
	_BED_HEAT_STATUS

[gcode_macro BED_60]
gcode = 
	_START_BED_HEAT t=60 c=30 h=600

[gcode_macro BED_65]
gcode = 
	_START_BED_HEAT t=65 c=30 h=600

[gcode_macro BED_70]
gcode = 
	_START_BED_HEAT t=70 c=30 h=600

[gcode_macro PA_CAL]
gcode = 
	{% set BED = params.BED|default(65) |float %}
	{% set EXTRUDER = params.EXTRUDER|default(210) |float %}
	{% set PA_start = params.START|default(0) |float %}
	{% set PA_max = params.MAX|default(0.1) |float %}
	
	{% set PA_factor = PA_max / 20 |float %}
	
	{% set max_x = printer.configfile.config["stepper_x"]["position_max"]|float %}
	{% set max_y = printer.configfile.config["stepper_y"]["position_max"]|float %}
	
	{% set x_section = max_x / 6 | float %}
	{% set x_start = x_section | float %}
	{% set x_p1 = x_section * 2 | float %}
	{% set x_p2 = x_section * 4 | float %}
	{% set x_p3 = x_section * 5 | float %}
	
	{% set y_section = max_y / 24 | float %}
	{% set y_start = y_section | float %}
	{% set y_base = y_section * 2 | float %}
	
	PRINT_START BED={BED} EXTRUDER={EXTRUDER}
	
	G21
	G90
	M83
	SET_VELOCITY_LIMIT ACCEL=5000 ACCEL_TO_DECEL=2500
	G92 E0
	M106 S0
	
	SET_PRESSURE_ADVANCE ADVANCE={PA_start}
	G1 X{x_start} Y{y_start} F30000
	G1 Z0.25 F300
	G1 E0.75 F1800
	G1 X{x_p1} Y{y_start} E0.91798 F300
	G1 X{x_p2} Y{y_start} E1.83596 F9000
	G1 X{x_p3} Y{y_start} E0.91798 F300
	G1 E-0.75 F1800
	G1 Z1 F300
	
	{% for i in range(0, 20) %}
	SET_PRESSURE_ADVANCE ADVANCE={PA_start + i*PA_factor}
	M117 Testing Pressure Advance at: {i*PA_factor}
	G1 X{x_start} Y{y_base+(5*i)} F30000
	G1 Z0.25 F300
	G1 E0.75 F1800
	G1 X{x_p1} Y{y_base+(5*i)} E0.91798 F300
	G1 X{x_p2} Y{y_base+(5*i)} E1.83596 F9000
	G1 X{x_p3} Y{y_base+(5*i)} E0.91798 F300
	G1 E-0.75 F1800
	G1 Z1 F300
	{% endfor %}
	
	PRINT_END

[gcode_macro PA_TUNER]
description = Pressure Advance Tuning Macro
	=========================================
	parameters with defaults listed below:
	TOOLHEAD=""
	BED_X_LENGTH=printer.toolhead.axis.maximum.x
	BED_Y_LENGTH=printer.toolhead.axis.maximum.y
	FILAMENT_DIAMETER=printer...filament_diameter
	EXTRUSION_WIDTH=printer...nozzle_diameter
	LAYER_HEIGHT=0.3
	SIDE_LENGTH=100
	FAST_PRINT_SPEED=150
	SLOW_PRINT_SPEED=30
	COOLING_FAN_SPEED=255
	PA_MIN=0.0
	PA_MAX=1.0
	LAYERS=60
	BED_TEMP=55
	PRINTING_TEMP=210
	X_OFFSET=0
	Y_OFFSET=0
	BASE_ONLY_FLOW_PERCENT=125
	STARTUP_MACRO=LOCAL_GENERIC_PA_START
	END_MACRO=LOCAL_GENERIC_PA_END
	=========================================
gcode = 
	
	{% set bed_x = params.BED_X_LENGTH|default(printer.toolhead.axis_maximum.x)|float %}
	{% set bed_y = params.BED_Y_LENGTH|default(printer.toolhead.axis_maximum.y)|float %}
	{% set filament_d = params.FILAMENT_DIAMETER|default(printer.configfile.settings.extruder.filament_diameter)|float %}
	{% set e_width = params.EXTRUSION_WIDTH|default(printer.configfile.settings.extruder.nozzle_diameter)|float %}
	{% set tool = params.TOOLHEAD|default("") %}
	{% set flow_p = params.BASE_ONLY_FLOW_PERCENT|default(125.0)|float %}
	{% set rect_side_len = params.SIDE_LENGTH|default(100.0)|float %}
	{% set layer_h = params.LAYER_HEIGHT|default(0.3)|float %}
	{% set fspeed = params.FAST_PRINT_SPEED|default(150.0)|float %}
	{% set sspeed = params.SLOW_PRINT_SPEED|default(30.0)|float %}
	{% set fan_speed = params.COOLING_FAN_SPEED|default(255.0)|float %}
	{% set PA_low = params.PA_MIN|default(0.0)|float %}
	{% set PA_high = params.PA_MAX|default(1.0)|float %}
	{% set b_temp = params.BED_TEMP|default(55.0)|float %}
	{% set p_temp = params.PRINTING_TEMP|default(210.0)|float %}
	{% set off_x = params.X_OFFSET|default(0.0)|float %}
	{% set off_y = params.Y_OFFSET|default(0.0)|float %}
	{% set layer_num  = params.LAYERS|default(60)|int %}
	{% set startup_code = params.START_MACRO|default("LOCAL_GENERIC_PA_START PT=" ~ p_temp ~ " BT=" ~ b_temp)|string %}
	{% set end_code = params.END_MACRO|default("LOCAL_GENERIC_PA_END EJECT=" ~ bed_y)|string %}
	
	{% set PA_const = (2 * ((PA_high - PA_low) / layer_num)) - PA_low %}
	{% if PA_const < 0 %}
	{% set PA_sign = " + " %}
	{% else %}
	{% set PA_sign = " - " %}
	{% endif %}
	{% set info_str = "Bed X Length: " ~ bed_x %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed Y Length: " ~ bed_y %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed X Offset: " ~ off_x %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed Y Offset: " ~ off_y %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Extrusion Width: " ~ e_width %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Filament size: " ~ filament_d %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Layer Height: " ~ layer_h %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed Temperature: " ~ b_temp %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Print Temperature: " ~ p_temp %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Slow Printing Speed: " ~ sspeed %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Fast Printing Speed: " ~ fspeed %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Fan Speed: " ~ fan_speed %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Length of Test Square: " ~ rect_side_len %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Number of Layers: " ~ layer_num %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Minimum Pressure Advance: " ~ PA_low %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Maximum Pressure Advance: " ~ PA_high %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Formula: Pressure Advance Value = Measured_Z_Height x " ~ (((PA_high - PA_low) / layer_num) / layer_h) ~ PA_sign ~ PA_const|abs %}
	RESPOND MSG="{info_str}"
	{% set g_cmd = tool %}
	{ g_cmd }
	{% set g_cmd = startup_code %}
	{ g_cmd }
	{% set g_cmd = "M220 S100" %}
	{ g_cmd }
	{% set g_cmd = "M221 S100" %}
	{ g_cmd }
	{% set g_cmd = "SET_VELOCITY_LIMIT SQUARE_CORNER_VELOCITY=1 ACCEL=500" %}
	{ g_cmd }
	{% set g_cmd = "SET_PRESSURE_ADVANCE ADVANCE_LOOKAHEAD_TIME=0" %}
	{ g_cmd }
	{% set g_cmd = "G92 E0" %}
	{ g_cmd }
	{% set g_cmd = "M83" %}
	{ g_cmd }
	{% set current_x = (bed_x / 2) - (rect_side_len / 2) %}
	{% set current_y = (bed_y / 2) - (rect_side_len / 2) %}
	
	{% set g_cmd = "G1 X" ~ (current_x + off_x) ~ " Y" ~ (current_y + off_y) ~ " Z" ~ layer_h ~ " E1.0 F" ~ (fspeed*60) %}
	{ g_cmd }
	{% set g_cmd = "G91" %}
	{ g_cmd }
	{% set pressure_advance = 0.0 %}
	{% set PA_msg = "SET_PRESSURE_ADVANCE ADVANCE=" ~ pressure_advance %}
	{ PA_msg }
	pa_line LSPEED={20} X_L={rect_side_len} Y_L=0.0 LF={flow_p} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={20} X_L={0.0} Y_L={(rect_side_len/2)} LF={flow_p} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={20} X_L=0.0 Y_L={(rect_side_len/2)} LF={flow_p} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={20} X_L={0-rect_side_len} Y_L=0.0 LF={flow_p} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={20} X_L=0.0 Y_L={0-rect_side_len} LF={flow_p} FD={filament_d} EW={e_width} LH={layer_h}
	{% set g_cmd = "G1 Z" ~ layer_h %}
	{ g_cmd }
	
	{% set g_cmd = "M106 S" ~ fan_speed %}
	{ g_cmd }
	{% for i in range(layer_num) %}
	{% set pressure_advance = (i / layer_num) * (PA_high - PA_low) + PA_low|float %}
	{% set PA_msg = "SET_PRESSURE_ADVANCE ADVANCE=" ~ pressure_advance %}
	{ PA_msg }
	pa_line LSPEED={fspeed} X_L={rect_side_len} Y_L=0.0 FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={fspeed} X_L=0.0 Y_L={(rect_side_len/2)} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={sspeed} X_L=0.0 Y_L={(rect_side_len/2)} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={fspeed} X_L={0-rect_side_len} Y_L=0.0 FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={sspeed} X_L=0.0 Y_L={0-rect_side_len} FD={filament_d} EW={e_width} LH={layer_h}
	{% set g_cmd = "G1 Z" ~ layer_h %}
	{ g_cmd }
	{% endfor %}
	
	{% set pressure_advance = PA_high|float %}
	{% set PA_msg = "SET_PRESSURE_ADVANCE ADVANCE=" ~ pressure_advance %}
	{ PA_msg }
	pa_line LSPEED={fspeed} X_L={rect_side_len} Y_L=0.0 FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={fspeed} X_L=0.0 Y_L={(rect_side_len/2)} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={sspeed} X_L=0.0 Y_L={(rect_side_len/2)} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={fspeed} X_L={0-rect_side_len} Y_L=0.0 FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={sspeed} X_L=0.0 Y_L={0-rect_side_len} FD={filament_d} EW={e_width} LH={layer_h}
	{% set g_cmd = "G1 Z" ~ layer_h %}
	{ g_cmd }
	pa_line LSPEED={fspeed} X_L={rect_side_len} Y_L=0.0 FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={fspeed} X_L=0.0 Y_L={(rect_side_len/2)} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={sspeed} X_L=0.0 Y_L={(rect_side_len/2)} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={fspeed} X_L={0-rect_side_len} Y_L=0.0 FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={sspeed} X_L=0.0 Y_L={0-rect_side_len} FD={filament_d} EW={e_width} LH={layer_h}
	{% set g_cmd = "G1 Z" ~ layer_h %}
	{ g_cmd }
	{% set g_cmd = "G90" %}
	{ g_cmd }
	{% set g_cmd = end_code %}
	{ g_cmd }
	{% set info_str = "Bed X Length: " ~ bed_x %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed Y Length: " ~ bed_y %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed X Offset: " ~ off_x %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed Y Offset: " ~ off_y %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Extrusion Width: " ~ e_width %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Filament size: " ~ filament_d %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Layer Height: " ~ layer_h %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed Temperature: " ~ b_temp %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Print Temperature: " ~ p_temp %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Slow Printing Speed: " ~ sspeed %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Fast Printing Speed: " ~ fspeed %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Fan Speed: " ~ fan_speed %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Length of Test Square: " ~ rect_side_len %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Number of Layers: " ~ layer_num %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Minimum Pressure Advance: " ~ PA_low %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Maximum Pressure Advance: " ~ PA_high %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Formula: Pressure Advance Value = Measured_Z_Height x " ~ (((PA_high - PA_low) / layer_num) / layer_h) ~ PA_sign ~ PA_const|abs %}
	RESPOND MSG="{info_str}"

[gcode_macro pa_line]
gcode = 
	{% set flow_r = params.LF|default(100.0)|float %}
	{% set zoomy = params.LSPEED|default(50.0)|float %}
	{% set x_lin = params.X_L|default(100.0)|float %}
	{% set y_lin = params.Y_L|default(100.0)|float %}
	{% set f_size = params.FD|default(1.75)|float %}
	{% set e_size = params.EW|default(0.4)|float %}
	{% set l_size = params.LH|default(0.2)|float %}
	{% set flow_n = flow_r / 100 %}
	{% set lin_length = (x_lin**2 + y_lin**2)**(1/2) %}
	{% set e_len = lin_length / (f_size * f_size * 3.14159 * 0.25) %}
	{% set e_num = e_len * e_size * l_size * 1.67 %}
	{% set g_cmd = "G1 X" ~ x_lin ~ " Y" ~ y_lin ~ " E" ~ (e_num * flow_n) ~ " F" ~ (zoomy*60) %}
	{ g_cmd }

[gcode_macro LOCAL_GENERIC_PA_START ]
description = Generic startup gcode with a prime strip
gcode = 
	{% set b_t = params.BT|default(0.0)|float %}
	{% set p_t = params.PT|default(0.0)|float %}
	{% set b_x = params.BED_X_LENGTH|default(printer.toolhead.axis_maximum.x)|float %}
	{% set b_y = params.BED_Y_LENGTH|default(printer.toolhead.axis_maximum.y)|float %}
	{% set f_d = params.FILAMENT_DIAMETER|default(printer.configfile.settings.extruder.filament_diameter)|float %}
	{% set e_w = params.EXTRUSION_WIDTH|default(printer.configfile.settings.extruder.nozzle_diameter)|float %}
	{% set o_x = params.X_OFFSET|default(0.0)|float %}
	{% set o_y = params.Y_OFFSET|default(0.0)|float %}
	{% set l_h = params.LAYER_HEIGHT|default(0.3)|float %}
	{% set g_cmd = "M140 S" ~ b_t %}
	{ g_cmd }
	{% set g_cmd = "M104 S" ~ p_t %}
	{ g_cmd }
	{% set g_cmd = "M190 S" ~ b_t %}
	{ g_cmd }
	{% set g_cmd = "G28" %}
	{ g_cmd }
	{% set g_cmd = "G1 Z10 F1500" %}
	{ g_cmd }
	{% set g_cmd = "M109 S" ~ p_t %}
	{ g_cmd }
	{% set g_cmd = "G92 E0" %}
	{ g_cmd }
	{% set g_cmd = "G1 Z2.0 F3000" %}
	{ g_cmd }
	{% set g_cmd = "G1 X0.1 Y20 Z0.3 F5000.0" %}
	{ g_cmd }
	{% set g_cmd = "M83" %}
	{ g_cmd }
	{% set g_cmd = "G91" %}
	{ g_cmd }
	pa_line LSPEED=25 X_L=0.0 Y_L={(b_y - 40)} FD={f_d} EW={e_w} LH={l_h}
	{% set g_cmd = "G1 X0.3 Y0 F5000.0" %}
	{ g_cmd }
	pa_line LSPEED=25 X_L=0.0 Y_L={0-(b_y - 40)} FD={f_d} EW={e_w} LH={l_h}
	{% set g_cmd = "G90" %}
	{ g_cmd }
	{% set g_cmd = "M82" %}
	{ g_cmd }
	{% set g_cmd = "G92 E0" %}
	{ g_cmd }
	{% set g_cmd = "G1 Z2.0 F3000" %}
	{ g_cmd }

[gcode_macro LOCAL_GENERIC_PA_END ]
description = Generic ending gcode
gcode = 
	{% set y_done = params.EJECT|default(0.0)|float %}
	{% set g_cmd = "G91" %}
	{ g_cmd }
	{% set g_cmd = "G1 Z10 F450" %}
	{ g_cmd }
	{% set g_cmd = "G90" %}
	{ g_cmd }
	{% set g_cmd = "M82" %}
	{ g_cmd }
	{% set g_cmd = "G1 X0 Y" ~ y_done %}
	{ g_cmd }
	{% set g_cmd = "M106 S0" %}
	{ g_cmd }
	{% set g_cmd = "M104 S0" %}
	{ g_cmd }
	{% set g_cmd = "M140 S0" %}
	{ g_cmd }
	{% set g_cmd = "M84" %}
	{ g_cmd }

[gcode_macro TEST_SPEED]
gcode = 
	
	{% set speed  = params.SPEED|default(printer.configfile.settings.printer.max_velocity)|int %}
	
	{% set iterations = params.ITERATIONS|default(5)|int %}
	
	{% set accel  = params.ACCEL|default(printer.configfile.settings.printer.max_accel)|int %}
	
	{% set bound = params.BOUND|default(20)|int %}
	
	{% set smallpatternsize = SMALLPATTERNSIZE|default(20)|int %}
	
	
	
	{% set x_min = printer.toolhead.axis_minimum.x + bound %}
	{% set x_max = printer.toolhead.axis_maximum.x - bound %}
	{% set y_min = printer.toolhead.axis_minimum.y + bound %}
	{% set y_max = printer.toolhead.axis_maximum.y - bound %}
	
	
	
	{% set x_center = (printer.toolhead.axis_minimum.x|float + printer.toolhead.axis_maximum.x|float ) / 2 %}
	{% set y_center = (printer.toolhead.axis_minimum.y|float + printer.toolhead.axis_maximum.y|float ) / 2 %}
	
	
	{% set x_center_min = x_center - (smallpatternsize/2) %}
	{% set x_center_max = x_center + (smallpatternsize/2) %}
	{% set y_center_min = y_center - (smallpatternsize/2) %}
	{% set y_center_max = y_center + (smallpatternsize/2) %}
	
	
	SAVE_GCODE_STATE NAME=TEST_SPEED
	
	
	{ action_respond_info("TEST_SPEED: starting %d iterations at speed %d, accel %d" % (iterations, speed, accel)) }
	
	
	G28
	M400
	
	{% if printer.configfile.settings.quad_gantry_level %}
	{% if printer.quad_gantry_level.applied == False %}
	QUAD_GANTRY_LEVEL
	G28 Z
	{% endif %}
	{% endif %}
	
	G90
	G1 X{printer.toolhead.axis_maximum.x-50} Y{printer.toolhead.axis_maximum.y-50} F{30*60}
	M400
	G28 X Y
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	G0 X{x_min} Y{y_min} Z{bound + 10} F{speed*60}
	
	
	SET_VELOCITY_LIMIT VELOCITY={speed} ACCEL={accel} ACCEL_TO_DECEL={accel / 2}
	
	{% for i in range(iterations) %}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	{% endfor %}
	
	
	SET_VELOCITY_LIMIT VELOCITY={printer.configfile.settings.printer.max_velocity} ACCEL={printer.configfile.settings.printer.max_accel} ACCEL_TO_DECEL={printer.configfile.settings.printer.max_accel_to_decel}
	
	
	M400
	G28
	
	G90
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	RESTORE_GCODE_STATE NAME=TEST_SPEED

[gcode_macro _USE_INFILL_SQV]
gcode = 
	{% set svv = printer.save_variables.variables %}
	{% set sqv = svv.infill_sqv | default(printer.configfile.settings.printer.square_corner_velocity, true) %}
	SET_VELOCITY_LIMIT SQUARE_CORNER_VELOCITY={ sqv }

[gcode_macro _USE_NORMAL_SQV]
gcode = 
	{% set sqv = printer.configfile.settings.printer.square_corner_velocity %}
	SET_VELOCITY_LIMIT SQUARE_CORNER_VELOCITY={ sqv }

[gcode_macro SET_INFILL_SQV]
gcode = 
	{% set svv = printer.save_variables.variables %}
	{% set val = params.SQV|default(svv.infill_sqv|default(printer.configfile.settings.printer.square_corner_velocity, true), true) | int %}
	SAVE_VARIABLE VARIABLE=infill_sqv VALUE={val}

[gcode_macro M204]
rename_existing = M204.1
gcode = 
	{% set f = params.F|default(0.5)|float %}
	
	{% if 'S' in params %}
	{% set s = params.S|float %}
	SET_VELOCITY_LIMIT ACCEL={s} ACCEL_TO_DECEL={ s * f }
	{% else %}
	{% if 'P' in params %}
	{% set p = params.P|float %}
	{% if 'T' in params %}
	{% set t = params.T|float %}
	{% if p < t %}
	SET_VELOCITY_LIMIT ACCEL={p} ACCEL_TO_DECEL={ p * f }
	{% else %}
	SET_VELOCITY_LIMIT ACCEL={t} ACCEL_TO_DECEL={ t * f }
	{% endif %}
	{% else %}
	SET_VELOCITY_LIMIT ACCEL={p} ACCEL_TO_DECEL={ p * f }
	{% endif %}
	{% elif 'T' in params %}
	{% set t = params.T|float %}
	SET_VELOCITY_LIMIT ACCEL={t} ACCEL_TO_DECEL={ t * f }
	{% endif %}
	{% endif %}

[gcode_macro _START_DRYER]
gcode = 
	{% set t = params.T|default(60)|int %}
	{% set c = params.C|default(25)|int %}
	{% set h = params.H|default(14400)|int %}
	M140 S{t}
	
	SET_GCODE_VARIABLE MACRO=_DRYER_STATUS VARIABLE=time_remaining VALUE={h}
	SET_GCODE_VARIABLE MACRO=_DRYER_STATUS VARIABLE=bed_temperature VALUE={t}
	
	UPDATE_DELAYED_GCODE ID=_DRYER_TIMER DURATION=1
	SET_IDLE_TIMEOUT

[gcode_macro STOP_DRYER]
gcode = 
	M140 S0
	
	SET_GCODE_VARIABLE MACRO=_DRYER_STATUS VARIABLE=time_remaining VALUE=0
	UPDATE_DELAYED_GCODE ID=_DRYER_TIMER DURATION=0
	M117 Drying Stopped

[gcode_macro _DRYER_STATUS]
variable_time_remaining = 0
variable_bed_temperature = 0
variable_chamber_temperature = 0
gcode = _
	{% if time_remaining > 0 %}
	M140 S{bed_temperature}
	
	SET_GCODE_VARIABLE MACRO=_DRYER_STATUS VARIABLE=time_remaining VALUE={time_remaining - 1}
	M117 Drying {time_remaining}
	M118 Drying Time Remaining: {time_remaining}
	{% else %}
	STOP_DRYER
	{% endif %}

[delayed_gcode _DRYER_TIMER]
gcode = 
	UPDATE_DELAYED_GCODE ID=_DRYER_TIMER DURATION=1
	_DRYER_STATUS

[gcode_macro DRY_PLA]
gcode = 
	_START_DRYER t=50 c=25 h=14400

[gcode_macro DRY_PETG]
gcode = 
	_START_DRYER t=55 c=30 h=18000

[gcode_macro DRY_ABS]
gcode = 
	_START_DRYER t=65 c=40 h=14400

[printer]
kinematics = corexy
max_velocity = 800
max_accel = 5000
max_z_velocity = 15
max_z_accel = 50

[output_pin _BEEPER_pin]
pin = PE9
pwm = True
value = 0
shutdown_value = 0
cycle_time = 0.001
scale = 1

[idle_timeout]
timeout = 172800

[thermistor Trianglelab-NTC100K-B3950]
temperature1 = 25
resistance1 = 103180
temperature2 = 150
resistance2 = 1366.2
temperature3 = 250
resistance3 = 168.6

[temperature_sensor Bed_Top]
sensor_type = ATC Semitec 104NT-4-R025H42G
sensor_pin = PC1
min_temp = -50
max_temp = 300

[heater_fan hotend_fan]
pin = EBBCan:PA0
max_power = 1.0
kick_start_time = 0.5
heater = extruder
heater_temp = 50.0

[fan]
pin = EBBCan:PA1
max_power = 1.0
kick_start_time = 0.5
off_below = 0.10

[controller_fan _MOSFET]
pin = PA0
max_power = 0.8
kick_start_time = 0.5
idle_speed = 0.0
fan_speed = 1.0
idle_timeout = 30
off_below = 0.10
heater = heater_bed

[controller_fan _Monster8]
pin = PA1
max_power = 0.8
kick_start_time = 0.5
idle_speed = 0.0
fan_speed = 1.0
idle_timeout = 600
off_below = 0.10
stepper = stepper_x,stepper_y,stepper_z,stepper_z1,stepper_z2

[temperature_sensor Raspberry_Pi]
sensor_type = temperature_host
max_temp = 75
min_temp = 20

[temperature_sensor mcu_Monster]
sensor_type = temperature_mcu
min_temp = 0
max_temp = 100

[temperature_sensor mcu_ebb36]
sensor_type = temperature_mcu
sensor_mcu = EBBCan
min_temp = 0
max_temp = 100

[stepper_x]
step_pin = PITB:gpio6
dir_pin = PITB:gpio5
enable_pin = !PITB:gpio20
microsteps = 16
full_steps_per_rotation = 400
rotation_distance = 40
endstop_pin = tmc5160_stepper_x:virtual_endstop
position_endstop = -9
position_min = -9
position_max = 409
homing_speed = 40
homing_retract_dist = 20
second_homing_speed = 10.0

[tmc5160 stepper_x]
cs_pin = PITB:gpio1
spi_software_sclk_pin = PITB:gpio2
spi_software_mosi_pin = PITB:gpio3
spi_software_miso_pin = PITB:gpio4
diag1_pin = PITB:gpio7
driver_sgt = -64
interpolate = True
run_current = 1.1

[stepper_y]
step_pin = PITB:gpio13
dir_pin = PITB:gpio23
enable_pin = !PITB:gpio22
microsteps = 16
full_steps_per_rotation = 400
rotation_distance = 40
endstop_pin = tmc5160_stepper_y:virtual_endstop
position_endstop = 410
position_min = -15
position_max = 410
homing_speed = 40
homing_retract_dist = 20
second_homing_speed = 10.0

[tmc5160 stepper_y]
cs_pin = PITB:gpio21
spi_software_sclk_pin = PITB:gpio2
spi_software_mosi_pin = PITB:gpio3
spi_software_miso_pin = PITB:gpio4
diag1_pin = PITB:gpio14
driver_sgt = -64
interpolate = True
run_current = 1.1

[stepper_z]
step_pin = PB5
dir_pin = PB4
enable_pin = !PB6
position_max = 400
position_min = -2
homing_speed = 5
second_homing_speed = 3
homing_retract_dist = 5
homing_retract_speed = 2
endstop_pin = probe:z_virtual_endstop
microsteps = 128
rotation_distance = 4

[tmc2209 stepper_z]
uart_pin = PB3
run_current = 0.800
hold_current = 0.500
interpolate = false

[stepper_z1]
step_pin = PD6
dir_pin = PD5
enable_pin = !PD7
microsteps = 128
rotation_distance = 4

[tmc2209 stepper_z1]
uart_pin = PD4
run_current = 0.800
hold_current = 0.500
interpolate = false

[stepper_z2]
step_pin = PD2
dir_pin = PD1
enable_pin = !PD3
microsteps = 128
rotation_distance = 4

[tmc2209 stepper_z2]
uart_pin = PD0
run_current = 0.800
hold_current = 0.500
interpolate = false

[z_tilt]
horizontal_move_z = 30
speed = 120
z_positions = -51,0
	136,440
	434,0
points = 40,20
	171,390
	409,20
retry_tolerance = 0.05
retries = 20

[screws_tilt_adjust]
screw1 = 30,30
screw1_name = Front Left
screw2 = 30,200
screw2_name = Mid Left
screw3 = 30,370
screw3_name = Back Left
screw4 = 370,30
screw4_name = Front Right
screw5 = 370,200
screw5_name = Mid Right
screw6 = 370,370
screw6_name = Back Right

[bed_screws]
screw1 = 30,30
screw2 = 30,200
screw3 = 30,370
screw4 = 370,30
screw5 = 370,200
screw6 = 370,370

[heater_bed]
heater_pin = PB10
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PC0
max_power = 1.0
min_temp = 0
max_temp = 130
control = pid
pid_kp = 73.560
pid_ki = 0.863
pid_kd = 1566.832

[neopixel Main_LED]
pin = PC5
chain_count = 24
color_order = GRB
initial_red = 0.0
initial_green = 0.0
initial_blue = 0.0

[BDsensor]
scl_pin = EBBCan:PB9
sda_pin = EBBCan:PB8
delay = 20
z_offset = 0
x_offset = -34
y_offset = 0
position_endstop = 0.8
collision_homing = 0
collision_calibrate = 0
z_adjust = 0.0

[bed_mesh]
speed = 500
mesh_min = 50,50
mesh_max = 350,350
probe_count = 20, 20
mesh_pps = 2, 2
algorithm = bicubic
horizontal_move_z = 1
zero_reference_position = 200, 200

[adxl345]
cs_pin = EBBCan:PB12
spi_software_sclk_pin = EBBCan:PB10
spi_software_mosi_pin = EBBCan:PB11
spi_software_miso_pin = EBBCan:PB2
axes_map = x,y,z

[resonance_tester]
accel_chip = adxl345
probe_points = 
	200, 200, 20

[extruder]
step_pin = EBBCan:PD0
dir_pin = !EBBCan:PD1
enable_pin = !EBBCan:PD2
microsteps = 64
rotation_distance = 5.693950178
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = EBBCan: PB13
sensor_pin = EBBCan: PA3
sensor_type = ATC Semitec 104NT-4-R025H42G
min_temp = 0
max_temp = 300
control = pid
pid_kp = 44.021
pid_ki = 8.152
pid_kd = 59.428

[tmc2209 extruder]
uart_pin = EBBCan:PA15
interpolate = False
run_current = 0.800
stealthchop_threshold = 0

[filament_motion_sensor filament_sensor]
detection_length = 10.0
extruder = extruder
switch_pin = ^PA13
pause_on_runout = True
event_delay = 3.0
pause_delay = 0.5
runout_gcode = 
	M117 Runout Detected!

[gcode_macro M900]
gcode = 
	{% if 'K' in params %}
	{% if 'E' in params %}
	SET_PRESSURE_ADVANCE EXTRUDER={params.E} ADVANCE={params.K}
	{% else %}
	SET_PRESSURE_ADVANCE ADVANCE={params.K}
	{% endif %}
	{% endif %}

[gcode_macro Level_Bed]
gcode = 
	Z_TILT_ADJUST
	BED_MESH_CALIBRATE

[gcode_macro PARK]
gcode = 
	{% set th = printer.toolhead %}
	G0 Z40 F20000
	G0 X{th.axis_maximum.x//2} Y{th.axis_maximum.y//2} Z40 F30000

[gcode_macro G32]
gcode = 
	SAVE_GCODE_STATE NAME=STATE_G32
	G90
	G28
	Z_TILT_ADJUST
	G28
	PARK
	RESTORE_GCODE_STATE NAME=STATE_G32

[gcode_macro M0]
gcode = 
	PAUSE

[gcode_macro G29]
gcode = 
	{% if printer.idle_timeout.state == "Printing" %}
	{action_respond_info("This command cannot be used while printing")}
	{% elif printer.toolhead.homed_axes != "xyz" %}
	{action_respond_info("Please home XYZ first")}
	{% else %}
	SAVE_GCODE_STATE NAME=STATE_G29
	G90
	G28
	Z_TILT_ADJUST
	G28
	PARK
	BED_MESH_CALIBRATE
	BED_MESH_PROFILE SAVE=p1
	BED_MESH_PROFILE LOAD="p1"
	RESTORE_GCODE_STATE NAME=STATE_G29
	{% endif %}

[force_move]
enable_force_move = True

[firmware_retraction]
retract_length = 0.5
retract_speed = 40
unretract_extra_length = 0.1
unretract_speed = 30

[verify_heater heater_bed]
max_error = 120
hysteresis = 5
heating_gain = 2

[verify_heater extruder]
max_error = 120
check_gain_time = 90
hysteresis = 5
heating_gain = 2

[gcode_macro M486]
gcode = 
	
	
	
	
	
	
	
	
	
	
	
	{% if 'exclude_object' not in printer %}
	{action_raise_error("[exclude_object] is not enabled")}
	{% endif %}
	
	{% if 'T' in params %}
	EXCLUDE_OBJECT RESET=1
	
	{% for i in range(params.T | int) %}
	EXCLUDE_OBJECT_DEFINE NAME={i}
	{% endfor %}
	{% endif %}
	
	{% if 'C' in params %}
	EXCLUDE_OBJECT CURRENT=1
	{% endif %}
	
	{% if 'P' in params %}
	EXCLUDE_OBJECT NAME={params.P}
	{% endif %}
	
	{% if 'S' in params %}
	{% if params.S == '-1' %}
	{% if printer.exclude_object.current_object %}
	EXCLUDE_OBJECT_END NAME={printer.exclude_object.current_object}
	{% endif %}
	{% else %}
	EXCLUDE_OBJECT_START NAME={params.S}
	{% endif %}
	{% endif %}
	
	{% if 'U' in params %}
	EXCLUDE_OBJECT RESET=1 NAME={params.U}
	{% endif %}

[gcode_arcs]
resolution = 1.0

[gcode_macro G12]
gcode = 
	{% set CLEANTYPE = params.P|default(2) %}
	{% set RADI = params.R|default(2) %}
	{% set repetitions = params.S|default(2) %}
	{% set triangles = params.T|default(2) %}
	{% set th = printer.toolhead %}
	
	{% if printer.idle_timeout.state == "Printing" %}
	{action_respond_info("This command cannot be used while printing")}
	{% elif printer.toolhead.homed_axes != "xyz" %}
	{action_respond_info("Please home XYZ first")}
	{% else %}
	{action_respond_info("Cleaning Printhead")}
	SAVE_GCODE_STATE NAME=STATE_G12
	G90
	{% if params.P == '0' %}
	{action_respond_info("Cleaning Printhead back and forward")}
	G0 X405 Y400 Z1 F3600
	{% if repetitions == '1' %}
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	{% elif repetitions == '2' %}
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	{% elif repetitions == '3' %}
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	{% elif repetitions == '4' %}
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	{% elif repetitions == '5' %}
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	{% endif %}
	{% elif CLEANTYPE == '1' %}
	G0 X405 Y400 Z1 F3600
	
	
	{% elif CLEANTYPE == '2' %}
	G0 X405 Y400 Z1 F3600
	G3 X405 Y390 R{RADI} P{repetitions}
	G2 X405 Y390 R{RADI} P{repetitions}
	{% endif %}
	G0 X{th.axis_maximum.x//2} Y{th.axis_maximum.y//2} Z30 F3600
	RESTORE_GCODE_STATE NAME=STATE_G12
	{action_respond_info("Cleaning Done")}
	{% endif %}

[exclude_object]

[input_shaper]

[bed_mesh default]
version = 1
points = 
	1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 0.990000, 0.985000, 0.985000, 0.990000, 0.995000, 0.990000, 0.975000, 0.970000, 0.985000, 0.985000, 0.975000, 0.970000
	1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 0.995000, 0.980000, 0.970000, 0.965000, 0.960000, 0.960000, 0.935000, 0.905000, 0.910000, 0.920000, 0.920000, 0.915000, 0.920000, 0.920000, 0.905000
	1.000000, 1.000000, 1.000000, 1.000000, 0.990000, 0.970000, 0.960000, 0.950000, 0.940000, 0.930000, 0.895000, 0.860000, 0.860000, 0.840000, 0.825000, 0.805000, 0.800000, 0.800000, 0.800000, 0.800000
	1.000000, 1.000000, 1.000000, 1.000000, 0.985000, 0.960000, 0.945000, 0.910000, 0.890000, 0.870000, 0.865000, 0.745000, 0.695000, 0.680000, 0.685000, 0.640000, 0.635000, 0.625000, 0.625000, 0.625000
	1.000000, 1.000000, 1.000000, 0.995000, 0.925000, 0.900000, 0.865000, 0.830000, 0.740000, 0.690000, 0.675000, 0.645000, 0.640000, 0.525000, 0.515000, 0.480000, 0.480000, 0.475000, 0.465000, 0.465000
	1.000000, 1.000000, 1.000000, 0.920000, 0.860000, 0.830000, 0.800000, 0.755000, 0.635000, 0.560000, 0.505000, 0.450000, 0.425000, 0.395000, 0.365000, 0.340000, 0.315000, 0.315000, 0.315000, 0.305000
	1.000000, 1.000000, 0.975000, 0.885000, 0.810000, 0.760000, 0.725000, 0.620000, 0.510000, 0.435000, 0.375000, 0.305000, 0.280000, 0.250000, 0.215000, 0.180000, 0.175000, 0.170000, 0.160000, 0.165000
	0.985000, 0.970000, 0.840000, 0.825000, 0.750000, 0.670000, 0.550000, 0.440000, 0.355000, 0.280000, 0.215000, 0.180000, 0.125000, 0.100000, 0.080000, 0.040000, 0.015000, 0.015000, 0.005000, 0.010000
	0.880000, 0.845000, 0.780000, 0.690000, 0.625000, 0.580000, 0.475000, 0.355000, 0.250000, 0.160000, 0.095000, 0.030000, -0.000000, -0.040000, -0.060000, -0.090000, -0.110000, -0.110000, -0.110000, -0.115000
	0.760000, 0.725000, 0.670000, 0.585000, 0.525000, 0.460000, 0.360000, 0.240000, 0.125000, 0.040000, -0.050000, -0.100000, -0.140000, -0.155000, -0.190000, -0.220000, -0.230000, -0.235000, -0.220000, -0.225000
	0.635000, 0.600000, 0.525000, 0.460000, 0.380000, 0.320000, 0.235000, 0.205000, 0.155000, -0.080000, -0.150000, -0.220000, -0.275000, -0.280000, -0.325000, -0.335000, -0.360000, -0.350000, -0.365000, -0.350000
	0.505000, 0.465000, 0.410000, 0.330000, 0.260000, 0.180000, 0.090000, -0.040000, -0.145000, -0.215000, -0.300000, -0.350000, -0.395000, -0.435000, -0.440000, -0.475000, -0.490000, -0.485000, -0.490000, -0.485000
	0.385000, 0.350000, 0.270000, 0.195000, 0.125000, 0.080000, -0.020000, -0.150000, -0.265000, -0.345000, -0.400000, -0.480000, -0.520000, -0.535000, -0.565000, -0.590000, -0.600000, -0.600000, -0.590000, -0.600000
	0.265000, 0.225000, 0.170000, 0.080000, 0.025000, -0.020000, -0.130000, -0.240000, -0.350000, -0.460000, -0.525000, -0.580000, -0.615000, -0.645000, -0.685000, -0.695000, -0.710000, -0.710000, -0.715000, -0.710000
	0.170000, 0.120000, 0.045000, -0.020000, -0.075000, -0.135000, -0.225000, -0.350000, -0.475000, -0.550000, -0.605000, -0.665000, -0.715000, -0.715000, -0.765000, -0.790000, -0.800000, -0.795000, -0.785000, -0.800000
	0.070000, 0.045000, -0.020000, -0.105000, -0.175000, -0.250000, -0.370000, -0.480000, -0.580000, -0.655000, -0.730000, -0.785000, -0.825000, -0.845000, -0.875000, -0.895000, -0.900000, -0.885000, -0.890000, -0.880000
	0.000000, -0.045000, -0.110000, -0.210000, -0.270000, -0.320000, -0.410000, -0.565000, -0.670000, -0.755000, -0.825000, -0.880000, -0.910000, -0.910000, -0.960000, -0.995000, -0.995000, -0.990000, -0.990000, -0.985000
	-0.020000, -0.080000, -0.155000, -0.250000, -0.310000, -0.365000, -0.465000, -0.630000, -0.750000, -0.840000, -0.895000, -0.950000, -0.990000, -1.010000, -1.030000, -1.040000, -1.055000, -1.060000, -1.035000, -1.050000
	-0.040000, -0.075000, -0.210000, -0.310000, -0.365000, -0.420000, -0.550000, -0.705000, -0.825000, -0.925000, -1.005000, -1.055000, -1.075000, -1.100000, -1.115000, -1.155000, -1.155000, -1.130000, -1.145000, -1.140000
	-0.005000, -0.050000, -0.150000, -0.255000, -0.350000, -0.415000, -0.545000, -0.710000, -0.855000, -0.950000, -1.065000, -1.100000, -1.145000, -1.165000, -1.185000, -1.205000, -1.210000, -1.205000, -1.195000, -1.185000
x_count = 20
y_count = 20
mesh_x_pps = 2
mesh_y_pps = 2
algo = bicubic
tension = 0.2
min_x = 50.0
max_x = 349.82
min_y = 50.0
max_y = 349.82
=======================
BMxx80: Oversampling: Temp 2x Humid 2x Pressure 2x
BMxx80: IIR: 1x
Extruder max_extrude_ratio=0.266081
mcu 'mcu': Starting CAN connect
Created a socket
webhooks client 548229738064: New connection
webhooks client 548229738064: Client info {'program': 'Moonraker', 'version': 'v0.8.0-387-gb8ba6c0'}
Loaded MCU 'mcu' 127 commands (v0.12.0-267-g12cd1d9e / gcc: (15:12.2.rel1-1) 12.2.1 20221205 binutils: (2.40-2+18+b1) 2.40)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c1=PB6,PB7 BUS_PINS_i2c1a=PB8,PB9 BUS_PINS_i2c2=PB10,PB11 BUS_PINS_i2c2a=PH4,PH5 BUS_PINS_i2c3=PA8,PC9 BUS_PINS_i2c3a=PH7,PH8 BUS_PINS_sdio=PC12,PD2,PC8,PC9,PC10,PC11 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2a=PC2,PC3,PB10 BUS_PINS_spi2b=PI2,PI3,PI1 BUS_PINS_spi3=PB4,PB5,PB3 BUS_PINS_spi3a=PC11,PC12,PC10 CANBUS_BRIDGE=1 CLOCK_FREQ=168000000 MCU=stm32f407xx PWM_MAX=255 RECEIVE_WINDOW=192 RESERVE_PINS_CAN=PB8,PB9 RESERVE_PINS_USB=PA11,PA12 RESERVE_PINS_crystal=PH0,PH1 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu 'EBBCan': Starting CAN connect
Created a socket
Loaded MCU 'EBBCan' 119 commands (v0.12.0-267-g12cd1d9e-dirty-20240725_173632-Core400 / gcc: (15:12.2.rel1-1) 12.2.1 20221205 binutils: (2.40-2+18+b1) 2.40)
MCU 'EBBCan' config: ADC_MAX=4095 BUS_PINS_i2c1_PA9_PA10=PA9,PA10 BUS_PINS_i2c1_PB6_PB7=PB6,PB7 BUS_PINS_i2c1_PB8_PB9=PB8,PB9 BUS_PINS_i2c2_PB10_PB11=PB10,PB11 BUS_PINS_i2c2_PB13_PB14=PB13,PB14 BUS_PINS_i2c3_PB3_PB4=PB3,PB4 BUS_PINS_i2c3_PC0_PC1=PC0,PC1 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2_PB2_PB11_PB10=PB2,PB11,PB10 BUS_PINS_spi2a=PC2,PC3,PB10 BUS_PINS_spi3=PB4,PB5,PB3 CANBUS_FREQUENCY=1000000 CLOCK_FREQ=64000000 MCU=stm32g0b1xx PWM_MAX=255 RECEIVE_WINDOW=192 RESERVE_PINS_CAN=PB0,PB1 RESERVE_PINS_crystal=PF0,PF1 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu 'PITB': Starting CAN connect
Created a socket
Loaded MCU 'PITB' 115 commands (v0.12.0-267-g12cd1d9e / gcc: (15:12.2.rel1-1) 12.2.1 20221205 binutils: (2.40-2+18+b1) 2.40)
MCU 'PITB' config: ADC_MAX=4095 BUS_PINS_i2c0a=gpio0,gpio1 BUS_PINS_i2c0b=gpio4,gpio5 BUS_PINS_i2c0c=gpio8,gpio9 BUS_PINS_i2c0d=gpio12,gpio13 BUS_PINS_i2c0e=gpio16,gpio17 BUS_PINS_i2c0f=gpio20,gpio21 BUS_PINS_i2c0g=gpio24,gpio25 BUS_PINS_i2c0h=gpio28,gpio29 BUS_PINS_i2c1a=gpio2,gpio3 BUS_PINS_i2c1b=gpio6,gpio7 BUS_PINS_i2c1c=gpio10,gpio11 BUS_PINS_i2c1d=gpio14,gpio15 BUS_PINS_i2c1e=gpio18,gpio19 BUS_PINS_i2c1f=gpio22,gpio23 BUS_PINS_i2c1g=gpio26,gpio27 BUS_PINS_spi0a=gpio0,gpio3,gpio2 BUS_PINS_spi0b=gpio4,gpio7,gpio6 BUS_PINS_spi0c=gpio16,gpio19,gpio18 BUS_PINS_spi0d=gpio20,gpio23,gpio22 BUS_PINS_spi1a=gpio8,gpio11,gpio10 BUS_PINS_spi1b=gpio12,gpio15,gpio14 BUS_PINS_spi1c=gpio24,gpio27,gpio26 CANBUS_FREQUENCY=1000000 CLOCK_FREQ=12000000 MCU=rp2040 PWM_MAX=255 RECEIVE_WINDOW=192 RESERVE_PINS_CAN=gpio9,gpio8 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu_temperature 'PITB' nominal base=437.226612 slope=-1917.489831
mcu_temperature 'mcu' nominal base=-279.593496 slope=1331.707317
mcu_temperature 'EBBCan' nominal base=-269.710145 slope=1305.652174
Sending MCU 'mcu' printer configuration...
Configured MCU 'mcu' (1024 moves)
Sending MCU 'EBBCan' printer configuration...
Configured MCU 'EBBCan' (1024 moves)
Sending MCU 'PITB' printer configuration...
Configured MCU 'PITB' (1024 moves)
bme280: Found Chip BMP280 at 0x76
TMC stepper_x failed to init: Unable to write tmc spi 'stepper_x' register GLOBALSCALER
TMC stepper_y failed to init: Unable to write tmc spi 'stepper_y' register GLOBALSCALER
Starting heater checks for heater_bed
bed_mesh: generated points
Index |  Tool Adjusted  |   Probe
  0   | (84.0, 50.0)    | (50.0, 50.0)
  1   | (99.8, 50.0)    | (65.8, 50.0)
  2   | (115.6, 50.0)   | (81.6, 50.0)
  3   | (131.3, 50.0)   | (97.3, 50.0)
  4   | (147.1, 50.0)   | (113.1, 50.0)
  5   | (162.9, 50.0)   | (128.9, 50.0)
  6   | (178.7, 50.0)   | (144.7, 50.0)
  7   | (194.5, 50.0)   | (160.5, 50.0)
  8   | (210.2, 50.0)   | (176.2, 50.0)
  9   | (226.0, 50.0)   | (192.0, 50.0)
  10  | (241.8, 50.0)   | (207.8, 50.0)
  11  | (257.6, 50.0)   | (223.6, 50.0)
  12  | (273.4, 50.0)   | (239.4, 50.0)
  13  | (289.1, 50.0)   | (255.1, 50.0)
  14  | (304.9, 50.0)   | (270.9, 50.0)
  15  | (320.7, 50.0)   | (286.7, 50.0)
  16  | (336.5, 50.0)   | (302.5, 50.0)
  17  | (352.3, 50.0)   | (318.3, 50.0)
  18  | (368.0, 50.0)   | (334.0, 50.0)
  19  | (383.8, 50.0)   | (349.8, 50.0)
  20  | (383.8, 65.8)   | (349.8, 65.8)
  21  | (368.0, 65.8)   | (334.0, 65.8)
  22  | (352.3, 65.8)   | (318.3, 65.8)
  23  | (336.5, 65.8)   | (302.5, 65.8)
  24  | (320.7, 65.8)   | (286.7, 65.8)
  25  | (304.9, 65.8)   | (270.9, 65.8)
  26  | (289.1, 65.8)   | (255.1, 65.8)
  27  | (273.4, 65.8)   | (239.4, 65.8)
  28  | (257.6, 65.8)   | (223.6, 65.8)
  29  | (241.8, 65.8)   | (207.8, 65.8)
  30  | (226.0, 65.8)   | (192.0, 65.8)
  31  | (210.2, 65.8)   | (176.2, 65.8)
  32  | (194.5, 65.8)   | (160.5, 65.8)
  33  | (178.7, 65.8)   | (144.7, 65.8)
  34  | (162.9, 65.8)   | (128.9, 65.8)
  35  | (147.1, 65.8)   | (113.1, 65.8)
  36  | (131.3, 65.8)   | (97.3, 65.8)
  37  | (115.6, 65.8)   | (81.6, 65.8)
  38  | (99.8, 65.8)    | (65.8, 65.8)
  39  | (84.0, 65.8)    | (50.0, 65.8)
  40  | (84.0, 81.6)    | (50.0, 81.6)
  41  | (99.8, 81.6)    | (65.8, 81.6)
  42  | (115.6, 81.6)   | (81.6, 81.6)
  43  | (131.3, 81.6)   | (97.3, 81.6)
  44  | (147.1, 81.6)   | (113.1, 81.6)
  45  | (162.9, 81.6)   | (128.9, 81.6)
  46  | (178.7, 81.6)   | (144.7, 81.6)
  47  | (194.5, 81.6)   | (160.5, 81.6)
  48  | (210.2, 81.6)   | (176.2, 81.6)
  49  | (226.0, 81.6)   | (192.0, 81.6)
  50  | (241.8, 81.6)   | (207.8, 81.6)
  51  | (257.6, 81.6)   | (223.6, 81.6)
  52  | (273.4, 81.6)   | (239.4, 81.6)
  53  | (289.1, 81.6)   | (255.1, 81.6)
  54  | (304.9, 81.6)   | (270.9, 81.6)
  55  | (320.7, 81.6)   | (286.7, 81.6)
  56  | (336.5, 81.6)   | (302.5, 81.6)
  57  | (352.3, 81.6)   | (318.3, 81.6)
  58  | (368.0, 81.6)   | (334.0, 81.6)
  59  | (383.8, 81.6)   | (349.8, 81.6)
  60  | (383.8, 97.3)   | (349.8, 97.3)
  61  | (368.0, 97.3)   | (334.0, 97.3)
  62  | (352.3, 97.3)   | (318.3, 97.3)
  63  | (336.5, 97.3)   | (302.5, 97.3)
  64  | (320.7, 97.3)   | (286.7, 97.3)
  65  | (304.9, 97.3)   | (270.9, 97.3)
  66  | (289.1, 97.3)   | (255.1, 97.3)
  67  | (273.4, 97.3)   | (239.4, 97.3)
  68  | (257.6, 97.3)   | (223.6, 97.3)
  69  | (241.8, 97.3)   | (207.8, 97.3)
  70  | (226.0, 97.3)   | (192.0, 97.3)
  71  | (210.2, 97.3)   | (176.2, 97.3)
  72  | (194.5, 97.3)   | (160.5, 97.3)
  73  | (178.7, 97.3)   | (144.7, 97.3)
  74  | (162.9, 97.3)   | (128.9, 97.3)
  75  | (147.1, 97.3)   | (113.1, 97.3)
  76  | (131.3, 97.3)   | (97.3, 97.3)
  77  | (115.6, 97.3)   | (81.6, 97.3)
  78  | (99.8, 97.3)    | (65.8, 97.3)
  79  | (84.0, 97.3)    | (50.0, 97.3)
  80  | (84.0, 113.1)   | (50.0, 113.1)
  81  | (99.8, 113.1)   | (65.8, 113.1)
  82  | (115.6, 113.1)  | (81.6, 113.1)
  83  | (131.3, 113.1)  | (97.3, 113.1)
  84  | (147.1, 113.1)  | (113.1, 113.1)
  85  | (162.9, 113.1)  | (128.9, 113.1)
  86  | (178.7, 113.1)  | (144.7, 113.1)
  87  | (194.5, 113.1)  | (160.5, 113.1)
  88  | (210.2, 113.1)  | (176.2, 113.1)
  89  | (226.0, 113.1)  | (192.0, 113.1)
  90  | (241.8, 113.1)  | (207.8, 113.1)
  91  | (257.6, 113.1)  | (223.6, 113.1)
  92  | (273.4, 113.1)  | (239.4, 113.1)
  93  | (289.1, 113.1)  | (255.1, 113.1)
  94  | (304.9, 113.1)  | (270.9, 113.1)
  95  | (320.7, 113.1)  | (286.7, 113.1)
  96  | (336.5, 113.1)  | (302.5, 113.1)
  97  | (352.3, 113.1)  | (318.3, 113.1)
  98  | (368.0, 113.1)  | (334.0, 113.1)
  99  | (383.8, 113.1)  | (349.8, 113.1)
  100 | (383.8, 128.9)  | (349.8, 128.9)
  101 | (368.0, 128.9)  | (334.0, 128.9)
  102 | (352.3, 128.9)  | (318.3, 128.9)
  103 | (336.5, 128.9)  | (302.5, 128.9)
  104 | (320.7, 128.9)  | (286.7, 128.9)
  105 | (304.9, 128.9)  | (270.9, 128.9)
  106 | (289.1, 128.9)  | (255.1, 128.9)
  107 | (273.4, 128.9)  | (239.4, 128.9)
  108 | (257.6, 128.9)  | (223.6, 128.9)
  109 | (241.8, 128.9)  | (207.8, 128.9)
  110 | (226.0, 128.9)  | (192.0, 128.9)
  111 | (210.2, 128.9)  | (176.2, 128.9)
  112 | (194.5, 128.9)  | (160.5, 128.9)
  113 | (178.7, 128.9)  | (144.7, 128.9)
  114 | (162.9, 128.9)  | (128.9, 128.9)
  115 | (147.1, 128.9)  | (113.1, 128.9)
  116 | (131.3, 128.9)  | (97.3, 128.9)
  117 | (115.6, 128.9)  | (81.6, 128.9)
  118 | (99.8, 128.9)   | (65.8, 128.9)
  119 | (84.0, 128.9)   | (50.0, 128.9)
  120 | (84.0, 144.7)   | (50.0, 144.7)
  121 | (99.8, 144.7)   | (65.8, 144.7)
  122 | (115.6, 144.7)  | (81.6, 144.7)
  123 | (131.3, 144.7)  | (97.3, 144.7)
  124 | (147.1, 144.7)  | (113.1, 144.7)
  125 | (162.9, 144.7)  | (128.9, 144.7)
  126 | (178.7, 144.7)  | (144.7, 144.7)
  127 | (194.5, 144.7)  | (160.5, 144.7)
  128 | (210.2, 144.7)  | (176.2, 144.7)
  129 | (226.0, 144.7)  | (192.0, 144.7)
  130 | (241.8, 144.7)  | (207.8, 144.7)
  131 | (257.6, 144.7)  | (223.6, 144.7)
  132 | (273.4, 144.7)  | (239.4, 144.7)
  133 | (289.1, 144.7)  | (255.1, 144.7)
  134 | (304.9, 144.7)  | (270.9, 144.7)
  135 | (320.7, 144.7)  | (286.7, 144.7)
  136 | (336.5, 144.7)  | (302.5, 144.7)
  137 | (352.3, 144.7)  | (318.3, 144.7)
  138 | (368.0, 144.7)  | (334.0, 144.7)
  139 | (383.8, 144.7)  | (349.8, 144.7)
  140 | (383.8, 160.5)  | (349.8, 160.5)
  141 | (368.0, 160.5)  | (334.0, 160.5)
  142 | (352.3, 160.5)  | (318.3, 160.5)
  143 | (336.5, 160.5)  | (302.5, 160.5)
  144 | (320.7, 160.5)  | (286.7, 160.5)
  145 | (304.9, 160.5)  | (270.9, 160.5)
  146 | (289.1, 160.5)  | (255.1, 160.5)
  147 | (273.4, 160.5)  | (239.4, 160.5)
  148 | (257.6, 160.5)  | (223.6, 160.5)
  149 | (241.8, 160.5)  | (207.8, 160.5)
  150 | (226.0, 160.5)  | (192.0, 160.5)
  151 | (210.2, 160.5)  | (176.2, 160.5)
  152 | (194.5, 160.5)  | (160.5, 160.5)
  153 | (178.7, 160.5)  | (144.7, 160.5)
  154 | (162.9, 160.5)  | (128.9, 160.5)
  155 | (147.1, 160.5)  | (113.1, 160.5)
  156 | (131.3, 160.5)  | (97.3, 160.5)
  157 | (115.6, 160.5)  | (81.6, 160.5)
  158 | (99.8, 160.5)   | (65.8, 160.5)
  159 | (84.0, 160.5)   | (50.0, 160.5)
  160 | (84.0, 176.2)   | (50.0, 176.2)
  161 | (99.8, 176.2)   | (65.8, 176.2)
  162 | (115.6, 176.2)  | (81.6, 176.2)
  163 | (131.3, 176.2)  | (97.3, 176.2)
  164 | (147.1, 176.2)  | (113.1, 176.2)
  165 | (162.9, 176.2)  | (128.9, 176.2)
  166 | (178.7, 176.2)  | (144.7, 176.2)
  167 | (194.5, 176.2)  | (160.5, 176.2)
  168 | (210.2, 176.2)  | (176.2, 176.2)
  169 | (226.0, 176.2)  | (192.0, 176.2)
  170 | (241.8, 176.2)  | (207.8, 176.2)
  171 | (257.6, 176.2)  | (223.6, 176.2)
  172 | (273.4, 176.2)  | (239.4, 176.2)
  173 | (289.1, 176.2)  | (255.1, 176.2)
  174 | (304.9, 176.2)  | (270.9, 176.2)
  175 | (320.7, 176.2)  | (286.7, 176.2)
  176 | (336.5, 176.2)  | (302.5, 176.2)
  177 | (352.3, 176.2)  | (318.3, 176.2)
  178 | (368.0, 176.2)  | (334.0, 176.2)
  179 | (383.8, 176.2)  | (349.8, 176.2)
  180 | (383.8, 192.0)  | (349.8, 192.0)
  181 | (368.0, 192.0)  | (334.0, 192.0)
  182 | (352.3, 192.0)  | (318.3, 192.0)
  183 | (336.5, 192.0)  | (302.5, 192.0)
  184 | (320.7, 192.0)  | (286.7, 192.0)
  185 | (304.9, 192.0)  | (270.9, 192.0)
  186 | (289.1, 192.0)  | (255.1, 192.0)
  187 | (273.4, 192.0)  | (239.4, 192.0)
  188 | (257.6, 192.0)  | (223.6, 192.0)
  189 | (241.8, 192.0)  | (207.8, 192.0)
  190 | (226.0, 192.0)  | (192.0, 192.0)
  191 | (210.2, 192.0)  | (176.2, 192.0)
  192 | (194.5, 192.0)  | (160.5, 192.0)
  193 | (178.7, 192.0)  | (144.7, 192.0)
  194 | (162.9, 192.0)  | (128.9, 192.0)
  195 | (147.1, 192.0)  | (113.1, 192.0)
  196 | (131.3, 192.0)  | (97.3, 192.0)
  197 | (115.6, 192.0)  | (81.6, 192.0)
  198 | (99.8, 192.0)   | (65.8, 192.0)
  199 | (84.0, 192.0)   | (50.0, 192.0)
  200 | (84.0, 207.8)   | (50.0, 207.8)
  201 | (99.8, 207.8)   | (65.8, 207.8)
  202 | (115.6, 207.8)  | (81.6, 207.8)
  203 | (131.3, 207.8)  | (97.3, 207.8)
  204 | (147.1, 207.8)  | (113.1, 207.8)
  205 | (162.9, 207.8)  | (128.9, 207.8)
  206 | (178.7, 207.8)  | (144.7, 207.8)
  207 | (194.5, 207.8)  | (160.5, 207.8)
  208 | (210.2, 207.8)  | (176.2, 207.8)
  209 | (226.0, 207.8)  | (192.0, 207.8)
  210 | (241.8, 207.8)  | (207.8, 207.8)
  211 | (257.6, 207.8)  | (223.6, 207.8)
  212 | (273.4, 207.8)  | (239.4, 207.8)
  213 | (289.1, 207.8)  | (255.1, 207.8)
  214 | (304.9, 207.8)  | (270.9, 207.8)
  215 | (320.7, 207.8)  | (286.7, 207.8)
  216 | (336.5, 207.8)  | (302.5, 207.8)
  217 | (352.3, 207.8)  | (318.3, 207.8)
  218 | (368.0, 207.8)  | (334.0, 207.8)
  219 | (383.8, 207.8)  | (349.8, 207.8)
  220 | (383.8, 223.6)  | (349.8, 223.6)
  221 | (368.0, 223.6)  | (334.0, 223.6)
  222 | (352.3, 223.6)  | (318.3, 223.6)
  223 | (336.5, 223.6)  | (302.5, 223.6)
  224 | (320.7, 223.6)  | (286.7, 223.6)
  225 | (304.9, 223.6)  | (270.9, 223.6)
  226 | (289.1, 223.6)  | (255.1, 223.6)
  227 | (273.4, 223.6)  | (239.4, 223.6)
  228 | (257.6, 223.6)  | (223.6, 223.6)
  229 | (241.8, 223.6)  | (207.8, 223.6)
  230 | (226.0, 223.6)  | (192.0, 223.6)
  231 | (210.2, 223.6)  | (176.2, 223.6)
  232 | (194.5, 223.6)  | (160.5, 223.6)
  233 | (178.7, 223.6)  | (144.7, 223.6)
  234 | (162.9, 223.6)  | (128.9, 223.6)
  235 | (147.1, 223.6)  | (113.1, 223.6)
  236 | (131.3, 223.6)  | (97.3, 223.6)
  237 | (115.6, 223.6)  | (81.6, 223.6)
  238 | (99.8, 223.6)   | (65.8, 223.6)
  239 | (84.0, 223.6)   | (50.0, 223.6)
  240 | (84.0, 239.4)   | (50.0, 239.4)
  241 | (99.8, 239.4)   | (65.8, 239.4)
  242 | (115.6, 239.4)  | (81.6, 239.4)
  243 | (131.3, 239.4)  | (97.3, 239.4)
  244 | (147.1, 239.4)  | (113.1, 239.4)
  245 | (162.9, 239.4)  | (128.9, 239.4)
  246 | (178.7, 239.4)  | (144.7, 239.4)
  247 | (194.5, 239.4)  | (160.5, 239.4)
  248 | (210.2, 239.4)  | (176.2, 239.4)
  249 | (226.0, 239.4)  | (192.0, 239.4)
  250 | (241.8, 239.4)  | (207.8, 239.4)
  251 | (257.6, 239.4)  | (223.6, 239.4)
  252 | (273.4, 239.4)  | (239.4, 239.4)
  253 | (289.1, 239.4)  | (255.1, 239.4)
  254 | (304.9, 239.4)  | (270.9, 239.4)
  255 | (320.7, 239.4)  | (286.7, 239.4)
  256 | (336.5, 239.4)  | (302.5, 239.4)
  257 | (352.3, 239.4)  | (318.3, 239.4)
  258 | (368.0, 239.4)  | (334.0, 239.4)
  259 | (383.8, 239.4)  | (349.8, 239.4)
  260 | (383.8, 255.1)  | (349.8, 255.1)
  261 | (368.0, 255.1)  | (334.0, 255.1)
  262 | (352.3, 255.1)  | (318.3, 255.1)
  263 | (336.5, 255.1)  | (302.5, 255.1)
  264 | (320.7, 255.1)  | (286.7, 255.1)
  265 | (304.9, 255.1)  | (270.9, 255.1)
  266 | (289.1, 255.1)  | (255.1, 255.1)
  267 | (273.4, 255.1)  | (239.4, 255.1)
  268 | (257.6, 255.1)  | (223.6, 255.1)
  269 | (241.8, 255.1)  | (207.8, 255.1)
  270 | (226.0, 255.1)  | (192.0, 255.1)
  271 | (210.2, 255.1)  | (176.2, 255.1)
  272 | (194.5, 255.1)  | (160.5, 255.1)
  273 | (178.7, 255.1)  | (144.7, 255.1)
  274 | (162.9, 255.1)  | (128.9, 255.1)
  275 | (147.1, 255.1)  | (113.1, 255.1)
  276 | (131.3, 255.1)  | (97.3, 255.1)
  277 | (115.6, 255.1)  | (81.6, 255.1)
  278 | (99.8, 255.1)   | (65.8, 255.1)
  279 | (84.0, 255.1)   | (50.0, 255.1)
  280 | (84.0, 270.9)   | (50.0, 270.9)
  281 | (99.8, 270.9)   | (65.8, 270.9)
  282 | (115.6, 270.9)  | (81.6, 270.9)
  283 | (131.3, 270.9)  | (97.3, 270.9)
  284 | (147.1, 270.9)  | (113.1, 270.9)
  285 | (162.9, 270.9)  | (128.9, 270.9)
  286 | (178.7, 270.9)  | (144.7, 270.9)
  287 | (194.5, 270.9)  | (160.5, 270.9)
  288 | (210.2, 270.9)  | (176.2, 270.9)
  289 | (226.0, 270.9)  | (192.0, 270.9)
  290 | (241.8, 270.9)  | (207.8, 270.9)
  291 | (257.6, 270.9)  | (223.6, 270.9)
  292 | (273.4, 270.9)  | (239.4, 270.9)
  293 | (289.1, 270.9)  | (255.1, 270.9)
  294 | (304.9, 270.9)  | (270.9, 270.9)
  295 | (320.7, 270.9)  | (286.7, 270.9)
  296 | (336.5, 270.9)  | (302.5, 270.9)
  297 | (352.3, 270.9)  | (318.3, 270.9)
  298 | (368.0, 270.9)  | (334.0, 270.9)
  299 | (383.8, 270.9)  | (349.8, 270.9)
  300 | (383.8, 286.7)  | (349.8, 286.7)
  301 | (368.0, 286.7)  | (334.0, 286.7)
  302 | (352.3, 286.7)  | (318.3, 286.7)
  303 | (336.5, 286.7)  | (302.5, 286.7)
  304 | (320.7, 286.7)  | (286.7, 286.7)
  305 | (304.9, 286.7)  | (270.9, 286.7)
  306 | (289.1, 286.7)  | (255.1, 286.7)
  307 | (273.4, 286.7)  | (239.4, 286.7)
  308 | (257.6, 286.7)  | (223.6, 286.7)
  309 | (241.8, 286.7)  | (207.8, 286.7)
  310 | (226.0, 286.7)  | (192.0, 286.7)
  311 | (210.2, 286.7)  | (176.2, 286.7)
  312 | (194.5, 286.7)  | (160.5, 286.7)
  313 | (178.7, 286.7)  | (144.7, 286.7)
  314 | (162.9, 286.7)  | (128.9, 286.7)
  315 | (147.1, 286.7)  | (113.1, 286.7)
  316 | (131.3, 286.7)  | (97.3, 286.7)
  317 | (115.6, 286.7)  | (81.6, 286.7)
  318 | (99.8, 286.7)   | (65.8, 286.7)
  319 | (84.0, 286.7)   | (50.0, 286.7)
  320 | (84.0, 302.5)   | (50.0, 302.5)
  321 | (99.8, 302.5)   | (65.8, 302.5)
  322 | (115.6, 302.5)  | (81.6, 302.5)
  323 | (131.3, 302.5)  | (97.3, 302.5)
  324 | (147.1, 302.5)  | (113.1, 302.5)
  325 | (162.9, 302.5)  | (128.9, 302.5)
  326 | (178.7, 302.5)  | (144.7, 302.5)
  327 | (194.5, 302.5)  | (160.5, 302.5)
  328 | (210.2, 302.5)  | (176.2, 302.5)
  329 | (226.0, 302.5)  | (192.0, 302.5)
  330 | (241.8, 302.5)  | (207.8, 302.5)
  331 | (257.6, 302.5)  | (223.6, 302.5)
  332 | (273.4, 302.5)  | (239.4, 302.5)
  333 | (289.1, 302.5)  | (255.1, 302.5)
  334 | (304.9, 302.5)  | (270.9, 302.5)
  335 | (320.7, 302.5)  | (286.7, 302.5)
  336 | (336.5, 302.5)  | (302.5, 302.5)
  337 | (352.3, 302.5)  | (318.3, 302.5)
  338 | (368.0, 302.5)  | (334.0, 302.5)
  339 | (383.8, 302.5)  | (349.8, 302.5)
  340 | (383.8, 318.3)  | (349.8, 318.3)
  341 | (368.0, 318.3)  | (334.0, 318.3)
  342 | (352.3, 318.3)  | (318.3, 318.3)
  343 | (336.5, 318.3)  | (302.5, 318.3)
  344 | (320.7, 318.3)  | (286.7, 318.3)
  345 | (304.9, 318.3)  | (270.9, 318.3)
  346 | (289.1, 318.3)  | (255.1, 318.3)
  347 | (273.4, 318.3)  | (239.4, 318.3)
  348 | (257.6, 318.3)  | (223.6, 318.3)
  349 | (241.8, 318.3)  | (207.8, 318.3)
  350 | (226.0, 318.3)  | (192.0, 318.3)
  351 | (210.2, 318.3)  | (176.2, 318.3)
  352 | (194.5, 318.3)  | (160.5, 318.3)
  353 | (178.7, 318.3)  | (144.7, 318.3)
  354 | (162.9, 318.3)  | (128.9, 318.3)
  355 | (147.1, 318.3)  | (113.1, 318.3)
  356 | (131.3, 318.3)  | (97.3, 318.3)
  357 | (115.6, 318.3)  | (81.6, 318.3)
  358 | (99.8, 318.3)   | (65.8, 318.3)
  359 | (84.0, 318.3)   | (50.0, 318.3)
  360 | (84.0, 334.0)   | (50.0, 334.0)
  361 | (99.8, 334.0)   | (65.8, 334.0)
  362 | (115.6, 334.0)  | (81.6, 334.0)
  363 | (131.3, 334.0)  | (97.3, 334.0)
  364 | (147.1, 334.0)  | (113.1, 334.0)
  365 | (162.9, 334.0)  | (128.9, 334.0)
  366 | (178.7, 334.0)  | (144.7, 334.0)
  367 | (194.5, 334.0)  | (160.5, 334.0)
  368 | (210.2, 334.0)  | (176.2, 334.0)
  369 | (226.0, 334.0)  | (192.0, 334.0)
  370 | (241.8, 334.0)  | (207.8, 334.0)
  371 | (257.6, 334.0)  | (223.6, 334.0)
  372 | (273.4, 334.0)  | (239.4, 334.0)
  373 | (289.1, 334.0)  | (255.1, 334.0)
  374 | (304.9, 334.0)  | (270.9, 334.0)
  375 | (320.7, 334.0)  | (286.7, 334.0)
  376 | (336.5, 334.0)  | (302.5, 334.0)
  377 | (352.3, 334.0)  | (318.3, 334.0)
  378 | (368.0, 334.0)  | (334.0, 334.0)
  379 | (383.8, 334.0)  | (349.8, 334.0)
  380 | (383.8, 349.8)  | (349.8, 349.8)
  381 | (368.0, 349.8)  | (334.0, 349.8)
  382 | (352.3, 349.8)  | (318.3, 349.8)
  383 | (336.5, 349.8)  | (302.5, 349.8)
  384 | (320.7, 349.8)  | (286.7, 349.8)
  385 | (304.9, 349.8)  | (270.9, 349.8)
  386 | (289.1, 349.8)  | (255.1, 349.8)
  387 | (273.4, 349.8)  | (239.4, 349.8)
  388 | (257.6, 349.8)  | (223.6, 349.8)
  389 | (241.8, 349.8)  | (207.8, 349.8)
  390 | (226.0, 349.8)  | (192.0, 349.8)
  391 | (210.2, 349.8)  | (176.2, 349.8)
  392 | (194.5, 349.8)  | (160.5, 349.8)
  393 | (178.7, 349.8)  | (144.7, 349.8)
  394 | (162.9, 349.8)  | (128.9, 349.8)
  395 | (147.1, 349.8)  | (113.1, 349.8)
  396 | (131.3, 349.8)  | (97.3, 349.8)
  397 | (115.6, 349.8)  | (81.6, 349.8)
  398 | (99.8, 349.8)   | (65.8, 349.8)
  399 | (84.0, 349.8)   | (50.0, 349.8)
bed_mesh: zero_reference_position is (200.00, 200.00)
Starting heater checks for extruder
Stats 434.4: gcodein=0  mcu: mcu_awake=0.028 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=3233 bytes_read=6928 bytes_retransmit=0 bytes_invalid=0 send_seq=254 receive_seq=254 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000234 EBBCan: mcu_awake=0.011 mcu_task_avg=0.000018 mcu_task_stddev=0.000055 bytes_write=1467 bytes_read=5062 bytes_retransmit=0 bytes_invalid=0 send_seq=151 receive_seq=151 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000396 adj=63999597 PITB: mcu_awake=0.026 mcu_task_avg=0.000024 mcu_task_stddev=0.000116 bytes_write=1419 bytes_read=4908 bytes_retransmit=0 bytes_invalid=0 send_seq=154 receive_seq=154 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000495 adj=12001015 mcu_pitb: temp=39.2 enclosure_temp: temp=23.8  Bed_Top: temp=25.3 Raspberry_Pi: temp=43.3 mcu_Monster: temp=25.3 mcu_ebb36: temp=31.0 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.65 cputime=6.576 memavail=1534876 print_time=5.602 buffer_time=0.248 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
webhooks: registering remote method 'shutdown_machine' for connection id: 548229738064
webhooks: registering remote method 'reboot_machine' for connection id: 548229738064
webhooks: registering remote method 'pause_job_queue' for connection id: 548229738064
webhooks: registering remote method 'start_job_queue' for connection id: 548229738064
webhooks: registering remote method 'timelapse_newframe' for connection id: 548229738064
webhooks: registering remote method 'timelapse_saveFrames' for connection id: 548229738064
webhooks: registering remote method 'timelapse_render' for connection id: 548229738064
Stats 435.4: gcodein=0  mcu: mcu_awake=0.028 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=3254 bytes_read=7076 bytes_retransmit=0 bytes_invalid=0 send_seq=256 receive_seq=255 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=98 freq=168000530 EBBCan: mcu_awake=0.011 mcu_task_avg=0.000018 mcu_task_stddev=0.000055 bytes_write=1473 bytes_read=5194 bytes_retransmit=0 bytes_invalid=0 send_seq=152 receive_seq=152 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000364 adj=64000884 PITB: mcu_awake=0.026 mcu_task_avg=0.000024 mcu_task_stddev=0.000116 bytes_write=1465 bytes_read=5027 bytes_retransmit=0 bytes_invalid=0 send_seq=159 receive_seq=159 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000328 adj=12000270 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=44.3 mcu_Monster: temp=25.4 mcu_ebb36: temp=30.9 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.60 cputime=6.643 memavail=1526844 print_time=8.115 buffer_time=1.757 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 436.4: gcodein=0  mcu: mcu_awake=0.028 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=3357 bytes_read=7308 bytes_retransmit=0 bytes_invalid=0 send_seq=264 receive_seq=264 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=36 freq=168000358 EBBCan: mcu_awake=0.011 mcu_task_avg=0.000018 mcu_task_stddev=0.000055 bytes_write=1479 bytes_read=5297 bytes_retransmit=0 bytes_invalid=0 send_seq=153 receive_seq=153 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999669 adj=64000188 PITB: mcu_awake=0.026 mcu_task_avg=0.000024 mcu_task_stddev=0.000116 bytes_write=1501 bytes_read=5119 bytes_retransmit=0 bytes_invalid=0 send_seq=163 receive_seq=163 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000277 adj=12000033 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=44.3 mcu_Monster: temp=25.6 mcu_ebb36: temp=30.7 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.60 cputime=6.686 memavail=1525916 print_time=8.115 buffer_time=0.757 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 437.4: gcodein=0  mcu: mcu_awake=0.028 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=3419 bytes_read=7476 bytes_retransmit=0 bytes_invalid=0 send_seq=269 receive_seq=269 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000437 EBBCan: mcu_awake=0.011 mcu_task_avg=0.000018 mcu_task_stddev=0.000055 bytes_write=1485 bytes_read=5400 bytes_retransmit=0 bytes_invalid=0 send_seq=154 receive_seq=154 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999552 adj=63998956 PITB: mcu_awake=0.026 mcu_task_avg=0.000024 mcu_task_stddev=0.000116 bytes_write=1567 bytes_read=5249 bytes_retransmit=0 bytes_invalid=0 send_seq=170 receive_seq=170 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000246 adj=11999960 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.5 Raspberry_Pi: temp=44.3 mcu_Monster: temp=26.1 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.60 cputime=6.704 memavail=1531772 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 438.4: gcodein=0  mcu: mcu_awake=0.028 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=3425 bytes_read=7624 bytes_retransmit=0 bytes_invalid=0 send_seq=270 receive_seq=270 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000862 EBBCan: mcu_awake=0.011 mcu_task_avg=0.000018 mcu_task_stddev=0.000055 bytes_write=1491 bytes_read=5532 bytes_retransmit=0 bytes_invalid=0 send_seq=155 receive_seq=155 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999570 adj=63998632 PITB: mcu_awake=0.026 mcu_task_avg=0.000024 mcu_task_stddev=0.000116 bytes_write=1603 bytes_read=5354 bytes_retransmit=0 bytes_invalid=0 send_seq=174 receive_seq=174 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000256 adj=11999914 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.8 Raspberry_Pi: temp=43.3 mcu_Monster: temp=25.8 mcu_ebb36: temp=31.0 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.60 cputime=6.720 memavail=1531436 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 439.4: gcodein=0  mcu: mcu_awake=0.009 mcu_task_avg=0.000005 mcu_task_stddev=0.000019 bytes_write=3431 bytes_read=7831 bytes_retransmit=0 bytes_invalid=0 send_seq=271 receive_seq=271 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000586 EBBCan: mcu_awake=0.003 mcu_task_avg=0.000010 mcu_task_stddev=0.000010 bytes_write=1497 bytes_read=5649 bytes_retransmit=0 bytes_invalid=0 send_seq=156 receive_seq=156 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999557 adj=63998417 PITB: mcu_awake=0.012 mcu_task_avg=0.000051 mcu_task_stddev=0.000171 bytes_write=1634 bytes_read=5456 bytes_retransmit=0 bytes_invalid=0 send_seq=177 receive_seq=177 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000273 adj=11999925 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.5 Raspberry_Pi: temp=42.4 mcu_Monster: temp=25.6 mcu_ebb36: temp=31.1 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.60 cputime=6.734 memavail=1531436 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 440.4: gcodein=0  mcu: mcu_awake=0.009 mcu_task_avg=0.000005 mcu_task_stddev=0.000019 bytes_write=3437 bytes_read=7979 bytes_retransmit=0 bytes_invalid=0 send_seq=272 receive_seq=272 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000684 EBBCan: mcu_awake=0.003 mcu_task_avg=0.000010 mcu_task_stddev=0.000010 bytes_write=1503 bytes_read=5752 bytes_retransmit=0 bytes_invalid=0 send_seq=157 receive_seq=157 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999539 adj=63998885 PITB: mcu_awake=0.012 mcu_task_avg=0.000051 mcu_task_stddev=0.000171 bytes_write=1665 bytes_read=5543 bytes_retransmit=0 bytes_invalid=0 send_seq=180 receive_seq=180 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000283 adj=12000090 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=42.4 mcu_Monster: temp=25.7 mcu_ebb36: temp=31.1 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.60 cputime=6.753 memavail=1530988 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 441.4: gcodein=0  mcu: mcu_awake=0.009 mcu_task_avg=0.000005 mcu_task_stddev=0.000019 bytes_write=3443 bytes_read=8127 bytes_retransmit=0 bytes_invalid=0 send_seq=273 receive_seq=273 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000455 EBBCan: mcu_awake=0.003 mcu_task_avg=0.000010 mcu_task_stddev=0.000010 bytes_write=1509 bytes_read=5884 bytes_retransmit=0 bytes_invalid=0 send_seq=158 receive_seq=158 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999536 adj=63998831 PITB: mcu_awake=0.012 mcu_task_avg=0.000051 mcu_task_stddev=0.000171 bytes_write=1726 bytes_read=5681 bytes_retransmit=0 bytes_invalid=0 send_seq=186 receive_seq=186 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000276 adj=12000132 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=42.8 mcu_Monster: temp=25.5 mcu_ebb36: temp=31.2 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.55 cputime=6.769 memavail=1530744 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 442.4: gcodein=0  mcu: mcu_awake=0.009 mcu_task_avg=0.000005 mcu_task_stddev=0.000019 bytes_write=3449 bytes_read=8319 bytes_retransmit=0 bytes_invalid=0 send_seq=274 receive_seq=274 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000402 EBBCan: mcu_awake=0.003 mcu_task_avg=0.000010 mcu_task_stddev=0.000010 bytes_write=1515 bytes_read=5987 bytes_retransmit=0 bytes_invalid=0 send_seq=159 receive_seq=159 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999520 adj=63999217 PITB: mcu_awake=0.012 mcu_task_avg=0.000051 mcu_task_stddev=0.000171 bytes_write=1762 bytes_read=5773 bytes_retransmit=0 bytes_invalid=0 send_seq=190 receive_seq=190 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000275 adj=12000189 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.6 Raspberry_Pi: temp=44.8 mcu_Monster: temp=25.5 mcu_ebb36: temp=31.0 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.55 cputime=6.783 memavail=1530744 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 443.4: gcodein=0  mcu: mcu_awake=0.009 mcu_task_avg=0.000005 mcu_task_stddev=0.000019 bytes_write=3455 bytes_read=8467 bytes_retransmit=0 bytes_invalid=0 send_seq=275 receive_seq=275 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000295 EBBCan: mcu_awake=0.003 mcu_task_avg=0.000010 mcu_task_stddev=0.000010 bytes_write=1521 bytes_read=6090 bytes_retransmit=0 bytes_invalid=0 send_seq=160 receive_seq=160 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999539 adj=63999271 PITB: mcu_awake=0.012 mcu_task_avg=0.000051 mcu_task_stddev=0.000171 bytes_write=1793 bytes_read=5860 bytes_retransmit=0 bytes_invalid=0 send_seq=193 receive_seq=193 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000286 adj=12000215 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.6 Raspberry_Pi: temp=42.4 mcu_Monster: temp=25.4 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=25.9 pwm=0.000 sysload=0.55 cputime=6.797 memavail=1530744 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 444.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3461 bytes_read=8630 bytes_retransmit=0 bytes_invalid=0 send_seq=276 receive_seq=276 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000251 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1527 bytes_read=6236 bytes_retransmit=0 bytes_invalid=0 send_seq=161 receive_seq=161 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999564 adj=63999517 PITB: mcu_awake=0.012 mcu_task_avg=0.000057 mcu_task_stddev=0.000192 bytes_write=1829 bytes_read=5980 bytes_retransmit=0 bytes_invalid=0 send_seq=197 receive_seq=197 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000281 adj=12000289 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=43.8 mcu_Monster: temp=25.6 mcu_ebb36: temp=31.1 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.55 cputime=6.812 memavail=1530524 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 445.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3467 bytes_read=8822 bytes_retransmit=0 bytes_invalid=0 send_seq=277 receive_seq=277 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000182 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1533 bytes_read=6339 bytes_retransmit=0 bytes_invalid=0 send_seq=162 receive_seq=162 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999565 adj=63999657 PITB: mcu_awake=0.012 mcu_task_avg=0.000057 mcu_task_stddev=0.000192 bytes_write=1885 bytes_read=6100 bytes_retransmit=0 bytes_invalid=0 send_seq=202 receive_seq=202 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000286 adj=12000276 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.6 Raspberry_Pi: temp=42.8 mcu_Monster: temp=25.5 mcu_ebb36: temp=31.1 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.55 cputime=6.831 memavail=1530076 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 446.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3473 bytes_read=8970 bytes_retransmit=0 bytes_invalid=0 send_seq=278 receive_seq=278 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000217 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1539 bytes_read=6442 bytes_retransmit=0 bytes_invalid=0 send_seq=163 receive_seq=163 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999596 adj=63999720 PITB: mcu_awake=0.012 mcu_task_avg=0.000057 mcu_task_stddev=0.000192 bytes_write=1916 bytes_read=6191 bytes_retransmit=0 bytes_invalid=0 send_seq=205 receive_seq=205 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000298 adj=12000315 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.6 Raspberry_Pi: temp=42.8 mcu_Monster: temp=25.4 mcu_ebb36: temp=31.0 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.50 cputime=6.857 memavail=1530080 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 447.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3479 bytes_read=9118 bytes_retransmit=0 bytes_invalid=0 send_seq=279 receive_seq=279 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000232 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1545 bytes_read=6574 bytes_retransmit=0 bytes_invalid=0 send_seq=164 receive_seq=164 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999602 adj=63999737 PITB: mcu_awake=0.012 mcu_task_avg=0.000057 mcu_task_stddev=0.000192 bytes_write=1947 bytes_read=6296 bytes_retransmit=0 bytes_invalid=0 send_seq=208 receive_seq=208 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000300 adj=12000341 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.6 Raspberry_Pi: temp=43.3 mcu_Monster: temp=25.6 mcu_ebb36: temp=31.1 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.50 cputime=6.883 memavail=1530088 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 448.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3485 bytes_read=9310 bytes_retransmit=0 bytes_invalid=0 send_seq=280 receive_seq=280 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000249 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1551 bytes_read=6677 bytes_retransmit=0 bytes_invalid=0 send_seq=165 receive_seq=165 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999594 adj=63999686 PITB: mcu_awake=0.012 mcu_task_avg=0.000057 mcu_task_stddev=0.000192 bytes_write=1978 bytes_read=6387 bytes_retransmit=0 bytes_invalid=0 send_seq=211 receive_seq=211 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000295 adj=12000331 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=41.9 mcu_Monster: temp=25.6 mcu_ebb36: temp=31.1 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.50 cputime=6.910 memavail=1530596 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 449.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3491 bytes_read=9472 bytes_retransmit=0 bytes_invalid=0 send_seq=281 receive_seq=281 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000340 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1557 bytes_read=6794 bytes_retransmit=0 bytes_invalid=0 send_seq=166 receive_seq=166 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999595 adj=63999572 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000199 bytes_write=2034 bytes_read=6526 bytes_retransmit=0 bytes_invalid=0 send_seq=216 receive_seq=216 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000296 adj=12000293 mcu_pitb: temp=39.3 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=42.4 mcu_Monster: temp=25.5 mcu_ebb36: temp=31.3 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.50 cputime=6.940 memavail=1530596 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 450.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3497 bytes_read=9620 bytes_retransmit=0 bytes_invalid=0 send_seq=282 receive_seq=282 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000334 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1563 bytes_read=6926 bytes_retransmit=0 bytes_invalid=0 send_seq=167 receive_seq=167 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999584 adj=63999384 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000199 bytes_write=2065 bytes_read=6631 bytes_retransmit=0 bytes_invalid=0 send_seq=219 receive_seq=219 retransmit_seq=0 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000295 adj=12000259 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.6 Raspberry_Pi: temp=42.8 mcu_Monster: temp=25.5 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.50 cputime=6.966 memavail=1530112 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 451.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3503 bytes_read=9812 bytes_retransmit=0 bytes_invalid=0 send_seq=283 receive_seq=283 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000283 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1569 bytes_read=7029 bytes_retransmit=0 bytes_invalid=0 send_seq=168 receive_seq=168 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999575 adj=63999365 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000199 bytes_write=2096 bytes_read=6722 bytes_retransmit=0 bytes_invalid=0 send_seq=222 receive_seq=222 retransmit_seq=0 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000295 adj=12000262 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.8 Raspberry_Pi: temp=43.3 mcu_Monster: temp=25.5 mcu_ebb36: temp=31.0 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.46 cputime=6.980 memavail=1530112 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 452.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3509 bytes_read=9960 bytes_retransmit=0 bytes_invalid=0 send_seq=284 receive_seq=284 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000230 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1581 bytes_read=7148 bytes_retransmit=0 bytes_invalid=0 send_seq=170 receive_seq=170 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999543 adj=63999440 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000199 bytes_write=2127 bytes_read=6813 bytes_retransmit=0 bytes_invalid=0 send_seq=225 receive_seq=225 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000290 adj=12000281 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.8 Raspberry_Pi: temp=43.8 mcu_Monster: temp=25.5 mcu_ebb36: temp=30.9 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.46 cputime=6.994 memavail=1530120 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 453.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3515 bytes_read=10108 bytes_retransmit=0 bytes_invalid=0 send_seq=285 receive_seq=285 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000185 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1587 bytes_read=7280 bytes_retransmit=0 bytes_invalid=0 send_seq=171 receive_seq=171 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999528 adj=63999384 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000199 bytes_write=2183 bytes_read=6951 bytes_retransmit=0 bytes_invalid=0 send_seq=230 receive_seq=230 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000286 adj=12000276 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.6 Raspberry_Pi: temp=42.8 mcu_Monster: temp=25.4 mcu_ebb36: temp=31.1 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.46 cputime=7.009 memavail=1530320 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 454.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3521 bytes_read=10307 bytes_retransmit=0 bytes_invalid=0 send_seq=286 receive_seq=286 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000181 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1593 bytes_read=7397 bytes_retransmit=0 bytes_invalid=0 send_seq=172 receive_seq=172 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999519 adj=63999422 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000198 bytes_write=2214 bytes_read=7057 bytes_retransmit=0 bytes_invalid=0 send_seq=233 receive_seq=233 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000283 adj=12000271 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.6 Raspberry_Pi: temp=43.3 mcu_Monster: temp=25.6 mcu_ebb36: temp=31.1 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.46 cputime=7.024 memavail=1530372 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 455.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3527 bytes_read=10445 bytes_retransmit=0 bytes_invalid=0 send_seq=287 receive_seq=287 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000154 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1599 bytes_read=7500 bytes_retransmit=0 bytes_invalid=0 send_seq=173 receive_seq=173 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999524 adj=63999384 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000198 bytes_write=2245 bytes_read=7148 bytes_retransmit=0 bytes_invalid=0 send_seq=236 receive_seq=236 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000279 adj=12000258 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=44.3 mcu_Monster: temp=25.7 mcu_ebb36: temp=31.1 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.46 cputime=7.041 memavail=1530372 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 456.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3533 bytes_read=10593 bytes_retransmit=0 bytes_invalid=0 send_seq=288 receive_seq=288 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000161 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1605 bytes_read=7632 bytes_retransmit=0 bytes_invalid=0 send_seq=174 receive_seq=174 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999544 adj=63999491 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000198 bytes_write=2276 bytes_read=7253 bytes_retransmit=0 bytes_invalid=0 send_seq=239 receive_seq=239 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000279 adj=12000249 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.6 Raspberry_Pi: temp=42.4 mcu_Monster: temp=25.6 mcu_ebb36: temp=31.1 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.43 cputime=7.068 memavail=1530380 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 457.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3539 bytes_read=10785 bytes_retransmit=0 bytes_invalid=0 send_seq=289 receive_seq=289 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000162 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1611 bytes_read=7735 bytes_retransmit=0 bytes_invalid=0 send_seq=175 receive_seq=175 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999543 adj=63999592 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000198 bytes_write=2342 bytes_read=7387 bytes_retransmit=0 bytes_invalid=0 send_seq=246 receive_seq=246 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000280 adj=12000251 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=42.4 mcu_Monster: temp=25.6 mcu_ebb36: temp=31.1 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.43 cputime=7.098 memavail=1530380 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 458.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3545 bytes_read=10933 bytes_retransmit=0 bytes_invalid=0 send_seq=290 receive_seq=290 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000173 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1617 bytes_read=7838 bytes_retransmit=0 bytes_invalid=0 send_seq=176 receive_seq=176 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999543 adj=63999556 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000198 bytes_write=2378 bytes_read=7483 bytes_retransmit=0 bytes_invalid=0 send_seq=250 receive_seq=250 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000280 adj=12000257 mcu_pitb: temp=39.3 enclosure_temp: temp=25.2  Bed_Top: temp=25.6 Raspberry_Pi: temp=43.8 mcu_Monster: temp=25.6 mcu_ebb36: temp=31.0 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.43 cputime=7.124 memavail=1531080 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 459.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3551 bytes_read=11096 bytes_retransmit=0 bytes_invalid=0 send_seq=291 receive_seq=291 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000183 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000010 bytes_write=1623 bytes_read=7984 bytes_retransmit=0 bytes_invalid=0 send_seq=177 receive_seq=177 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999542 adj=63999513 PITB: mcu_awake=0.013 mcu_task_avg=0.000061 mcu_task_stddev=0.000198 bytes_write=2414 bytes_read=7608 bytes_retransmit=0 bytes_invalid=0 send_seq=254 receive_seq=254 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000280 adj=12000259 mcu_pitb: temp=39.3 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=42.8 mcu_Monster: temp=25.4 mcu_ebb36: temp=31.0 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.43 cputime=7.152 memavail=1531136 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 460.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3557 bytes_read=11288 bytes_retransmit=0 bytes_invalid=0 send_seq=292 receive_seq=292 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000153 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000010 bytes_write=1629 bytes_read=8087 bytes_retransmit=0 bytes_invalid=0 send_seq=178 receive_seq=178 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999534 adj=63999472 PITB: mcu_awake=0.013 mcu_task_avg=0.000061 mcu_task_stddev=0.000198 bytes_write=2450 bytes_read=7704 bytes_retransmit=0 bytes_invalid=0 send_seq=258 receive_seq=258 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000281 adj=12000254 mcu_pitb: temp=39.3 enclosure_temp: temp=25.2  Bed_Top: temp=25.6 Raspberry_Pi: temp=41.9 mcu_Monster: temp=25.6 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.43 cputime=7.176 memavail=1529888 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 461.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3563 bytes_read=11436 bytes_retransmit=0 bytes_invalid=0 send_seq=293 receive_seq=293 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000133 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000010 bytes_write=1635 bytes_read=8190 bytes_retransmit=0 bytes_invalid=0 send_seq=179 receive_seq=179 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999524 adj=63999498 PITB: mcu_awake=0.013 mcu_task_avg=0.000061 mcu_task_stddev=0.000198 bytes_write=2516 bytes_read=7838 bytes_retransmit=0 bytes_invalid=0 send_seq=265 receive_seq=265 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000280 adj=12000279 mcu_pitb: temp=39.3 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=43.3 mcu_Monster: temp=25.6 mcu_ebb36: temp=31.1 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.39 cputime=7.192 memavail=1529904 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 462.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3569 bytes_read=11584 bytes_retransmit=0 bytes_invalid=0 send_seq=294 receive_seq=294 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000114 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000010 bytes_write=1641 bytes_read=8322 bytes_retransmit=0 bytes_invalid=0 send_seq=180 receive_seq=180 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999517 adj=63999475 PITB: mcu_awake=0.013 mcu_task_avg=0.000061 mcu_task_stddev=0.000198 bytes_write=2552 bytes_read=7948 bytes_retransmit=0 bytes_invalid=0 send_seq=269 receive_seq=269 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000278 adj=12000280 mcu_pitb: temp=39.3 enclosure_temp: temp=25.2  Bed_Top: temp=25.6 Raspberry_Pi: temp=43.3 mcu_Monster: temp=25.5 mcu_ebb36: temp=31.0 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.39 cputime=7.206 memavail=1529904 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 463.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3575 bytes_read=11776 bytes_retransmit=0 bytes_invalid=0 send_seq=295 receive_seq=295 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000097 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000010 bytes_write=1647 bytes_read=8425 bytes_retransmit=0 bytes_invalid=0 send_seq=181 receive_seq=181 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999544 adj=63999476 PITB: mcu_awake=0.013 mcu_task_avg=0.000061 mcu_task_stddev=0.000198 bytes_write=2588 bytes_read=8044 bytes_retransmit=0 bytes_invalid=0 send_seq=273 receive_seq=273 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000276 adj=12000273 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.6 Raspberry_Pi: temp=42.8 mcu_Monster: temp=25.5 mcu_ebb36: temp=31.0 heater_bed: target=0 temp=25.9 pwm=0.000 sysload=0.39 cputime=7.220 memavail=1530604 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 464.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3581 bytes_read=11939 bytes_retransmit=0 bytes_invalid=0 send_seq=296 receive_seq=296 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000081 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1653 bytes_read=8542 bytes_retransmit=0 bytes_invalid=0 send_seq=182 receive_seq=182 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999537 adj=63999724 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000181 bytes_write=2624 bytes_read=8155 bytes_retransmit=0 bytes_invalid=0 send_seq=277 receive_seq=277 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000275 adj=12000268 mcu_pitb: temp=39.3 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=44.3 mcu_Monster: temp=25.6 mcu_ebb36: temp=31.2 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.39 cputime=7.235 memavail=1530660 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.8 pwm=0.000
Stats 465.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3587 bytes_read=12087 bytes_retransmit=0 bytes_invalid=0 send_seq=297 receive_seq=297 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000074 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1659 bytes_read=8674 bytes_retransmit=0 bytes_invalid=0 send_seq=183 receive_seq=183 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999539 adj=63999665 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000181 bytes_write=2685 bytes_read=8298 bytes_retransmit=0 bytes_invalid=0 send_seq=283 receive_seq=283 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000273 adj=12000269 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=43.8 mcu_Monster: temp=25.7 mcu_ebb36: temp=30.9 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.39 cputime=7.255 memavail=1532664 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 466.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3593 bytes_read=12279 bytes_retransmit=0 bytes_invalid=0 send_seq=298 receive_seq=298 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000076 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1665 bytes_read=8777 bytes_retransmit=0 bytes_invalid=0 send_seq=184 receive_seq=184 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999532 adj=63999659 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000181 bytes_write=2721 bytes_read=8394 bytes_retransmit=0 bytes_invalid=0 send_seq=287 receive_seq=287 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000273 adj=12000262 mcu_pitb: temp=39.3 enclosure_temp: temp=25.2  Bed_Top: temp=25.6 Raspberry_Pi: temp=43.8 mcu_Monster: temp=25.6 mcu_ebb36: temp=30.9 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.44 cputime=7.283 memavail=1532412 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 467.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3599 bytes_read=12427 bytes_retransmit=0 bytes_invalid=0 send_seq=299 receive_seq=299 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000083 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1671 bytes_read=8880 bytes_retransmit=0 bytes_invalid=0 send_seq=185 receive_seq=185 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999527 adj=63999560 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000181 bytes_write=2752 bytes_read=8485 bytes_retransmit=0 bytes_invalid=0 send_seq=290 receive_seq=290 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000274 adj=12000261 mcu_pitb: temp=39.3 enclosure_temp: temp=25.2  Bed_Top: temp=25.6 Raspberry_Pi: temp=42.4 mcu_Monster: temp=25.4 mcu_ebb36: temp=31.0 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.44 cputime=7.309 memavail=1532412 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 468.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3605 bytes_read=12590 bytes_retransmit=0 bytes_invalid=0 send_seq=300 receive_seq=300 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000096 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1677 bytes_read=9012 bytes_retransmit=0 bytes_invalid=0 send_seq=186 receive_seq=186 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999527 adj=63999490 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000181 bytes_write=2783 bytes_read=8590 bytes_retransmit=0 bytes_invalid=0 send_seq=293 receive_seq=293 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000275 adj=12000263 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=42.8 mcu_Monster: temp=25.4 mcu_ebb36: temp=30.9 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.44 cputime=7.336 memavail=1532160 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 469.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3611 bytes_read=12782 bytes_retransmit=0 bytes_invalid=0 send_seq=301 receive_seq=301 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000086 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1683 bytes_read=9129 bytes_retransmit=0 bytes_invalid=0 send_seq=187 receive_seq=187 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999525 adj=63999442 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000187 bytes_write=2844 bytes_read=8729 bytes_retransmit=0 bytes_invalid=0 send_seq=299 receive_seq=299 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=5 freq=12000274 adj=12000264 mcu_pitb: temp=39.3 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=42.8 mcu_Monster: temp=25.7 mcu_ebb36: temp=31.0 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.44 cputime=7.367 memavail=1532168 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 470.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3617 bytes_read=12930 bytes_retransmit=0 bytes_invalid=0 send_seq=302 receive_seq=302 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000090 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1689 bytes_read=9232 bytes_retransmit=0 bytes_invalid=0 send_seq=188 receive_seq=188 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999529 adj=63999477 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000187 bytes_write=2885 bytes_read=8839 bytes_retransmit=0 bytes_invalid=0 send_seq=303 receive_seq=303 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000274 adj=12000269 mcu_pitb: temp=39.3 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=42.8 mcu_Monster: temp=25.6 mcu_ebb36: temp=31.3 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.44 cputime=7.390 memavail=1531496 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 471.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3623 bytes_read=13093 bytes_retransmit=0 bytes_invalid=0 send_seq=303 receive_seq=303 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000072 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1695 bytes_read=9364 bytes_retransmit=0 bytes_invalid=0 send_seq=189 receive_seq=189 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999524 adj=63999499 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000187 bytes_write=2916 bytes_read=8944 bytes_retransmit=0 bytes_invalid=0 send_seq=306 receive_seq=306 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000273 adj=12000264 mcu_pitb: temp=39.3 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=42.8 mcu_Monster: temp=25.5 mcu_ebb36: temp=31.1 heater_bed: target=0 temp=25.9 pwm=0.000 sysload=0.49 cputime=7.404 memavail=1531496 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 472.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3629 bytes_read=13270 bytes_retransmit=0 bytes_invalid=0 send_seq=304 receive_seq=304 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000061 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1701 bytes_read=9467 bytes_retransmit=0 bytes_invalid=0 send_seq=190 receive_seq=190 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999517 adj=63999516 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000187 bytes_write=2947 bytes_read=9035 bytes_retransmit=0 bytes_invalid=0 send_seq=309 receive_seq=309 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000272 adj=12000267 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.6 Raspberry_Pi: temp=42.8 mcu_Monster: temp=25.6 mcu_ebb36: temp=31.1 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.49 cputime=7.418 memavail=1531496 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 473.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3635 bytes_read=13418 bytes_retransmit=0 bytes_invalid=0 send_seq=305 receive_seq=305 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000051 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1707 bytes_read=9570 bytes_retransmit=0 bytes_invalid=0 send_seq=191 receive_seq=191 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999511 adj=63999486 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000187 bytes_write=2978 bytes_read=9126 bytes_retransmit=0 bytes_invalid=0 send_seq=312 receive_seq=312 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000271 adj=12000261 mcu_pitb: temp=39.3 enclosure_temp: temp=25.2  Bed_Top: temp=25.6 Raspberry_Pi: temp=43.8 mcu_Monster: temp=25.7 mcu_ebb36: temp=31.2 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.49 cputime=7.432 memavail=1531496 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 474.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3641 bytes_read=13595 bytes_retransmit=0 bytes_invalid=0 send_seq=306 receive_seq=306 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000047 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1713 bytes_read=9716 bytes_retransmit=0 bytes_invalid=0 send_seq=192 receive_seq=192 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999505 adj=63999473 PITB: mcu_awake=0.012 mcu_task_avg=0.000057 mcu_task_stddev=0.000200 bytes_write=3034 bytes_read=9279 bytes_retransmit=0 bytes_invalid=0 send_seq=317 receive_seq=317 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000271 adj=12000262 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=43.8 mcu_Monster: temp=25.7 mcu_ebb36: temp=31.1 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.49 cputime=7.448 memavail=1531496 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 475.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3647 bytes_read=13772 bytes_retransmit=0 bytes_invalid=0 send_seq=307 receive_seq=307 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000037 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1719 bytes_read=9819 bytes_retransmit=0 bytes_invalid=0 send_seq=193 receive_seq=193 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999501 adj=63999436 PITB: mcu_awake=0.012 mcu_task_avg=0.000057 mcu_task_stddev=0.000200 bytes_write=3065 bytes_read=9370 bytes_retransmit=0 bytes_invalid=0 send_seq=320 receive_seq=320 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000270 adj=12000272 mcu_pitb: temp=39.3 enclosure_temp: temp=25.2  Bed_Top: temp=25.8 Raspberry_Pi: temp=43.3 mcu_Monster: temp=25.7 mcu_ebb36: temp=31.0 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.49 cputime=7.466 memavail=1530816 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 476.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3653 bytes_read=13920 bytes_retransmit=0 bytes_invalid=0 send_seq=308 receive_seq=308 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000043 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1725 bytes_read=9922 bytes_retransmit=0 bytes_invalid=0 send_seq=194 receive_seq=194 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999502 adj=63999451 PITB: mcu_awake=0.012 mcu_task_avg=0.000057 mcu_task_stddev=0.000200 bytes_write=3096 bytes_read=9461 bytes_retransmit=0 bytes_invalid=0 send_seq=323 receive_seq=323 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000270 adj=12000265 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=43.8 mcu_Monster: temp=25.6 mcu_ebb36: temp=31.0 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.45 cputime=7.494 memavail=1530832 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 477.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3659 bytes_read=14083 bytes_retransmit=0 bytes_invalid=0 send_seq=309 receive_seq=309 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000045 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1731 bytes_read=10054 bytes_retransmit=0 bytes_invalid=0 send_seq=195 receive_seq=195 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999535 adj=63999439 PITB: mcu_awake=0.012 mcu_task_avg=0.000057 mcu_task_stddev=0.000200 bytes_write=3127 bytes_read=9566 bytes_retransmit=0 bytes_invalid=0 send_seq=326 receive_seq=326 retransmit_seq=0 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000271 adj=12000261 mcu_pitb: temp=39.3 enclosure_temp: temp=25.2  Bed_Top: temp=25.8 Raspberry_Pi: temp=42.8 mcu_Monster: temp=25.6 mcu_ebb36: temp=31.2 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.45 cputime=7.523 memavail=1530832 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 478.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3665 bytes_read=14260 bytes_retransmit=0 bytes_invalid=0 send_seq=310 receive_seq=310 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000032 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1737 bytes_read=10157 bytes_retransmit=0 bytes_invalid=0 send_seq=196 receive_seq=196 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999531 adj=63999767 PITB: mcu_awake=0.012 mcu_task_avg=0.000057 mcu_task_stddev=0.000200 bytes_write=3188 bytes_read=9695 bytes_retransmit=0 bytes_invalid=0 send_seq=332 receive_seq=332 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000270 adj=12000267 mcu_pitb: temp=39.3 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=42.8 mcu_Monster: temp=25.7 mcu_ebb36: temp=31.1 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.45 cputime=7.550 memavail=1530836 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 479.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3671 bytes_read=14423 bytes_retransmit=0 bytes_invalid=0 send_seq=311 receive_seq=311 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000040 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1743 bytes_read=10274 bytes_retransmit=0 bytes_invalid=0 send_seq=197 receive_seq=197 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999526 adj=63999708 PITB: mcu_awake=0.013 mcu_task_avg=0.000062 mcu_task_stddev=0.000207 bytes_write=3219 bytes_read=9801 bytes_retransmit=0 bytes_invalid=0 send_seq=335 receive_seq=335 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000270 adj=12000276 mcu_pitb: temp=39.3 enclosure_temp: temp=25.2  Bed_Top: temp=25.8 Raspberry_Pi: temp=43.8 mcu_Monster: temp=25.8 mcu_ebb36: temp=31.1 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.45 cputime=7.578 memavail=1530836 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 480.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3683 bytes_read=14591 bytes_retransmit=0 bytes_invalid=0 send_seq=313 receive_seq=313 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000030 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1749 bytes_read=10406 bytes_retransmit=0 bytes_invalid=0 send_seq=198 receive_seq=198 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999524 adj=63999581 PITB: mcu_awake=0.013 mcu_task_avg=0.000062 mcu_task_stddev=0.000207 bytes_write=3250 bytes_read=9906 bytes_retransmit=0 bytes_invalid=0 send_seq=338 receive_seq=338 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000270 adj=12000267 mcu_pitb: temp=39.3 enclosure_temp: temp=25.2  Bed_Top: temp=25.8 Raspberry_Pi: temp=42.8 mcu_Monster: temp=25.7 mcu_ebb36: temp=31.1 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.45 cputime=7.601 memavail=1530288 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 481.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3689 bytes_read=14760 bytes_retransmit=0 bytes_invalid=0 send_seq=314 receive_seq=314 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000023 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1755 bytes_read=10509 bytes_retransmit=0 bytes_invalid=0 send_seq=199 receive_seq=199 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999516 adj=63999538 PITB: mcu_awake=0.013 mcu_task_avg=0.000062 mcu_task_stddev=0.000207 bytes_write=3281 bytes_read=9997 bytes_retransmit=0 bytes_invalid=0 send_seq=341 receive_seq=341 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000269 adj=12000259 mcu_pitb: temp=39.3 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=43.8 mcu_Monster: temp=25.7 mcu_ebb36: temp=31.1 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.41 cputime=7.615 memavail=1530344 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 482.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3695 bytes_read=14908 bytes_retransmit=0 bytes_invalid=0 send_seq=315 receive_seq=315 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000011 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1761 bytes_read=10612 bytes_retransmit=0 bytes_invalid=0 send_seq=200 receive_seq=200 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999509 adj=63999476 PITB: mcu_awake=0.013 mcu_task_avg=0.000062 mcu_task_stddev=0.000207 bytes_write=3342 bytes_read=10126 bytes_retransmit=0 bytes_invalid=0 send_seq=347 receive_seq=347 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000268 adj=12000260 mcu_pitb: temp=39.3 enclosure_temp: temp=25.2  Bed_Top: temp=25.8 Raspberry_Pi: temp=44.3 mcu_Monster: temp=25.8 mcu_ebb36: temp=31.0 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.41 cputime=7.630 memavail=1530344 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 483.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3701 bytes_read=15071 bytes_retransmit=0 bytes_invalid=0 send_seq=316 receive_seq=316 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000003 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1767 bytes_read=10744 bytes_retransmit=0 bytes_invalid=0 send_seq=201 receive_seq=201 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999506 adj=63999461 PITB: mcu_awake=0.013 mcu_task_avg=0.000062 mcu_task_stddev=0.000207 bytes_write=3373 bytes_read=10231 bytes_retransmit=0 bytes_invalid=0 send_seq=350 receive_seq=350 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000268 adj=12000262 mcu_pitb: temp=39.3 enclosure_temp: temp=25.2  Bed_Top: temp=25.8 Raspberry_Pi: temp=43.3 mcu_Monster: temp=25.5 mcu_ebb36: temp=31.2 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.41 cputime=7.644 memavail=1530544 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 484.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3707 bytes_read=15262 bytes_retransmit=0 bytes_invalid=0 send_seq=317 receive_seq=317 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999994 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1773 bytes_read=10847 bytes_retransmit=0 bytes_invalid=0 send_seq=202 receive_seq=202 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999499 adj=63999476 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000196 bytes_write=3404 bytes_read=10337 bytes_retransmit=0 bytes_invalid=0 send_seq=353 receive_seq=353 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000268 adj=12000269 mcu_pitb: temp=39.4 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=43.8 mcu_Monster: temp=25.9 mcu_ebb36: temp=31.0 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.41 cputime=7.658 memavail=1530604 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 485.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3713 bytes_read=15410 bytes_retransmit=0 bytes_invalid=0 send_seq=318 receive_seq=318 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000001 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1779 bytes_read=10964 bytes_retransmit=0 bytes_invalid=0 send_seq=203 receive_seq=203 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999493 adj=63999447 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000196 bytes_write=3435 bytes_read=10428 bytes_retransmit=0 bytes_invalid=0 send_seq=356 receive_seq=356 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000267 adj=12000269 mcu_pitb: temp=39.4 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=42.8 mcu_Monster: temp=25.7 mcu_ebb36: temp=31.2 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.41 cputime=7.677 memavail=1529888 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 486.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3719 bytes_read=15573 bytes_retransmit=0 bytes_invalid=0 send_seq=319 receive_seq=319 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999998 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1785 bytes_read=11096 bytes_retransmit=0 bytes_invalid=0 send_seq=204 receive_seq=204 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999497 adj=63999370 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000196 bytes_write=3491 bytes_read=10566 bytes_retransmit=0 bytes_invalid=0 send_seq=361 receive_seq=361 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000267 adj=12000260 mcu_pitb: temp=39.4 enclosure_temp: temp=25.2  Bed_Top: temp=25.8 Raspberry_Pi: temp=43.3 mcu_Monster: temp=25.5 mcu_ebb36: temp=31.1 heater_bed: target=0 temp=25.9 pwm=0.000 sysload=0.38 cputime=7.706 memavail=1529640 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 487.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3725 bytes_read=15750 bytes_retransmit=0 bytes_invalid=0 send_seq=320 receive_seq=320 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000026 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1791 bytes_read=11199 bytes_retransmit=0 bytes_invalid=0 send_seq=205 receive_seq=205 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999495 adj=63999448 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000196 bytes_write=3522 bytes_read=10657 bytes_retransmit=0 bytes_invalid=0 send_seq=364 receive_seq=364 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000267 adj=12000265 mcu_pitb: temp=39.4 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=42.8 mcu_Monster: temp=25.7 mcu_ebb36: temp=31.3 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.38 cputime=7.733 memavail=1529640 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 488.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3731 bytes_read=15898 bytes_retransmit=0 bytes_invalid=0 send_seq=321 receive_seq=321 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000051 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1797 bytes_read=11302 bytes_retransmit=0 bytes_invalid=0 send_seq=206 receive_seq=206 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999494 adj=63999325 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000196 bytes_write=3559 bytes_read=10764 bytes_retransmit=0 bytes_invalid=0 send_seq=368 receive_seq=368 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000268 adj=12000247 mcu_pitb: temp=39.3 enclosure_temp: temp=25.2  Bed_Top: temp=25.9 Raspberry_Pi: temp=42.8 mcu_Monster: temp=25.7 mcu_ebb36: temp=31.2 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.38 cputime=7.761 memavail=1531436 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 489.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3737 bytes_read=16076 bytes_retransmit=0 bytes_invalid=0 send_seq=322 receive_seq=322 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000071 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1803 bytes_read=11434 bytes_retransmit=0 bytes_invalid=0 send_seq=207 receive_seq=207 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999491 adj=63999255 PITB: mcu_awake=0.012 mcu_task_avg=0.000057 mcu_task_stddev=0.000198 bytes_write=3595 bytes_read=10889 bytes_retransmit=0 bytes_invalid=0 send_seq=372 receive_seq=372 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000268 adj=12000240 mcu_pitb: temp=39.3 enclosure_temp: temp=25.2  Bed_Top: temp=25.8 Raspberry_Pi: temp=42.8 mcu_Monster: temp=25.6 mcu_ebb36: temp=31.0 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.38 cputime=7.789 memavail=1531184 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 490.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3743 bytes_read=16253 bytes_retransmit=0 bytes_invalid=0 send_seq=323 receive_seq=323 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000056 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1809 bytes_read=11551 bytes_retransmit=0 bytes_invalid=0 send_seq=208 receive_seq=208 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999491 adj=63999194 PITB: mcu_awake=0.012 mcu_task_avg=0.000057 mcu_task_stddev=0.000198 bytes_write=3661 bytes_read=11023 bytes_retransmit=0 bytes_invalid=0 send_seq=379 receive_seq=379 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000268 adj=12000232 mcu_pitb: temp=39.3 enclosure_temp: temp=25.2  Bed_Top: temp=25.6 Raspberry_Pi: temp=43.8 mcu_Monster: temp=25.7 mcu_ebb36: temp=31.2 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.38 cputime=7.813 memavail=1529032 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 491.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3749 bytes_read=16401 bytes_retransmit=0 bytes_invalid=0 send_seq=324 receive_seq=324 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000044 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1815 bytes_read=11654 bytes_retransmit=0 bytes_invalid=0 send_seq=209 receive_seq=209 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999489 adj=63999275 PITB: mcu_awake=0.012 mcu_task_avg=0.000057 mcu_task_stddev=0.000198 bytes_write=3697 bytes_read=11119 bytes_retransmit=0 bytes_invalid=0 send_seq=383 receive_seq=383 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000267 adj=12000238 mcu_pitb: temp=39.4 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=43.3 mcu_Monster: temp=25.7 mcu_ebb36: temp=31.1 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.51 cputime=7.826 memavail=1529296 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 492.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3755 bytes_read=16564 bytes_retransmit=0 bytes_invalid=0 send_seq=325 receive_seq=325 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000035 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1821 bytes_read=11786 bytes_retransmit=0 bytes_invalid=0 send_seq=210 receive_seq=210 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999498 adj=63999349 PITB: mcu_awake=0.012 mcu_task_avg=0.000057 mcu_task_stddev=0.000198 bytes_write=3733 bytes_read=11229 bytes_retransmit=0 bytes_invalid=0 send_seq=387 receive_seq=387 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000268 adj=12000250 mcu_pitb: temp=39.5 enclosure_temp: temp=25.2  Bed_Top: temp=25.8 Raspberry_Pi: temp=43.8 mcu_Monster: temp=25.9 mcu_ebb36: temp=31.2 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.51 cputime=7.840 memavail=1528792 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 493.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3761 bytes_read=16741 bytes_retransmit=0 bytes_invalid=0 send_seq=326 receive_seq=326 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000029 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1827 bytes_read=11889 bytes_retransmit=0 bytes_invalid=0 send_seq=211 receive_seq=211 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999491 adj=63999523 PITB: mcu_awake=0.012 mcu_task_avg=0.000057 mcu_task_stddev=0.000198 bytes_write=3769 bytes_read=11325 bytes_retransmit=0 bytes_invalid=0 send_seq=391 receive_seq=391 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000268 adj=12000269 mcu_pitb: temp=39.5 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=42.8 mcu_Monster: temp=25.8 mcu_ebb36: temp=31.2 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.51 cputime=7.855 memavail=1529104 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 494.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3767 bytes_read=16904 bytes_retransmit=0 bytes_invalid=0 send_seq=327 receive_seq=327 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000021 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1833 bytes_read=11992 bytes_retransmit=0 bytes_invalid=0 send_seq=212 receive_seq=212 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999489 adj=63999466 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000179 bytes_write=3835 bytes_read=11474 bytes_retransmit=0 bytes_invalid=0 send_seq=398 receive_seq=398 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000267 adj=12000266 mcu_pitb: temp=39.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=43.8 mcu_Monster: temp=25.6 mcu_ebb36: temp=31.3 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.51 cputime=7.871 memavail=1529804 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 495.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3773 bytes_read=17067 bytes_retransmit=0 bytes_invalid=0 send_seq=328 receive_seq=328 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000021 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1839 bytes_read=12134 bytes_retransmit=0 bytes_invalid=0 send_seq=213 receive_seq=213 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999483 adj=63999474 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000179 bytes_write=3871 bytes_read=11584 bytes_retransmit=0 bytes_invalid=0 send_seq=402 receive_seq=402 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000268 adj=12000271 mcu_pitb: temp=39.3 enclosure_temp: temp=25.2  Bed_Top: temp=25.8 Raspberry_Pi: temp=43.8 mcu_Monster: temp=25.6 mcu_ebb36: temp=31.1 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.51 cputime=7.890 memavail=1531128 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 496.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3779 bytes_read=17244 bytes_retransmit=0 bytes_invalid=0 send_seq=329 receive_seq=329 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000025 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1845 bytes_read=12230 bytes_retransmit=0 bytes_invalid=0 send_seq=214 receive_seq=214 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999484 adj=63999414 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000179 bytes_write=3907 bytes_read=11680 bytes_retransmit=0 bytes_invalid=0 send_seq=406 receive_seq=406 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000268 adj=12000272 mcu_pitb: temp=39.5 enclosure_temp: temp=25.2  Bed_Top: temp=25.7 Raspberry_Pi: temp=43.3 mcu_Monster: temp=25.7 mcu_ebb36: temp=31.3 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.47 cputime=7.918 memavail=1531128 print_time=8.115 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Starting Klippy...
Args: ['/home/pi/klipper/klippy/klippy.py', '/home/pi/printer_data/config/printer.cfg', '-I', '/home/pi/printer_data/comms/klippy.serial', '-l', '/home/pi/printer_data/logs/klippy.log', '-a', '/home/pi/printer_data/comms/klippy.sock']
Git version: 'v0.12.0-267-g12cd1d9e-dirty'
Untracked files: klippy/extras/BDsensor.py
Modified files: src/Makefile
Branch: master
Remote: origin
Tracked URL: https://github.com/Klipper3d/klipper
CPU: 4 core ?
Python: '3.11.2 (main, May  2 2024, 11:59:08) [GCC 12.2.0]'
Start printer at Tue Jul 30 14:02:25 2024 (1722344545.3 18.6)
===== Config file =====
[mcu]
canbus_uuid = 70559fc0ed52

[mcu EBBCan]
canbus_uuid = 1e0fae8aa7ce

[save_variables]
filename = ~/printer_data/config/variables.cfg

[fan_generic Air_Scrubber]
pin = PA2
max_power = 1
off_below = 0.25
kick_start_time = 0.5

[delayed_gcode filter_off]
gcode = 
	SET_FAN_SPEED FAN=Air_Scrubber SPEED=0

[gcode_macro TOGGLE_Air_Scrubber]
gcode = 
	{% if printer['fan_generic Air_Scrubber'].speed > 0 %}
	SET_FAN_SPEED FAN=Air_Scrubber SPEED=0
	{% else %}
	SET_FAN_SPEED FAN=Air_Scrubber SPEED=1
	{% endif %}

[tmc2209 manual_stepper selector]
uart_pin = PB7
run_current = 0.3
stealthchop_threshold = 0

[tmc2209 manual_stepper chameleon]
uart_pin = PD15
run_current = 0.8
stealthchop_threshold = 0

[manual_stepper selector]
step_pin = PE1
dir_pin = PE0
enable_pin = !PE2
microsteps = 1
rotation_distance = 2

[manual_stepper chameleon]
step_pin = PC7
dir_pin = PC6
enable_pin = !PC8
microsteps = 16
rotation_distance = 34.408602151

[neopixel mmu_LED]
pin = PE15
chain_count = 3
color_order = GRBW
initial_red = 0.3
initial_green = 0.3
initial_blue = 0.3
initial_white = 0.0

[gcode_macro TOOL_INIT]
description = homes the tool selector. Needed before any tool change.
variable_tool = 0
variable_ysplit_distance = 670
gcode = 
	MANUAL_STEPPER STEPPER=selector SET_POSITION=0
	MANUAL_STEPPER STEPPER=selector MOVE=-1.65
	MANUAL_STEPPER STEPPER=selector SET_POSITION=0
	MANUAL_STEPPER STEPPER=selector MOVE=0.12
	MANUAL_STEPPER STEPPER=selector SET_POSITION=0
	MANUAL_STEPPER STEPPER=chameleon SET_POSITION=0
	
	SET_GCODE_VARIABLE MACRO=TOOL_INIT VARIABLE=tool VALUE={TOOL}
	SET_GCODE_VARIABLE MACRO=TOOL_INIT VARIABLE=ysplit_distance VALUE={YSPLIT_DISTANCE}

[gcode_macro WIPE]
gcode = 
	G1 X170 F5000
	G1 X250
	G1 X170
	G1 X250

[gcode_macro _Cut_Filament]
description = Cut filament by pressing the cutter on a pin with a horizontal movement.
gcode = 
	{% set svv = printer.save_variables.variables %}
	SAVE_GCODE_STATE NAME=_filament_change_state
	{% set prev_pa = printer.extruder.pressure_advance %}
	SET_PRESSURE_ADVANCE ADVANCE=0
	G1 E-33 F3000
	G1 X15 Y0 F10000
	G1 X15 Y-23 F10000
	G1 X-2 Y-23 F10000
	
	
	G1 E-100 F3000
	G1 X15 Y-23 F10000
	SET_PRESSURE_ADVANCE ADVANCE={prev_pa}
	RESTORE_GCODE_STATE NAME=_filament_change_state MOVE=1

[gcode_macro TS0]
gcode = 
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=0 WHITE=1 INDEX=1 TRANSMIT=1
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=0 WHITE=0 INDEX=3 TRANSMIT=1
	TOOL_SELECT TOOL=0

[gcode_macro TS1]
gcode = 
	SET_LED LED=mmu_LED RED=1 GREEN=0 BLUE=0 WHITE=0 INDEX=1 TRANSMIT=1
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=0 WHITE=0 INDEX=3 TRANSMIT=1
	TOOL_SELECT TOOL=1

[gcode_macro TS2]
gcode = 
	SET_LED LED=mmu_LED RED=0 GREEN=1 BLUE=0 WHITE=0 INDEX=1 TRANSMIT=1
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=0 WHITE=0 INDEX=3 TRANSMIT=1
	TOOL_SELECT TOOL=2

[gcode_macro TS3]
gcode = 
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=1 WHITE=0 INDEX=1 TRANSMIT=1
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=0 WHITE=0 INDEX=3 TRANSMIT=1
	TOOL_SELECT TOOL=3

[gcode_macro TOOL_SELECT]
gcode = 
	{% set TOOL = params.TOOL|int %}
	M117 "Setting tool to TOOL{TOOL}"
	{% if TOOL == 0 %}
	MANUAL_STEPPER stepper=selector MOVE=0
	{% elif TOOL == 1 %}
	MANUAL_STEPPER stepper=selector MOVE=0.5
	{% elif TOOL == 2 %}
	MANUAL_STEPPER stepper=selector MOVE=1.0
	{% elif TOOL == 3 %}
	MANUAL_STEPPER stepper=selector MOVE=1.5
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TOOL_INIT VARIABLE=tool VALUE={TOOL}

[gcode_macro TOOL_FREE]
gcode = 
	{% set TOOL = params.TOOL|int %}
	M117 "Free filament path for tool {TOOL}"
	{% if TOOL == 0 %}
	MANUAL_STEPPER stepper=selector MOVE=1
	{% elif TOOL == 1 %}
	MANUAL_STEPPER stepper=selector MOVE=1.5
	{% elif TOOL == 2 %}
	MANUAL_STEPPER stepper=selector MOVE=0
	{% elif TOOL == 3 %}
	MANUAL_STEPPER stepper=selector MOVE=0.5
	{% endif %}

[gcode_macro CHAMELEON_UNLOAD]
description = Unloads the filament from the tubing
gcode = 
	SET_LED LED=mmu_LED RED=1 GREEN=0 BLUE=0 WHITE=0 INDEX=2 TRANSMIT=1
	{% set TOOL=printer["gcode_macro TOOL_INIT"].tool %}
	{% set YSPLIT_DIST=printer["gcode_macro TOOL_INIT"].ysplit_distance %}
	MANUAL_STEPPER STEPPER=chameleon SET_POSITION=0
	{% if TOOL == 0 or TOOL == 1 %}
	M117 "Move tool {TOOL} by -{YSPLIT_DIST}"
	MANUAL_STEPPER stepper=chameleon MOVE=-{YSPLIT_DIST} SPEED=200 ACCEL=200
	{% else %}
	M117 "Move tool {TOOL} by {YSPLIT_DIST}"
	MANUAL_STEPPER stepper=chameleon MOVE={YSPLIT_DIST} SPEED=200 ACCEL=200
	{% endif %}
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=0 WHITE=1 INDEX=2 TRANSMIT=1

[gcode_macro CHAMELEON_LOAD]
description = Loads the filament into the extruder bowden
gcode = 
	SET_LED LED=mmu_LED RED=0 GREEN=1 BLUE=0 WHITE=0 INDEX=2 TRANSMIT=1
	{% set TOOL=printer["gcode_macro TOOL_INIT"].tool %}
	{% set YSPLIT_DIST=printer["gcode_macro TOOL_INIT"].ysplit_distance %}
	MANUAL_STEPPER STEPPER=chameleon SET_POSITION=0
	{% if TOOL == 0 or TOOL == 1 %}
	M117 "Move tool {TOOL} by {YSPLIT_DIST}"
	MANUAL_STEPPER stepper=chameleon MOVE={YSPLIT_DIST} SPEED=200 ACCEL=200
	{% else %}
	M117 "Move tool {TOOL} by -{YSPLIT_DIST}"
	MANUAL_STEPPER stepper=chameleon MOVE=-{YSPLIT_DIST} SPEED=200 ACCEL=200
	{% endif %}
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=0 WHITE=1 INDEX=2 TRANSMIT=1

[gcode_macro EXTRUDER_UNLOAD]
description = Unloads the filament from the extruder before a tool change
gcode = 
	_Cut_Filament

[gcode_macro EXTRUDER_LOAD]
description = Loads the filament in the extruder after a tool change
gcode = 
	G92 E0
	G1 E98 F3000
	G1 E5 F300

[gcode_macro T0]
description = Changes the filament to that loaded in tool 0
gcode = 
	
	{% set TOOL= printer["gcode_macro TOOL_INIT"].tool %}
	{% set YSPLIT_DIST=printer["gcode_macro TOOL_INIT"].ysplit_distance %}
	
	PAUSE
	EXTRUDER_UNLOAD
	TOOL_SELECT TOOL={TOOL}
	CHAMELEON_UNLOAD
	
	{% set TOOL=0 %}
	SET_GCODE_VARIABLE MACRO=TOOL_INIT VARIABLE=tool VALUE=0
	TOOL_SELECT TOOL={TOOL}
	CHAMELEON_LOAD
	
	TOOL_FREE TOOL={TOOL}
	EXTRUDER_LOAD
	
	WIPE
	
	RESUME

[gcode_macro T1]
description = Changes the filament to that loaded in tool 1
gcode = 
	
	{% set TOOL= printer["gcode_macro TOOL_INIT"].tool %}
	{% set YSPLIT_DIST=printer["gcode_macro TOOL_INIT"].ysplit_distance %}
	
	PAUSE
	EXTRUDER_UNLOAD
	TOOL_SELECT TOOL={TOOL}
	CHAMELEON_UNLOAD
	
	{% set TOOL=1 %}
	SET_GCODE_VARIABLE MACRO=TOOL_INIT VARIABLE=tool VALUE={TOOL}
	TOOL_SELECT TOOL={TOOL}
	CHAMELEON_LOAD
	
	TOOL_FREE TOOL={TOOL}
	EXTRUDER_LOAD
	
	WIPE
	
	RESUME

[gcode_macro T2]
description = Changes the filament to that loaded in tool 2
gcode = 
	
	{% set TOOL= printer["gcode_macro TOOL_INIT"].tool %}
	{% set YSPLIT_DIST=printer["gcode_macro TOOL_INIT"].ysplit_distance %}
	
	PAUSE
	EXTRUDER_UNLOAD
	TOOL_SELECT TOOL={TOOL}
	CHAMELEON_UNLOAD
	
	{% set TOOL=2 %}
	SET_GCODE_VARIABLE MACRO=TOOL_INIT VARIABLE=tool VALUE={TOOL}
	TOOL_SELECT TOOL={TOOL}
	CHAMELEON_LOAD
	
	TOOL_FREE TOOL={TOOL}
	EXTRUDER_LOAD
	
	WIPE
	
	RESUME

[gcode_macro T3]
description = Changes the filament to that loaded in tool 2
gcode = 
	
	{% set TOOL= printer["gcode_macro TOOL_INIT"].tool %}
	{% set YSPLIT_DIST=printer["gcode_macro TOOL_INIT"].ysplit_distance %}
	
	PAUSE
	EXTRUDER_UNLOAD
	TOOL_SELECT TOOL={TOOL}
	CHAMELEON_UNLOAD
	
	{% set TOOL=3 %}
	TOOL_SELECT TOOL={TOOL}
	SET_GCODE_VARIABLE MACRO=TOOL_INIT VARIABLE=tool VALUE={TOOL}
	CHAMELEON_LOAD
	
	TOOL_FREE TOOL={TOOL}
	EXTRUDER_LOAD
	
	WIPE
	
	RESUME

[mcu PITB]
canbus_uuid = 2e8f2c113235

[fan_generic PITB_FAN0]
pin = PITB:gpio0
max_power = 1.0
kick_start_time = 0.5
off_below = 0.10

[fan_generic PITB_FAN1]
pin = PITB:gpio18
max_power = 1.0
kick_start_time = 0.5
off_below = 0.10

[neopixel PITB_LED]
pin = PITB:gpio19
color_order = GRBW
initial_red = 0.0
initial_green = 0.0
initial_blue = 0.0
initial_white = 0.0

[temperature_sensor mcu_pitb]
sensor_type = temperature_mcu
sensor_mcu = PITB

[output_pin activity_led]
pin = PITB:gpio15

[temperature_sensor enclosure_temp]
sensor_type = BME280
i2c_address = 118
i2c_mcu = PITB
i2c_bus = i2c0g

[neopixel Hotend_LED]
pin = EBBCan:PD3
chain_count = 3
color_order = GRBW
initial_red = 0.0
initial_green = 0.0
initial_blue = 0.0
initial_white = 0.0

[gcode_macro _sb_vars]
variable_colors = {
	'logo': {
	'busy': {'r': 0.4, 'g': 0.0, 'b': 0.0, 'w': 0.0},
	'cleaning': {'r': 0.0, 'g': 0.02, 'b': 0.5, 'w': 0.0},
	'calibrating_z': {'r': 0.8, 'g': 0., 'b': 0.35, 'w': 0.0},
	'heating': {'r': 0.3, 'g': 0.18, 'b': 0.0, 'w': 0.0},
	'homing': {'r': 0.0, 'g': 0.6, 'b': 0.2, 'w': 0.0},
	'leveling': {'r': 0.5, 'g': 0.1, 'b': 0.4, 'w': 0.0},
	'meshing': {'r': 0.2, 'g': 1.0, 'b': 0.0, 'w': 0.0},
	'off': {'r': 0.0, 'g': 0.0, 'b': 0.0, 'w': 0.0},
	'printing': {'r': 1.0, 'g': 1.0, 'b': 1.0, 'w': 1.0},
	'standby': {'r': 0.01, 'g': 0.01, 'b': 0.5, 'w': 0.1}
	},
	'nozzle': {
	'heating': {'r': 0.8, 'g': 0.35, 'b': 0.0, 'w':0.0},
	'off': {'r': 0.0, 'g': 0.0, 'b': 0.0, 'w': 0.0},
	'on': {'r': 0.8, 'g': 0.8, 'b': 0.8, 'w':1.0},
	'standby': {'r': 0.0, 'g': 0.0, 'b': 0.0, 'w':0.5},
	'hot': {'r': 1.0, 'g': 0.0, 'b': 0.0, 'w': 0.0},
	'cold': {'r': 0.3, 'g': 0.0, 'b': 1.0, 'w': 0.0}
	},
	'thermal': {
	'hot': {'r': 1.0, 'g': 0.0, 'b': 0.0, 'w': 0.0},
	'cold': {'r': 0.3, 'g': 0.0, 'b': 0.3, 'w': 0.0},
	'busy': {'r': 0.4, 'g': 0.0, 'b': 0.0, 'w': 0.0},
	'cleaning': {'r': 0.0, 'g': 0.02, 'b': 0.5, 'w': 0.0},
	'calibrating_z': {'r': 0.8, 'g': 0., 'b': 0.35, 'w': 0.0},
	'heating': {'r': 0.3, 'g': 0.18, 'b': 0.0, 'w': 0.0},
	'homing': {'r': 0.0, 'g': 0.6, 'b': 0.2, 'w': 0.0},
	'leveling': {'r': 0.5, 'g': 0.1, 'b': 0.4, 'w': 0.0},
	'meshing': {'r': 0.2, 'g': 1.0, 'b': 0.0, 'w': 0.0},
	'off': {'r': 0.0, 'g': 0.0, 'b': 0.0, 'w': 0.0},
	'printing': {'r': 1.0, 'g': 1.0, 'b': 1.0, 'w': 1.0},
	'standby': {'r': 0.01, 'g': 0.01, 'b': 0.01, 'w': 0.1}
	}
	}
variable_logo_led_name = "Hotend_LED"
variable_logo_idx = "3"
variable_nozzle_led_name = "Hotend_LED"
variable_nozzle_idx = "1,2"
variable_thermal_led_name = "Main_LED"
variable_thermal_idx = "1,2,3,4,5,6,7,8,9,10,21,22,23,24"
variable_control1_led_name = "LCD_BUTTON_LED"
variable_control1_idx = "1"
variable_thermal_config = {
	'extruder': {
	'cool_temp': 40,
	'leds': 'nozzle',
	},
	'heater_bed': {
	'cool_temp': 40,
	'leds': 'thermal',
	},
	}
gcode = 

[gcode_macro _set_sb_leds]
gcode = 
	{% set red = params.RED|default(0)|float %}
	{% set green = params.GREEN|default(0)|float %}
	{% set blue = params.BLUE|default(0)|float %}
	{% set white = params.WHITE|default(0)|float %}
	{% set led = params.LED|string %}
	{% set idx = (params.IDX|string).split(',') %}
	{% set transmit_last = params.TRANSMIT|default(1) %}
	
	{% for led_index in idx %}
	{% set transmit=transmit_last if loop.last else 0 %}
	set_led led={led} red={red} green={green} blue={blue} white={white} index={led_index} transmit={transmit}
	{% endfor %}

[gcode_macro _set_sb_leds_by_name]
gcode = 
	{% set leds_name = params.LEDS %}
	{% set color_name = params.COLOR %}
	{% set color = printer["gcode_macro _sb_vars"].colors[leds_name][color_name] %}
	{% set led = printer["gcode_macro _sb_vars"][leds_name + "_led_name"] %}
	{% set idx = printer["gcode_macro _sb_vars"][leds_name + "_idx"] %}
	{% set transmit = params.TRANSMIT|default(1) %}
	
	_set_sb_leds led={led} red={color.r} green={color.g} blue={color.b} white={color.w} idx="{idx}" transmit={transmit}

[gcode_macro _set_thermal_leds]
gcode = 
	{% set red = params.RED|default(0)|float %}
	{% set green = params.GREEN|default(0)|float %}
	{% set blue = params.BLUE|default(0)|float %}
	{% set white = params.WHITE|default(0)|float %}
	{% set led = printer["gcode_macro _sb_vars"].thermal_led_name %}
	{% set idx = printer["gcode_macro _sb_vars"].thermal_idx %}
	{% set transmit=params.TRANSMIT|default(1) %}
	
	_set_sb_leds led={led} red={red} green={green} blue={blue} white={white} idx="{idx}" transmit={transmit}

[gcode_macro _set_logo_leds]
gcode = 
	{% set red = params.RED|default(0)|float %}
	{% set green = params.GREEN|default(0)|float %}
	{% set blue = params.BLUE|default(0)|float %}
	{% set white = params.WHITE|default(0)|float %}
	{% set led = printer["gcode_macro _sb_vars"].logo_led_name %}
	{% set idx = printer["gcode_macro _sb_vars"].logo_idx %}
	{% set transmit=params.TRANSMIT|default(1) %}
	
	_set_sb_leds led={led} red={red} green={green} blue={blue} white={white} idx="{idx}" transmit={transmit}

[gcode_macro _set_nozzle_leds]
gcode = 
	{% set red = params.RED|default(0)|float %}
	{% set green = params.GREEN|default(0)|float %}
	{% set blue = params.BLUE|default(0)|float %}
	{% set white = params.WHITE|default(0)|float %}
	{% set led = printer["gcode_macro _sb_vars"].nozzle_led_name %}
	{% set idx = printer["gcode_macro _sb_vars"].nozzle_idx %}
	{% set transmit=params.TRANSMIT|default(1) %}
	
	_set_sb_leds led={led} red={red} green={green} blue={blue} white={white} idx="{idx}" transmit={transmit}

[gcode_macro set_thermal_leds_off]
gcode = 
	{% set transmit=params.TRANSMIT|default(1) %}
	_set_thermal_leds red=0 blue=0 green=0 white=0 transmit={transmit}

[gcode_macro set_logo_leds_off]
gcode = 
	{% set transmit=params.TRANSMIT|default(1) %}
	_set_logo_leds red=0 blue=0 green=0 white=0 transmit={transmit}

[gcode_macro set_nozzle_leds_on]
gcode = 
	{% set transmit=params.TRANSMIT|default(1) %}
	_set_sb_leds_by_name leds="nozzle" color="on" transmit={transmit}

[gcode_macro set_nozzle_leds_off]
gcode = 
	{% set transmit=params.TRANSMIT|default(1) %}
	_set_sb_leds_by_name leds="nozzle" color="off" transmit={transmit}

[gcode_macro status_off]
gcode = 
	set_logo_leds_off transmit=0
	set_thermal_leds_off transmit=0
	set_nozzle_leds_off

[gcode_macro status_ready]
gcode = 
	_set_sb_leds_by_name leds="logo" color="standby" transmit=1
	_set_sb_leds_by_name leds="thermal" color="standby" transmit=1
	_set_sb_leds_by_name leds="nozzle" color="standby" transmit=1

[gcode_macro status_busy]
gcode = 
	_set_sb_leds_by_name leds="logo" color="busy" transmit=1
	_set_sb_leds_by_name leds="thermal" color="busy" transmit=1
	set_nozzle_leds_on

[gcode_macro status_heating]
gcode = 
	_set_sb_leds_by_name leds="logo" color="heating" transmit=1
	_set_sb_leds_by_name leds="thermal" color="heating" transmit=1
	_set_sb_leds_by_name leds="nozzle" color="heating" transmit=1

[gcode_macro status_leveling]
gcode = 
	_set_sb_leds_by_name leds="logo" color="leveling" transmit=1
	_set_sb_leds_by_name leds="thermal" color="leveling" transmit=1
	set_nozzle_leds_on

[gcode_macro status_homing]
gcode = 
	_set_sb_leds_by_name leds="logo" color="homing" transmit=1
	_set_sb_leds_by_name leds="thermal" color="homing" transmit=1
	set_nozzle_leds_on

[gcode_macro status_cleaning]
gcode = 
	_set_sb_leds_by_name leds="logo" color="cleaning" transmit=1
	_set_sb_leds_by_name leds="thermal" color="cleaning" transmit=1
	set_nozzle_leds_on

[gcode_macro status_meshing]
gcode = 
	_set_sb_leds_by_name leds="logo" color="meshing" transmit=1
	_set_sb_leds_by_name leds="thermal" color="meshing" transmit=1
	set_nozzle_leds_on

[gcode_macro status_calibrating_z]
gcode = 
	_set_sb_leds_by_name leds="logo" color="calibrating_z" transmit=1
	_set_sb_leds_by_name leds="thermal" color="calibrating_z" transmit=1
	set_nozzle_leds_on

[gcode_macro status_printing]
gcode = 
	_set_sb_leds_by_name leds="logo" color="printing" transmit=1
	_set_sb_leds_by_name leds="thermal" color="printing" transmit=1
	set_nozzle_leds_on

[virtual_sdcard]
path = ~/printer_data/gcodes
on_error_gcode = CANCEL_PRINT

[pause_resume]
recover_velocity = 50.

[display_status]

[respond]
default_type = echo
default_prefix = 

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = CANCEL_PRINT_BASE
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set allow_park = client.park_at_cancel | default(false) | lower == 'true' %}
	{% set retract = client.cancel_retract | default(5.0) | abs %}
	
	{% set park_x = "" if (client.park_at_cancel_x | default(none) is none)
	else "X=" ~ client.park_at_cancel_x %}
	{% set park_y = "" if (client.park_at_cancel_y | default(none) is none)
	else "Y=" ~ client.park_at_cancel_y %}
	{% set custom_park = park_x | length > 0 or park_y | length > 0 %}
	
	
	{% if printer['gcode_macro RESUME'].restore_idle_timeout > 0 %}
	SET_IDLE_TIMEOUT TIMEOUT={printer['gcode_macro RESUME'].restore_idle_timeout}
	{% endif %}
	{% if (custom_park or not printer.pause_resume.is_paused) and allow_park %} _TOOLHEAD_PARK_PAUSE_CANCEL {park_x} {park_y} {% endif %}
	_CLIENT_RETRACT LENGTH={retract}
	TURN_OFF_HEATERS
	M106 S0
	{client.user_cancel_macro | default("")}
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=idle_state VALUE=False
	
	SET_PAUSE_NEXT_LAYER ENABLE=0
	SET_PAUSE_AT_LAYER ENABLE=0 LAYER=0
	CANCEL_PRINT_BASE

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = PAUSE_BASE
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set idle_timeout = client.idle_timeout | default(0) %}
	{% set temp = printer[printer.toolhead.extruder].target if printer.toolhead.extruder != '' else 0 %}
	{% set restore = False if printer.toolhead.extruder == ''
	else True  if params.RESTORE | default(1) | int == 1 else False %}
	
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=last_extruder_temp VALUE="{{'restore': restore, 'temp': temp}}"
	
	{% if idle_timeout > 0 %}
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=restore_idle_timeout VALUE={printer.configfile.settings.idle_timeout.timeout}
	SET_IDLE_TIMEOUT TIMEOUT={idle_timeout}
	{% endif %}
	PAUSE_BASE
	{client.user_pause_macro | default("")}
	_TOOLHEAD_PARK_PAUSE_CANCEL {rawparams}

[gcode_macro RESUME]
description = Resume while heat soaking results in the soaking phase being skipped, any complete callback is run
rename_existing = _HEAT_SOAK__BASE_RESUME
variable_last_extruder_temp = {'restore': False, 'temp': 0}
variable_restore_idle_timeout = 0
variable_idle_state = False
gcode = 
	HEAT_SOAK_RESUME ON_RESUME=_HEAT_SOAK__BASE_RESUME

[gcode_macro SET_PAUSE_NEXT_LAYER]
description = Enable a pause if the next layer is reached
gcode = 
	{% set pause_next_layer = printer['gcode_macro SET_PRINT_STATS_INFO'].pause_next_layer %}
	{% set ENABLE = params.ENABLE | default(1)|int != 0 %}
	{% set MACRO = params.MACRO | default(pause_next_layer.call, True) %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{ 'enable': ENABLE, 'call': MACRO }}"

[gcode_macro SET_PAUSE_AT_LAYER]
description = Enable/disable a pause if a given layer number is reached
gcode = 
	{% set pause_at_layer = printer['gcode_macro SET_PRINT_STATS_INFO'].pause_at_layer %}
	{% set ENABLE = params.ENABLE | int != 0 if params.ENABLE is defined
	else params.LAYER is defined %}
	{% set LAYER = params.LAYER | default(pause_at_layer.layer) | int %}
	{% set MACRO = params.MACRO | default(pause_at_layer.call, True) %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{ 'enable': ENABLE, 'layer': LAYER, 'call': MACRO }}"

[gcode_macro SET_PRINT_STATS_INFO]
rename_existing = SET_PRINT_STATS_INFO_BASE
description = Overwrite, to get pause_next_layer and pause_at_layer feature
variable_pause_next_layer = { 'enable': False, 'call': "PAUSE" }
variable_pause_at_layer = { 'enable': False, 'layer': 0, 'call': "PAUSE" }
gcode = 
	{% if pause_next_layer.enable %}
	RESPOND TYPE=echo MSG='{"%s, forced by pause_next_layer" % pause_next_layer.call}'
	{pause_next_layer.call}
	SET_PAUSE_NEXT_LAYER ENABLE=0
	{% elif pause_at_layer.enable and params.CURRENT_LAYER is defined and params.CURRENT_LAYER | int == pause_at_layer.layer %}
	RESPOND TYPE=echo MSG='{"%s, forced by pause_at_layer [%d]" % (pause_at_layer.call, pause_at_layer.layer)}'
	{pause_at_layer.call}
	SET_PAUSE_AT_LAYER ENABLE=0
	{% endif %}
	SET_PRINT_STATS_INFO_BASE {rawparams}

[gcode_macro _TOOLHEAD_PARK_PAUSE_CANCEL]
description = Helper: park toolhead used in PAUSE and CANCEL_PRINT
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set use_custom     = client.use_custom_pos | default(false) | lower == 'true' %}
	{% set custom_park_x  = client.custom_park_x | default(0.0) %}
	{% set custom_park_y  = client.custom_park_y | default(0.0) %}
	{% set park_dz        = client.custom_park_dz | default(2.0) | abs %}
	{% set sp_hop         = client.speed_hop | default(15) * 60 %}
	{% set sp_move        = client.speed_move | default(velocity) * 60 %}
	
	{% set origin    = printer.gcode_move.homing_origin %}
	{% set act       = printer.gcode_move.gcode_position %}
	{% set max       = printer.toolhead.axis_maximum %}
	{% set cone      = printer.toolhead.cone_start_z | default(max.z) %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	
	{% set z_min = params.Z_MIN | default(0) | float %}
	{% set z_park = [[(act.z + park_dz), z_min]|max, (max.z - origin.z)] | min %}
	{% set x_park = params.X       if params.X is defined
	else custom_park_x  if use_custom
	else 0.0            if round_bed
	else (max.x - 5.0) %}
	{% set y_park = params.Y       if params.Y is defined
	else custom_park_y  if use_custom
	else (max.y - 5.0)  if round_bed and z_park < cone
	else 0.0            if round_bed
	else (max.y - 5.0) %}
	
	_CLIENT_RETRACT
	{% if "xyz" in printer.toolhead.homed_axes %}
	G90
	G1 Z{z_park} F{sp_hop}
	G1 X{x_park} Y{y_park} F{sp_move}
	{% if not printer.gcode_move.absolute_coordinates %} G91 {% endif %}
	{% else %}
	RESPOND TYPE=echo MSG='Printer not homed'
	{% endif %}

[gcode_macro _CLIENT_EXTRUDE]
description = Extrudes, if the extruder is hot enough
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set use_fw_retract = (client.use_fw_retract | default(false) | lower == 'true') and (printer.firmware_retraction is defined) %}
	{% set length = params.LENGTH | default(client.unretract) | default(1.0) | float %}
	{% set speed = params.SPEED | default(client.speed_unretract) | default(35) %}
	{% set absolute_extrude = printer.gcode_move.absolute_extrude %}
	
	{% if printer.toolhead.extruder != '' %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if use_fw_retract %}
	{% if length < 0 %}
	G10
	{% else %}
	G11
	{% endif %}
	{% else %}
	M83
	G1 E{length} F{(speed | float | abs) * 60}
	{% if absolute_extrude %}
	M82
	{% endif %}
	{% endif %}
	{% else %}
	RESPOND TYPE=echo MSG='{"\"%s\" not hot enough" % printer.toolhead.extruder}'
	{% endif %}
	{% endif %}

[gcode_macro _CLIENT_RETRACT]
description = Retracts, if the extruder is hot enough
gcode = 
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set length = params.LENGTH | default(client.retract) | default(1.0) | float %}
	{% set speed = params.SPEED | default(client.speed_retract) | default(35) %}
	
	_CLIENT_EXTRUDE LENGTH=-{length | float | abs} SPEED={speed | float | abs}

[gcode_macro GET_TIMELAPSE_SETUP]
description = Print the Timelapse setup
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set output_txt = ["Timelapse Setup:"] %}
	{% set _dummy = output_txt.append("enable: %s" % tl.enable) %}
	{% set _dummy = output_txt.append("park: %s" % tl.park.enable) %}
	{% if tl.park.enable %}
	{% set _dummy = output_txt.append("park position: %s time: %s s" % (tl.park.pos, tl.park.time)) %}
	{% set _dummy = output_txt.append("park cord x:%s y:%s dz:%s" % (tl.park.coord.x, tl.park.coord.y, tl.park.coord.dz)) %}
	{% set _dummy = output_txt.append("travel speed: %s mm/s" % tl.speed.travel) %}
	{% endif %}
	{% set _dummy = output_txt.append("fw_retract: %s" % tl.extruder.fw_retract) %}
	{% if not tl.extruder.fw_retract %}
	{% set _dummy = output_txt.append("retract: %s mm speed: %s mm/s" % (tl.extruder.retract, tl.speed.retract)) %}
	{% set _dummy = output_txt.append("extrude: %s mm speed: %s mm/s" % (tl.extruder.extrude, tl.speed.extrude)) %}
	{% endif %}
	{% set _dummy = output_txt.append("verbose: %s" % tl.verbose) %}
	{action_respond_info(output_txt|join("\n"))}

[gcode_macro _SET_TIMELAPSE_SETUP]
description = Set user parameters for timelapse
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	{% set park = {'min'   : {'x': (min.x / 1.42)|round(3) if round_bed else min.x|round(3),
	'y': (min.y / 1.42)|round(3) if round_bed else min.y|round(3)},
	'max'   : {'x': (max.x / 1.42)|round(3) if round_bed else max.x|round(3),
	'y': (max.y / 1.42)|round(3) if round_bed else max.y|round(3)},
	'center': {'x': (max.x-(max.x-min.x)/2)|round(3),
	'y': (max.y-(max.y-min.y)/2)|round(3)}} %}
	
	{% if params.ENABLE %}
	{% if params.ENABLE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=enable VALUE={True if params.ENABLE|lower == 'true' else False}
	{% else %}
	{action_raise_error("ENABLE=%s not supported. Allowed values are [True, False]" % params.ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.VERBOSE %}
	{% if params.VERBOSE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=verbose VALUE={True if params.VERBOSE|lower == 'true' else False}
	{% else %}
	{action_raise_error("VERBOSE=%s not supported. Allowed values are [True, False]" % params.VERBOSE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_X %}
	{% if params.CUSTOM_POS_X|float >= min.x and params.CUSTOM_POS_X|float <= max.x %}
	{% set _dummy = tl.park.custom.update({'x':params.CUSTOM_POS_X|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_X=%s must be within [%s - %s]" % (params.CUSTOM_POS_X, min.x, max.x))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_Y %}
	{% if params.CUSTOM_POS_Y|float >= min.y and params.CUSTOM_POS_Y|float <= max.y %}
	{% set _dummy = tl.park.custom.update({'y':params.CUSTOM_POS_Y|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_Y=%s must be within [%s - %s]" % (params.CUSTOM_POS_Y, min.y, max.y))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_DZ %}
	{% if params.CUSTOM_POS_DZ|float >= min.z and params.CUSTOM_POS_DZ|float <= max.z %}
	{% set _dummy = tl.park.custom.update({'dz':params.CUSTOM_POS_DZ|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_DZ=%s must be within [%s - %s]" % (params.CUSTOM_POS_DZ, min.z, max.z))}
	{% endif %}
	{% endif %}
	{% if params.PARK_ENABLE %}
	{% if params.PARK_ENABLE|lower is in ['true', 'false'] %}
	{% set _dummy = tl.park.update({'enable':True if params.PARK_ENABLE|lower == 'true' else False}) %}
	{% else %}
	{action_raise_error("PARK_ENABLE=%s not supported. Allowed values are [True, False]" % params.PARK_ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.PARK_POS %}
	{% if params.PARK_POS|lower is in ['center','front_left','front_right','back_left','back_right','custom','x_only','y_only'] %}
	{% set dic = {'center'      : {'x': park.center.x   , 'y': park.center.y   , 'dz': 1                },
	'front_left'  : {'x': park.min.x      , 'y': park.min.y      , 'dz': 0                },
	'front_right' : {'x': park.max.x      , 'y': park.min.y      , 'dz': 0                },
	'back_left'   : {'x': park.min.x      , 'y': park.max.y      , 'dz': 0                },
	'back_right'  : {'x': park.max.x      , 'y': park.max.y      , 'dz': 0                },
	'custom'      : {'x': tl.park.custom.x, 'y': tl.park.custom.y, 'dz': tl.park.custom.dz},
	'x_only'      : {'x': tl.park.custom.x, 'y': 'none'          , 'dz': tl.park.custom.dz},
	'y_only'      : {'x': 'none'          , 'y': tl.park.custom.y, 'dz': tl.park.custom.dz}} %}
	{% set _dummy = tl.park.update({'pos':params.PARK_POS|lower}) %}
	{% set _dummy = tl.park.update({'coord':dic[tl.park.pos]}) %}
	{% else %}
	{action_raise_error("PARK_POS=%s not supported. Allowed values are [CENTER, FRONT_LEFT, FRONT_RIGHT, BACK_LEFT, BACK_RIGHT, CUSTOM, X_ONLY, Y_ONLY]"
	% params.PARK_POS|upper)}
	{% endif %}
	{% endif %}
	{% if params.PARK_TIME %}
	{% if params.PARK_TIME|float >= 0.0 %}
	{% set _dummy = tl.park.update({'time':params.PARK_TIME|float|round(3)}) %}
	{% else %}
	{action_raise_error("PARK_TIME=%s must be a positive number" % params.PARK_TIME)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=park VALUE="{tl.park}"
	{% if params.TRAVEL_SPEED %}
	{% if params.TRAVEL_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'travel':params.TRAVEL_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("TRAVEL_SPEED=%s must be larger than 0" % params.TRAVEL_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_SPEED %}
	{% if params.RETRACT_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'retract':params.RETRACT_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_SPEED=%s must be larger than 0" % params.RETRACT_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.EXTRUDE_SPEED %}
	{% if params.EXTRUDE_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'extrude':params.EXTRUDE_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_SPEED=%s must be larger than 0" % params.EXTRUDE_SPEED)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=speed VALUE="{tl.speed}"
	{% if params.EXTRUDE_DISTANCE %}
	{% if params.EXTRUDE_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'extrude':params.EXTRUDE_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_DISTANCE=%s must be specified as positiv number" % params.EXTRUDE_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_DISTANCE %}
	{% if params.RETRACT_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'retract':params.RETRACT_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_DISTANCE=%s must be specified as positiv number" % params.RETRACT_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.FW_RETRACT %}
	{% if params.FW_RETRACT|lower is in ['true', 'false'] %}
	{% if 'firmware_retraction' in printer.configfile.settings %}
	{% set _dummy = tl.extruder.update({'fw_retract': True if params.FW_RETRACT|lower == 'true' else False}) %}
	{% else %}
	{% set _dummy = tl.extruder.update({'fw_retract':False}) %}
	{% if params.FW_RETRACT|capitalize == 'True' %}
	{action_raise_error("[firmware_retraction] not defined in printer.cfg. Can not enable fw_retract")}
	{% endif %}
	{% endif %}
	{% else %}
	{action_raise_error("FW_RETRACT=%s not supported. Allowed values are [True, False]" % params.FW_RETRACT|capitalize)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=extruder VALUE="{tl.extruder}"
	{% if printer.configfile.settings['gcode_macro pause'] is defined %}
	{% set _dummy = tl.macro.update({'pause': printer.configfile.settings['gcode_macro pause'].rename_existing}) %}
	{% endif %}
	{% if printer.configfile.settings['gcode_macro resume'] is defined %}
	{% set _dummy = tl.macro.update({'resume': printer.configfile.settings['gcode_macro resume'].rename_existing}) %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=macro VALUE="{tl.macro}"

[gcode_macro TIMELAPSE_TAKE_FRAME]
description = Take Timelapse shoot
variable_enable = False
variable_takingframe = False
variable_park = {'enable': False,
	'pos'   : 'center',
	'time'  : 0.1,
	'custom': {'x': 0, 'y': 0, 'dz': 0},
	'coord' : {'x': 0, 'y': 0, 'dz': 0}}
variable_extruder = {'fw_retract': False,
	'retract': 1.0,
	'extrude': 1.0}
variable_speed = {'travel': 100,
	'retract': 15,
	'extrude': 15}
variable_verbose = True
variable_check_time = 0.5
variable_restore = {'absolute': {'coordinates': True, 'extrude': True}, 'speed': 1500, 'e':0, 'factor': {'speed': 1.0, 'extrude': 1.0}}
variable_macro = {'pause': 'PAUSE', 'resume': 'RESUME'}
variable_is_paused = False
gcode = 
	{% set hyperlapse = True if params.HYPERLAPSE and params.HYPERLAPSE|lower =='true' else False %}
	{% if enable %}
	{% if (hyperlapse and printer['gcode_macro HYPERLAPSE'].run) or
	(not hyperlapse and not printer['gcode_macro HYPERLAPSE'].run) %}
	{% if park.enable %}
	{% set pos = {'x': 'X' + park.coord.x|string if park.pos != 'y_only' else '',
	'y': 'Y' + park.coord.y|string if park.pos != 'x_only' else '',
	'z': 'Z'+ [printer.gcode_move.gcode_position.z + park.coord.dz, printer.toolhead.axis_maximum.z]|min|string} %}
	{% set restore = {'absolute': {'coordinates': printer.gcode_move.absolute_coordinates,
	'extrude'    : printer.gcode_move.absolute_extrude},
	'speed'   : printer.gcode_move.speed,
	'e'       : printer.gcode_move.gcode_position.e,
	'factor'  : {'speed'  : printer.gcode_move.speed_factor,
	'extrude': printer.gcode_move.extrude_factor}} %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=restore VALUE="{restore}"
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, minimum extruder temperature not reached!")}{% endif %}
	{% else %}
	{% if extruder.fw_retract %}
	G10
	{% else %}
	M83
	G0 E-{extruder.retract} F{speed.retract * 60}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=True
	{macro.pause}
	SET_GCODE_OFFSET X=0 Y=0
	G90
	{% if "xyz" not in printer.toolhead.homed_axes %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, axis not homed yet!")}{% endif %}
	{% else %}
	G0 {pos.x} {pos.y} {pos.z} F{speed.travel * 60}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=takingframe VALUE=True
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={check_time}
	M400
	{% endif %}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE={hyperlapse}
	{% endif %}
	{% else %}
	{% if verbose %}{action_respond_info("Timelapse: disabled, take frame ignored")}{% endif %}
	{% endif %}

[gcode_macro _TIMELAPSE_NEW_FRAME]
description = action call for timelapse shoot. must be a seperate macro
gcode = 
	{action_call_remote_method("timelapse_newframe",
	macropark=printer['gcode_macro TIMELAPSE_TAKE_FRAME'].park,
	hyperlapse=params.HYPERLAPSE)}

[delayed_gcode _WAIT_TIMELAPSE_TAKE_FRAME]
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set factor = {'speed': printer.gcode_move.speed_factor, 'extrude': printer.gcode_move.extrude_factor} %}
	{% if tl.takingframe %}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={tl.check_time}
	{% else %}
	{tl.macro.resume} VELOCITY={tl.speed.travel}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=False
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{action_respond_info("Timelapse: Warning minimum extruder temperature not reached!")}
	{% else %}
	{% if tl.extruder.fw_retract %}
	G11
	{% else %}
	G0 E{tl.extruder.extrude} F{tl.speed.extrude * 60}
	G0 F{tl.restore.speed}
	{% if tl.restore.absolute.extrude %}
	M82
	G92 E{tl.restore.e}
	{% endif %}
	{% endif %}
	{% endif %}
	{% if tl.restore.factor.speed   != factor.speed   %} M220 S{(factor.speed*100)|round(0)}   {% endif %}
	{% if tl.restore.factor.extrude != factor.extrude %} M221 S{(factor.extrude*100)|round(0)} {% endif %}
	{% if not tl.restore.absolute.coordinates %} G91 {% endif %}
	{% endif %}

[gcode_macro HYPERLAPSE]
description = Start/Stop a hyperlapse recording
variable_cycle = 0
variable_run = False
gcode = 
	{% set cycle = params.CYCLE|default(30)|int %}
	{% if params.ACTION and params.ACTION|lower == 'start' %}
	{action_respond_info("Hyperlapse: frames started (Cycle %d sec)" % cycle)}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=True
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=cycle VALUE={cycle}
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True
	{% elif params.ACTION and params.ACTION|lower == 'stop' %}
	{% if run %}{action_respond_info("Hyperlapse: frames stopped")}{% endif %}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=False
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION=0
	{% else %}
	{action_raise_error("Hyperlapse: No valid input parameter
	Use:
	- HYPERLAPSE ACTION=START [CYCLE=time]
	- HYPERLAPSE ACTION=STOP")}
	{% endif %}

[delayed_gcode _HYPERLAPSE_LOOP]
gcode = 
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={printer["gcode_macro HYPERLAPSE"].cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True

[gcode_macro TIMELAPSE_RENDER]
description = Render Timelapse video and wait for the result
variable_render = False
variable_run_identifier = 0
gcode = 
	{action_respond_info("Timelapse: Rendering started")}
	{action_call_remote_method("timelapse_render", byrendermacro="True")}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=render VALUE=True
	{printer.configfile.settings['gcode_macro pause'].rename_existing}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5

[delayed_gcode _WAIT_TIMELAPSE_RENDER]
gcode = 
	{% set ri = printer['gcode_macro TIMELAPSE_RENDER'].run_identifier % 4 %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=run_identifier VALUE={ri + 1}
	{% if printer['gcode_macro TIMELAPSE_RENDER'].render %}
	M117 Rendering {['-','\\','|','/'][ri]}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5
	{% else %}
	{action_respond_info("Timelapse: Rendering finished")}
	M117
	{printer.configfile.settings['gcode_macro resume'].rename_existing}
	{% endif %}

[gcode_macro TEST_STREAM_DELAY]
description = Helper macro to find stream and park delay
gcode = 
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set act = printer.toolhead.position %}
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% if act.z > 5.0 %}
	G0 X{min.x + 5.0} F{tl.speed.travel|int * 60}
	G0 X{(max.x-min.x)/2}
	G4 P{tl.park.time|float * 1000}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE=FALSE
	G0 X{max.x - 5.0}
	{% else %}
	{action_raise_error("Toolhead z %.3f to low. Please place head above z = 5.0" % act.z)}
	{% endif %}

[gcode_macro HEAT_SOAK]
description = Wait for a temperature sensor to reach thermal equilibrium
variable_last_temp = 0
variable_last_soak_temp_rate = None
variable_temp_history = None
variable_smoothed_temp_history = None
variable_stage = "done"
variable_total_time_elapsed = 0
variable_soak_time_remaining = 30
variable_check_interval = 1
variable_heating_report_interval = 2
variable_soaking_report_interval = 5
variable_heater_sensor = None
variable_soaker_sensor = None
variable_target_temp = 0.0
variable_min_soak_temp = 0
variable_target_rate = 0.3
variable_complete = None
variable_cancel = None
variable_temp_smooth_time = 4.0
variable_rate_smooth_time = 20.0
variable_resume_trigger = False
variable_was_print_active = False
gcode = 
	{ action_respond_info( "Heat Soak starting" )}
	
	
	{% set SOAKER = params.SOAKER | string %}
	{% set RATE = params.RATE | default(0.3) | float %}
	{% set SOAK_TEMP = params.SOAK_TEMP | default(0.0) | float %}
	{% set HEATER = (params.HEATER | string) %}
	{% set TARGET = params.TARGET | default(0) | float %}
	{% set TIMEOUT = (params.TIMEOUT | default(30) | int) * 60 %}
	{% set TEMP_SMOOTH = params.TEMP_SMOOTH | default(4.0) | float %}
	{% set RATE_SMOOTH = params.RATE_SMOOTH | default(20) | float %}
	{% set COMPLETE  = (params.COMPLETE | string) %}
	{% set CANCEL  = (params.CANCEL | string) %}
	{% set HEATING_REPORT_INTERVAL  = params.HEATING_REPORT_INTERVAL | default(2) | int %}
	{% set SOAKING_REPORT_INTERVAL  = params.SOAKING_REPORT_INTERVAL | default(5) | int %}
	
	
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=heater_sensor           VALUE="{HEATER | pprint}"
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=target_temp             VALUE={TARGET}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=min_soak_temp           VALUE={SOAK_TEMP}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=soaker_sensor           VALUE="{SOAKER | pprint}"
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=target_rate             VALUE={RATE}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=soak_time_remaining     VALUE={TIMEOUT}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=complete                VALUE="'{COMPLETE}'"
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=cancel                  VALUE="'{CANCEL}'"
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=temp_smooth_time        VALUE={TEMP_SMOOTH}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=rate_smooth_time        VALUE={RATE_SMOOTH}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=heating_report_interval VALUE={HEATING_REPORT_INTERVAL}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=soaking_report_interval VALUE={SOAKING_REPORT_INTERVAL}
	
	
	{% set soak_temp = printer[SOAKER].temperature %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=last_temp               VALUE={soak_temp}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=temp_history            VALUE="{[soak_temp] | pprint}"
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=smoothed_temp_history   VALUE="{[] | pprint}"
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=total_time_elapsed      VALUE=0
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=last_soak_temp_rate     VALUE=None
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=check_interval          VALUE=1.0
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=resume_trigger          VALUE=False
	{% set is_print_active = printer['virtual_sdcard'].is_active or printer['virtual_sdcard'].file_position != 0.0 %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=was_print_active        VALUE={is_print_active}
	
	
	{% if (HEATER and TARGET != 0.0) %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=stage               VALUE="'heating'"
	SET_HEATER_TEMPERATURE HEATER={HEATER} TARGET={TARGET}
	{% else %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=stage               VALUE="'soaking'"
	{% endif %}
	
	
	{% if is_print_active %}
	PAUSE
	{% endif %}
	
	UPDATE_DELAYED_GCODE ID=_heat_soaker DURATION={check_interval}

[gcode_macro STOP_HEAT_SOAK]
description = stops heat soak activity without running any callbacks
gcode = 
	UPDATE_DELAYED_GCODE ID=_heat_soaker DURATION=0
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=stage VALUE="'done'"

[gcode_macro CANCEL_HEAT_SOAK]
description = cancels an in-progress HEAT_SOAK cycle and runs the cancel callback
gcode = 
	
	{% set heat_soak = printer['gcode_macro HEAT_SOAK'] %}
	{% set stage = heat_soak.stage %}
	{% if stage in ("heating", "soaking") %}
	STOP_HEAT_SOAK
	{% if heat_soak.cancel %}
	{heat_soak.cancel}
	{% endif %}
	{% endif %}

[gcode_macro HEAT_SOAK_RESUME]
description = Resume while heat soaking results in the soaking phase being skipped, any complete callback is run
gcode = 
	{% set ON_RESUME = (params.ON_RESUME | default("_HEAT_SOAK__BASE_RESUME")) | string %}
	{% set heat_soak = printer['gcode_macro HEAT_SOAK'] %}
	{% set stage = heat_soak.stage %}
	{% if stage == "heating"  %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=resume_trigger VALUE=True
	{% elif stage == "soaking" %}
	STOP_HEAT_SOAK
	{% if heat_soak.complete %}
	{heat_soak.complete}
	{% endif %}
	{ON_RESUME} {% for p in params %}{'%s=%s ' % (p, params[p])}{% endfor %}
	{% else %}
	{ON_RESUME} {% for p in params %}{'%s=%s ' % (p, params[p])}{% endfor %}
	{% endif %}

[delayed_gcode _heat_soaker]
gcode = 
	{% set heat_soak = printer['gcode_macro HEAT_SOAK'] %}
	
	
	
	
	{% set file_position_is_zero = (printer['virtual_sdcard'].file_position == 0.0 )%}
	{% if heat_soak.was_print_active and file_position_is_zero %}
	STOP_HEAT_SOAK
	{action_respond_info("HEAT_SOAK aborted. Detected a change in virtual_sdcard print state. Call STOP_HEAT_SOAK from CANCEL_PRINT to stop seeing this error message.")}
	{% endif %}
	
	
	{% if not file_position_is_zero and not printer['pause_resume'].is_paused %}
	STOP_HEAT_SOAK
	{action_respond_info("HEAT_SOAK aborted. Print is no longer paused. Call STOP_HEAT_SOAK or HEAT_SOAK_RESUME from your RESUME macro to stop seeing this error message.")}
	{% endif %}
	
	
	{% set total_time_elapsed = heat_soak.total_time_elapsed + heat_soak.check_interval %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=total_time_elapsed VALUE={ total_time_elapsed }
	
	{% set soaker_sensor = printer[heat_soak.soaker_sensor] %}
	{% set soak_temp = soaker_sensor.temperature %}
	{% if heat_soak.heater_sensor %}
	{% set heater_sensor = printer[heat_soak.heater_sensor] %}
	{% set heater_temp = heater_sensor.temperature | round(1) %}
	{% endif %}
	{% set stage = heat_soak.stage %}
	
	
	{% set temp_history = heat_soak.temp_history %}
	{% set smoothed_temp_history = heat_soak.smoothed_temp_history %}
	{% set temp_diff = soak_temp - (temp_history | last) %}
	{% set _ = temp_history.append(soak_temp) %}
	{% set soak_temp_smoothed = None %}
	{% set slope = None %}
	{% if (temp_history | length) > heat_soak.temp_smooth_time %}
	{% set temp_history = temp_history[1:] %}
	
	{% set soak_temp_smoothed = ((temp_history | sum) / (temp_history | length)) %}
	
	{% set _ = smoothed_temp_history.append(soak_temp_smoothed) %}
	
	{% set soak_temp_smoothed = soak_temp_smoothed | round(3) %}
	
	{% if (smoothed_temp_history | length) > heat_soak.rate_smooth_time %}
	{% set smoothed_temp_history = smoothed_temp_history[1:] %}
	
	
	
	
	{% set count = (smoothed_temp_history | length) %}
	{% set times = range(0, count, 1) %}
	{% set x_sum = (times | sum) | float %}
	{% set y_sum = (smoothed_temp_history | sum) | float %}
	
	
	{% set xx_sum_arr = [] %}
	{% set xy_sum_arr = [] %}
	{% for i in times %}
	{% set x = times[i] %}
	{% set y = smoothed_temp_history[i] %}
	{% set _ = xx_sum_arr.append(x * x) %}
	{% set _ = xy_sum_arr.append(x * y) %}
	{% endfor %}
	{% set xx_sum = (xx_sum_arr | sum) | float %}
	{% set xy_sum = (xy_sum_arr | sum) | float %}
	
	{% set slope = (60.0 * ((count | float * xy_sum) - (x_sum * y_sum)) / ((count | float * xx_sum) - (x_sum * x_sum))) | round(3) %}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=temp_history VALUE="{(temp_history | pprint | replace("\n", ""))}"
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=smoothed_temp_history VALUE="{(smoothed_temp_history | pprint | replace("\n", ""))}"
	
	
	{% if stage == "heating" %}
	{% if heater_temp < heat_soak.target_temp %}
	{% if total_time_elapsed % heat_soak.heating_report_interval == 0 %}
	{% set message = "Heating -- %.1fC / %.1fC -- %.1fm elapsed" % (heater_temp, heat_soak.target_temp, total_time_elapsed / 60.0) %}
	M117 {message}
	{action_respond_info(message)}
	{% endif %}
	{% else %}
	{action_respond_info("Heating completed after ~%.1fm, starting heat soak phase." % (total_time_elapsed / 60.0))}
	
	{% set stage = "done" if heat_soak.resume_trigger else "soaking" %}
	
	{% set total_time_elapsed = 0 %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=total_time_elapsed VALUE={ total_time_elapsed }
	{% endif %}
	{% endif %}
	
	
	{% if stage == "soaking" %}
	
	{% set soak_time_remaining = [heat_soak.soak_time_remaining - heat_soak.check_interval, 0] | max %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=soak_time_remaining VALUE={ soak_time_remaining }
	
	
	{% if soak_time_remaining <= 0 %}
	{action_respond_info("Heat soak timed out after ~%.1fm" % (total_time_elapsed / 60.0))}
	{% set stage = "cancel" %}
	
	{% elif slope is none or soak_temp_smoothed is none %}
	{% if total_time_elapsed % heat_soak.soaking_report_interval == 0 %}
	
	{% set message = "Soaking -- gathering data -- %.1fm remaining" % (soak_time_remaining / 60.0) %}
	M117 { message }
	{action_respond_info(message)}
	{% endif %}
	
	{% elif (slope > heat_soak.target_rate) or (heat_soak.min_soak_temp > 0 and soak_temp_smoothed < heat_soak.min_soak_temp) %}
	{% if total_time_elapsed % heat_soak.soaking_report_interval == 0 %}
	{% set format_vars = [
	soak_temp_smoothed | float,
	(heat_soak.min_soak_temp | float | round(0) | string) if (heat_soak.min_soak_temp > 0) else "--",
	slope,
	heat_soak.target_rate,
	soak_time_remaining / 60.0
	] %}
	{% set message = "Soaking -- temp: {0:.1f}C / {1}C -- rate: {2:.3f}C/m / {3:.3f}C/m -- {4:.1f}m remaining".format(*format_vars) %}
	M117 { message }
	{action_respond_info(message)}
	{% endif %}
	
	{% else %}
	{action_respond_info("Heat soak complete after ~%.1fm at %.3fC/m / %.1fC" % (total_time_elapsed / 60.0, slope, soak_temp))}
	{% set stage = "done" %}
	{% endif %}
	{% endif %}
	
	
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=stage VALUE="'{stage}'"
	
	{% if stage in ("done", "cancel") %}
	STOP_HEAT_SOAK
	{% if stage == "cancel" %}
	{% if heat_soak.cancel %}
	{heat_soak.cancel}
	{% elif printer['virtual_sdcard'].is_active %}
	CANCEL_PRINT
	{% endif %}
	{% else %}
	{% if heat_soak.complete %}
	{heat_soak.complete}
	{% endif %}
	{% if printer['pause_resume'].is_paused  %}
	RESUME
	{% endif %}
	{% endif %}
	{% else %}
	
	UPDATE_DELAYED_GCODE ID=_heat_soaker DURATION={ heat_soak.check_interval }
	
	G4 P1
	{% endif %}
	
	
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=stage VALUE="'{stage}'"

[gcode_macro PRINT_WARMUP]
description = Perform initial homing and heating tasks
gcode = 
	{% set EXTRUDER_TEMP = params.EXTRUDER_TEMP | default(190) | float %}
	{% set BED_TEMP = params.BED_TEMP | default(60) | float %}
	
	
	M104 S{EXTRUDER_TEMP * 0.75}
	M140 S{BED_TEMP}
	G32
	
	
	HEAT_SOAK HEATER='heater_bed' TARGET={BED_TEMP} SOAKER='temperature_sensor top_bed' SOAK_TEMP={BED_TEMP * 0.80}

[gcode_macro M106]
rename_existing = M106.1
gcode = 
	{% if params.P is defined and params.P|int > 0 %}
	{% if params.P|int == 1 %}
	M106.1 S{params.S|int}
	{% endif %}
	{% if params.P|int == 2 %}
	SET_FAN_SPEED FAN=exhaust_fan SPEED={(params.S|int / 255 )}
	{% endif %}
	{% if params.P|int == 3 %}
	SET_FAN_SPEED FAN=Air_Scrubber SPEED={(params.S|int / 255 )}
	{% endif %}
	{% else %}
	M106.1 S{params.S|int}
	{% endif %}

[gcode_macro M300]
gcode = 
	
	{% set S = params.S|default(1000)|int %}
	
	{% set P = params.P|default(100)|int %}
	SET_PIN PIN=_BEEPER_pin VALUE=0.5 CYCLE_TIME={ 1.0/S if S > 0 else 1 }
	G4 P{P}
	SET_PIN PIN=_BEEPER_pin VALUE=0

[gcode_macro M600]
gcode = 
	PAUSE
	M117 Colour Change Macro
	Change_FILAMENT_UNLOAD
	M117 Load new Filament
	PLAY_TONE l=5

[gcode_macro M601]
gcode = 
	PAUSE
	M117 Printer Paused
	PLAY_TONE l=5

[gcode_macro Rescan_Bed]
gcode = 
	G28
	bed_mesh_calibrate
	BED_MESH_PROFILE SAVE="400custom"
	SAVE_CONFIG

[gcode_macro UNLOAD_FILAMENT]
variable_unloading_speed_start = 80
variable_unloading_speed = 20
variable_cooling_tube_position = 35
variable_cooling_tube_length = 10
variable_initial_cooling_speed = 10
variable_final_cooling_speed = 50
variable_cooling_moves = 4
gcode = 
	{% set UNLOADING_SPEED_START = params.UNLOADING_SPEED_START|default(printer['gcode_macro UNLOAD_FILAMENT_FORM_TIP']['unloading_speed_start']) %}
	{% set UNLOADING_SPEED = params.UNLOADING_SPEED|default(printer['gcode_macro UNLOAD_FILAMENT_FORM_TIP']['unloading_speed']) %}
	{% set COOLING_TUBE_LENGTH = params.COOLING_TUBE_LENGTH|default(printer['gcode_macro UNLOAD_FILAMENT_FORM_TIP']['cooling_tube_length']) %}
	{% set COOLING_TUBE_POSITION = params.COOLING_TUBE_POSITION|default(printer['gcode_macro UNLOAD_FILAMENT_FORM_TIP']['cooling_tube_position']) %}
	{% set INITIAL_COOLING_SPEED = params.INITIAL_COOLING_SPEED|default(printer['gcode_macro UNLOAD_FILAMENT_FORM_TIP']['initial_cooling_speed']) %}
	{% set FINAL_COOLING_SPEED = params.FINAL_COOLING_SPEED|default(printer['gcode_macro UNLOAD_FILAMENT_FORM_TIP']['final_cooling_speed']) %}
	{% set COOLING_MOVES = params.COOLING_MOVES|default(printer['gcode_macro UNLOAD_FILAMENT_FORM_TIP']['cooling_moves']) %}
	SAVE_GCODE_STATE NAME=load_state
	M117 Heating-
	M104 S205
	G28
	M109 S210
	M117 Unloading...
	M83
	G1 X105 Y0 Z80
	SET_PRESSURE_ADVANCE ADVANCE=0
	{% set TOTAL_RETRACTION_DISTANCE = COOLING_TUBE_POSITION|float + COOLING_TUBE_LENGTH|float / 2 - 15 %}
	G1 E-15 F{1.0 * UNLOADING_SPEED_START|float * 60}
	G1 E-{0.7 * TOTAL_RETRACTION_DISTANCE} F{1.0 * UNLOADING_SPEED|float * 60}
	G1 E-{0.2 * TOTAL_RETRACTION_DISTANCE} F{0.5 * UNLOADING_SPEED|float * 60}
	G1 E-{0.1 * TOTAL_RETRACTION_DISTANCE} F{0.3 * UNLOADING_SPEED|float * 60}
	{% set SPEED_INC = (FINAL_COOLING_SPEED|float - INITIAL_COOLING_SPEED|float) / (2 * COOLING_MOVES|float - 1) %}
	{% for move in range(COOLING_MOVES|int) %}
	G1 E{COOLING_TUBE_LENGTH} F{(INITIAL_COOLING_SPEED|float + SPEED_INC*move*2) * 60}
	G1 E-{COOLING_TUBE_LENGTH} F{(INITIAL_COOLING_SPEED|float + SPEED_INC*(move*2+1)) * 60}
	{% endfor %}
	G1 E-300 F3000
	G1 E-300 F3000
	G1 E-100 F1000
	M82
	M117 Sucess!
	RESTORE_GCODE_STATE NAME=load_state MOVE=1

[delayed_gcode POWER_ON_PRINTER]
initial_duration = 1
gcode = 
	PLAY_TONE l=1

[gcode_macro PLAY_TONE]
gcode = 
	{% set l = params.L|default(0)|int %}
	
	{% if l == 1 %}
	M300 P184 S392
	M300 P184 S523
	M300 P187 S659
	M300 P417 S784
	M300 P139 S659
	M300 P400 S784
	
	{% elif l == 2 %}
	M300 P146 S494
	M300 P97 S698
	M300 P157 S0
	M300 P132 S698
	M300 P174 S698
	M300 P168 S659
	M300 P176 S587
	M300 P134 S523
	M300 P95 S330
	M300 P31 S0
	
	{% elif l == 3 %}
	M300 P100 S659
	M300 P200 S659
	M300 P99 S659
	M300 P101 S0
	M300 P100 S523
	M300 P99 S659
	M300 P101 S0
	M300 P199 S784
	M300 P201 S0
	M300 P199 S392
	{% elif l == 4 %}
	M300 P353 S330
	M300 P353 S330
	M300 P353 S349
	M300 P353 S392
	M300 P353 S392
	M300 P353 S349
	M300 P353 S330
	M300 P353 S294
	M300 P353 S262
	M300 P353 S262
	M300 P353 S294
	M300 P353 S330
	M300 P529 S330
	M300 P176 S294
	M300 P706 S294
	{% else %}
	M300 P100 S0
	{% endif %}

[gcode_macro END_PRINT]
gcode = 
	
	{% set th = printer.toolhead %}
	{% set x_safe = th.position.x + 20 * (1 if th.axis_maximum.x - th.position.x > 20 else -1) %}
	{% set y_safe = th.position.y + 20 * (1 if th.axis_maximum.y - th.position.y > 20 else -1) %}
	{% set z_safe = [th.position.z + 50, th.axis_maximum.z]|min %}
	SAVE_GCODE_STATE NAME=STATE_PRINT_END
	M400
	G92 E0
	G1 E-5.0 F1800
	TURN_OFF_HEATERS
	G90
	G0 X{x_safe} Y{y_safe} Z{z_safe} F30000
	
	G0 X{th.axis_maximum.x//2} Y{th.axis_maximum.y} F30000
	BED_MESH_CLEAR
	RESTORE_GCODE_STATE NAME=STATE_PRINT_END
	
	SET_LED LED=case_light WHITE=0.25
	UPDATE_DELAYED_GCODE ID=filter_off DURATION=180
	PLAY_TONE l=2

[gcode_macro PRINT_START]
gcode = 
	
	{% set fct = {'ASA': 30, 'ABS': 50, 'NYLON': 35, 'PLA': 0, 'PC': 50, 'PETG': 30 } %}
	{% set ADAPTIVE_bed = params.ADAPTIVEBED|default("2")|int %}
	{% set MESH_bed = params.MESHbed|default("NONE") %}
	{% set skipheatsoak = params.skipheatsoak|default("0") %}
	{% set target_bed = params.BED|int %}
	{% set target_extruder = params.EXTRUDER|int %}
	{% set target_chamber = params.CHAMBER|default("0")|int %}
	{% set filament = params.filament|default("NONE") %}
	{% if filament != 'NONE' %}
	{% set target_chamber = fct[filament] %}
	{% endif %}
	{% set x_wait = printer.toolhead.axis_maximum.x|float / 2 %}
	{% set y_wait = printer.toolhead.axis_maximum.y|float / 2 %}
	
	
	STATUS_HOMING
	G28
	G90
	
	
	BED_MESH_CLEAR
	
	SET_FAN_SPEED FAN=Air_Scrubber SPEED=1
	
	SET_DISPLAY_TEXT MSG="Bed: {target_bed}c"
	STATUS_HEATING
	G1 X{x_wait} Y{y_wait} Z15 F9000
	M190 S{target_bed}
	{% if skipheatsoak == 0 %}
	HEAT_SOAK HEATER='heater_bed' TARGET={target_bed} SOAKER='temperature_sensor top_bed' SOAK_TEMP={target_bed * 0.80}
	{% endif %}
	
	SET_DISPLAY_TEXT MSG="Hotend: 150c"
	M109 S150
	SET_DISPLAY_TEXT MSG="Hotend: {target_extruder}c"
	M104 S{target_extruder}
	
	
	SET_DISPLAY_TEXT MSG="Z-tilt adjust"
	STATUS_LEVELING
	Z_TILT_ADJUST
	G28 Z
	
	
	
	
	
	
	
	
	{% if ADAPTIVE_bed == 99 %}
	{% if MESH_bed != "NONE" %}
	BED_MESH_CLEAR
	STATUS_MESHING
	SET_DISPLAY_TEXT MSG="Loading Mesh {MESH_bed}"
	BED_MESH_PROFILE LOAD="{MESH_bed}"
	{% endif %}
	{% else %}
	BED_MESH_CLEAR
	SET_DISPLAY_TEXT MSG="Adaptive Bed mesh"
	STATUS_MESHING
	bed_mesh_calibrate ADAPTIVE=1 ADAPTIVE_MARGIN={ADAPTIVE_bed}
	{% endif %}
	
	
	
	
	
	
	
	
	
	SET_DISPLAY_TEXT MSG="Hotend: {target_extruder}c"
	STATUS_HEATING
	G1 X{x_wait} Y{y_wait} Z15 F9000
	M107
	M109 S{target_extruder}
	SET_LED LED=case_light WHITE=1
	
	
	SET_DISPLAY_TEXT MSG="Printer goes brr"
	PLAY_TONE l=3
	STATUS_PRINTING
	G0 X0 Y1 F10000
	G0 Z0.3
	G91
	G1 X150 E35 F1000
	G90

[gcode_macro LOAD_FILAMENT]
gcode = 
	SAVE_GCODE_STATE NAME=unload_state
	M117 Heating+
	M104 S205
	HOME
	M109 S205
	M117 Unloading...
	M83
	
	G1 E200 F3000
	G1 E200 F3000
	G1 E250 F3000
	G1 E20 F120
	
	G1 E-5
	M82
	RESTORE_GCODE_STATE NAME=unload_state MOVE=1

[delayed_gcode DISABLEFILAMENTSENSOR]
initial_duration = 1
gcode = 
	SET_FILAMENT_SENSOR SENSOR=filament_sensor ENABLE=0

[gcode_macro SFS_ENABLE]
description = Enable smart filament sensor
gcode = 
	M117 ENABLING the Smart Filament Sensor
	G92 E0
	SET_FILAMENT_SENSOR SENSOR=filament_sensor ENABLE=1

[gcode_macro SFS_DISABLE]
description = Disable smart filament sensor
gcode = 
	M117 DISABLING the Smart Filament Sensor
	G92 E0
	SET_FILAMENT_SENSOR SENSOR=filament_sensor ENABLE=0

[gcode_macro _START_BED_HEAT]
gcode = 
	{% set t = params.T|default(60)|int %}
	{% set c = params.C|default(30)|int %}
	{% set h = params.H|default(600)|int %}
	M140 S{t}
	
	SET_GCODE_VARIABLE MACRO=_BED_HEAT_STATUS VARIABLE=time_remaining VALUE={h}
	SET_GCODE_VARIABLE MACRO=_BED_HEAT_STATUS VARIABLE=bed_temperature VALUE={t}
	
	UPDATE_DELAYED_GCODE ID=_BED_HEAT_TIMER DURATION=1
	SET_IDLE_TIMEOUT

[gcode_macro STOP_BED_HEAT]
gcode = 
	
	
	SET_GCODE_VARIABLE MACRO=_BED_HEAT_STATUS VARIABLE=time_remaining VALUE=0
	UPDATE_DELAYED_GCODE ID=_BED_HEAT_TIMER DURATION=0
	M117 PreHeat Stopped

[gcode_macro _BED_HEAT_STATUS]
variable_time_remaining = 0
variable_bed_temperature = 0
variable_chamber_temperature = 0
gcode = 
	{% if time_remaining > 0 %}
	M140 S{bed_temperature}
	
	SET_GCODE_VARIABLE MACRO=_BED_HEAT_STATUS VARIABLE=time_remaining VALUE={time_remaining - 1}
	M117 PreHeat {time_remaining}
	{% else %}
	STOP_BED_HEAT
	{% endif %}

[delayed_gcode BED_HEAT_TIMER]
gcode = 
	UPDATE_DELAYED_GCODE ID=_BED_HEAT_TIMER DURATION=1
	_BED_HEAT_STATUS

[gcode_macro BED_60]
gcode = 
	_START_BED_HEAT t=60 c=30 h=600

[gcode_macro BED_65]
gcode = 
	_START_BED_HEAT t=65 c=30 h=600

[gcode_macro BED_70]
gcode = 
	_START_BED_HEAT t=70 c=30 h=600

[gcode_macro PA_CAL]
gcode = 
	{% set BED = params.BED|default(65) |float %}
	{% set EXTRUDER = params.EXTRUDER|default(210) |float %}
	{% set PA_start = params.START|default(0) |float %}
	{% set PA_max = params.MAX|default(0.1) |float %}
	
	{% set PA_factor = PA_max / 20 |float %}
	
	{% set max_x = printer.configfile.config["stepper_x"]["position_max"]|float %}
	{% set max_y = printer.configfile.config["stepper_y"]["position_max"]|float %}
	
	{% set x_section = max_x / 6 | float %}
	{% set x_start = x_section | float %}
	{% set x_p1 = x_section * 2 | float %}
	{% set x_p2 = x_section * 4 | float %}
	{% set x_p3 = x_section * 5 | float %}
	
	{% set y_section = max_y / 24 | float %}
	{% set y_start = y_section | float %}
	{% set y_base = y_section * 2 | float %}
	
	PRINT_START BED={BED} EXTRUDER={EXTRUDER}
	
	G21
	G90
	M83
	SET_VELOCITY_LIMIT ACCEL=5000 ACCEL_TO_DECEL=2500
	G92 E0
	M106 S0
	
	SET_PRESSURE_ADVANCE ADVANCE={PA_start}
	G1 X{x_start} Y{y_start} F30000
	G1 Z0.25 F300
	G1 E0.75 F1800
	G1 X{x_p1} Y{y_start} E0.91798 F300
	G1 X{x_p2} Y{y_start} E1.83596 F9000
	G1 X{x_p3} Y{y_start} E0.91798 F300
	G1 E-0.75 F1800
	G1 Z1 F300
	
	{% for i in range(0, 20) %}
	SET_PRESSURE_ADVANCE ADVANCE={PA_start + i*PA_factor}
	M117 Testing Pressure Advance at: {i*PA_factor}
	G1 X{x_start} Y{y_base+(5*i)} F30000
	G1 Z0.25 F300
	G1 E0.75 F1800
	G1 X{x_p1} Y{y_base+(5*i)} E0.91798 F300
	G1 X{x_p2} Y{y_base+(5*i)} E1.83596 F9000
	G1 X{x_p3} Y{y_base+(5*i)} E0.91798 F300
	G1 E-0.75 F1800
	G1 Z1 F300
	{% endfor %}
	
	PRINT_END

[gcode_macro PA_TUNER]
description = Pressure Advance Tuning Macro
	=========================================
	parameters with defaults listed below:
	TOOLHEAD=""
	BED_X_LENGTH=printer.toolhead.axis.maximum.x
	BED_Y_LENGTH=printer.toolhead.axis.maximum.y
	FILAMENT_DIAMETER=printer...filament_diameter
	EXTRUSION_WIDTH=printer...nozzle_diameter
	LAYER_HEIGHT=0.3
	SIDE_LENGTH=100
	FAST_PRINT_SPEED=150
	SLOW_PRINT_SPEED=30
	COOLING_FAN_SPEED=255
	PA_MIN=0.0
	PA_MAX=1.0
	LAYERS=60
	BED_TEMP=55
	PRINTING_TEMP=210
	X_OFFSET=0
	Y_OFFSET=0
	BASE_ONLY_FLOW_PERCENT=125
	STARTUP_MACRO=LOCAL_GENERIC_PA_START
	END_MACRO=LOCAL_GENERIC_PA_END
	=========================================
gcode = 
	
	{% set bed_x = params.BED_X_LENGTH|default(printer.toolhead.axis_maximum.x)|float %}
	{% set bed_y = params.BED_Y_LENGTH|default(printer.toolhead.axis_maximum.y)|float %}
	{% set filament_d = params.FILAMENT_DIAMETER|default(printer.configfile.settings.extruder.filament_diameter)|float %}
	{% set e_width = params.EXTRUSION_WIDTH|default(printer.configfile.settings.extruder.nozzle_diameter)|float %}
	{% set tool = params.TOOLHEAD|default("") %}
	{% set flow_p = params.BASE_ONLY_FLOW_PERCENT|default(125.0)|float %}
	{% set rect_side_len = params.SIDE_LENGTH|default(100.0)|float %}
	{% set layer_h = params.LAYER_HEIGHT|default(0.3)|float %}
	{% set fspeed = params.FAST_PRINT_SPEED|default(150.0)|float %}
	{% set sspeed = params.SLOW_PRINT_SPEED|default(30.0)|float %}
	{% set fan_speed = params.COOLING_FAN_SPEED|default(255.0)|float %}
	{% set PA_low = params.PA_MIN|default(0.0)|float %}
	{% set PA_high = params.PA_MAX|default(1.0)|float %}
	{% set b_temp = params.BED_TEMP|default(55.0)|float %}
	{% set p_temp = params.PRINTING_TEMP|default(210.0)|float %}
	{% set off_x = params.X_OFFSET|default(0.0)|float %}
	{% set off_y = params.Y_OFFSET|default(0.0)|float %}
	{% set layer_num  = params.LAYERS|default(60)|int %}
	{% set startup_code = params.START_MACRO|default("LOCAL_GENERIC_PA_START PT=" ~ p_temp ~ " BT=" ~ b_temp)|string %}
	{% set end_code = params.END_MACRO|default("LOCAL_GENERIC_PA_END EJECT=" ~ bed_y)|string %}
	
	{% set PA_const = (2 * ((PA_high - PA_low) / layer_num)) - PA_low %}
	{% if PA_const < 0 %}
	{% set PA_sign = " + " %}
	{% else %}
	{% set PA_sign = " - " %}
	{% endif %}
	{% set info_str = "Bed X Length: " ~ bed_x %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed Y Length: " ~ bed_y %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed X Offset: " ~ off_x %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed Y Offset: " ~ off_y %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Extrusion Width: " ~ e_width %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Filament size: " ~ filament_d %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Layer Height: " ~ layer_h %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed Temperature: " ~ b_temp %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Print Temperature: " ~ p_temp %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Slow Printing Speed: " ~ sspeed %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Fast Printing Speed: " ~ fspeed %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Fan Speed: " ~ fan_speed %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Length of Test Square: " ~ rect_side_len %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Number of Layers: " ~ layer_num %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Minimum Pressure Advance: " ~ PA_low %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Maximum Pressure Advance: " ~ PA_high %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Formula: Pressure Advance Value = Measured_Z_Height x " ~ (((PA_high - PA_low) / layer_num) / layer_h) ~ PA_sign ~ PA_const|abs %}
	RESPOND MSG="{info_str}"
	{% set g_cmd = tool %}
	{ g_cmd }
	{% set g_cmd = startup_code %}
	{ g_cmd }
	{% set g_cmd = "M220 S100" %}
	{ g_cmd }
	{% set g_cmd = "M221 S100" %}
	{ g_cmd }
	{% set g_cmd = "SET_VELOCITY_LIMIT SQUARE_CORNER_VELOCITY=1 ACCEL=500" %}
	{ g_cmd }
	{% set g_cmd = "SET_PRESSURE_ADVANCE ADVANCE_LOOKAHEAD_TIME=0" %}
	{ g_cmd }
	{% set g_cmd = "G92 E0" %}
	{ g_cmd }
	{% set g_cmd = "M83" %}
	{ g_cmd }
	{% set current_x = (bed_x / 2) - (rect_side_len / 2) %}
	{% set current_y = (bed_y / 2) - (rect_side_len / 2) %}
	
	{% set g_cmd = "G1 X" ~ (current_x + off_x) ~ " Y" ~ (current_y + off_y) ~ " Z" ~ layer_h ~ " E1.0 F" ~ (fspeed*60) %}
	{ g_cmd }
	{% set g_cmd = "G91" %}
	{ g_cmd }
	{% set pressure_advance = 0.0 %}
	{% set PA_msg = "SET_PRESSURE_ADVANCE ADVANCE=" ~ pressure_advance %}
	{ PA_msg }
	pa_line LSPEED={20} X_L={rect_side_len} Y_L=0.0 LF={flow_p} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={20} X_L={0.0} Y_L={(rect_side_len/2)} LF={flow_p} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={20} X_L=0.0 Y_L={(rect_side_len/2)} LF={flow_p} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={20} X_L={0-rect_side_len} Y_L=0.0 LF={flow_p} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={20} X_L=0.0 Y_L={0-rect_side_len} LF={flow_p} FD={filament_d} EW={e_width} LH={layer_h}
	{% set g_cmd = "G1 Z" ~ layer_h %}
	{ g_cmd }
	
	{% set g_cmd = "M106 S" ~ fan_speed %}
	{ g_cmd }
	{% for i in range(layer_num) %}
	{% set pressure_advance = (i / layer_num) * (PA_high - PA_low) + PA_low|float %}
	{% set PA_msg = "SET_PRESSURE_ADVANCE ADVANCE=" ~ pressure_advance %}
	{ PA_msg }
	pa_line LSPEED={fspeed} X_L={rect_side_len} Y_L=0.0 FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={fspeed} X_L=0.0 Y_L={(rect_side_len/2)} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={sspeed} X_L=0.0 Y_L={(rect_side_len/2)} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={fspeed} X_L={0-rect_side_len} Y_L=0.0 FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={sspeed} X_L=0.0 Y_L={0-rect_side_len} FD={filament_d} EW={e_width} LH={layer_h}
	{% set g_cmd = "G1 Z" ~ layer_h %}
	{ g_cmd }
	{% endfor %}
	
	{% set pressure_advance = PA_high|float %}
	{% set PA_msg = "SET_PRESSURE_ADVANCE ADVANCE=" ~ pressure_advance %}
	{ PA_msg }
	pa_line LSPEED={fspeed} X_L={rect_side_len} Y_L=0.0 FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={fspeed} X_L=0.0 Y_L={(rect_side_len/2)} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={sspeed} X_L=0.0 Y_L={(rect_side_len/2)} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={fspeed} X_L={0-rect_side_len} Y_L=0.0 FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={sspeed} X_L=0.0 Y_L={0-rect_side_len} FD={filament_d} EW={e_width} LH={layer_h}
	{% set g_cmd = "G1 Z" ~ layer_h %}
	{ g_cmd }
	pa_line LSPEED={fspeed} X_L={rect_side_len} Y_L=0.0 FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={fspeed} X_L=0.0 Y_L={(rect_side_len/2)} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={sspeed} X_L=0.0 Y_L={(rect_side_len/2)} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={fspeed} X_L={0-rect_side_len} Y_L=0.0 FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={sspeed} X_L=0.0 Y_L={0-rect_side_len} FD={filament_d} EW={e_width} LH={layer_h}
	{% set g_cmd = "G1 Z" ~ layer_h %}
	{ g_cmd }
	{% set g_cmd = "G90" %}
	{ g_cmd }
	{% set g_cmd = end_code %}
	{ g_cmd }
	{% set info_str = "Bed X Length: " ~ bed_x %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed Y Length: " ~ bed_y %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed X Offset: " ~ off_x %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed Y Offset: " ~ off_y %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Extrusion Width: " ~ e_width %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Filament size: " ~ filament_d %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Layer Height: " ~ layer_h %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed Temperature: " ~ b_temp %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Print Temperature: " ~ p_temp %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Slow Printing Speed: " ~ sspeed %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Fast Printing Speed: " ~ fspeed %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Fan Speed: " ~ fan_speed %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Length of Test Square: " ~ rect_side_len %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Number of Layers: " ~ layer_num %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Minimum Pressure Advance: " ~ PA_low %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Maximum Pressure Advance: " ~ PA_high %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Formula: Pressure Advance Value = Measured_Z_Height x " ~ (((PA_high - PA_low) / layer_num) / layer_h) ~ PA_sign ~ PA_const|abs %}
	RESPOND MSG="{info_str}"

[gcode_macro pa_line]
gcode = 
	{% set flow_r = params.LF|default(100.0)|float %}
	{% set zoomy = params.LSPEED|default(50.0)|float %}
	{% set x_lin = params.X_L|default(100.0)|float %}
	{% set y_lin = params.Y_L|default(100.0)|float %}
	{% set f_size = params.FD|default(1.75)|float %}
	{% set e_size = params.EW|default(0.4)|float %}
	{% set l_size = params.LH|default(0.2)|float %}
	{% set flow_n = flow_r / 100 %}
	{% set lin_length = (x_lin**2 + y_lin**2)**(1/2) %}
	{% set e_len = lin_length / (f_size * f_size * 3.14159 * 0.25) %}
	{% set e_num = e_len * e_size * l_size * 1.67 %}
	{% set g_cmd = "G1 X" ~ x_lin ~ " Y" ~ y_lin ~ " E" ~ (e_num * flow_n) ~ " F" ~ (zoomy*60) %}
	{ g_cmd }

[gcode_macro LOCAL_GENERIC_PA_START ]
description = Generic startup gcode with a prime strip
gcode = 
	{% set b_t = params.BT|default(0.0)|float %}
	{% set p_t = params.PT|default(0.0)|float %}
	{% set b_x = params.BED_X_LENGTH|default(printer.toolhead.axis_maximum.x)|float %}
	{% set b_y = params.BED_Y_LENGTH|default(printer.toolhead.axis_maximum.y)|float %}
	{% set f_d = params.FILAMENT_DIAMETER|default(printer.configfile.settings.extruder.filament_diameter)|float %}
	{% set e_w = params.EXTRUSION_WIDTH|default(printer.configfile.settings.extruder.nozzle_diameter)|float %}
	{% set o_x = params.X_OFFSET|default(0.0)|float %}
	{% set o_y = params.Y_OFFSET|default(0.0)|float %}
	{% set l_h = params.LAYER_HEIGHT|default(0.3)|float %}
	{% set g_cmd = "M140 S" ~ b_t %}
	{ g_cmd }
	{% set g_cmd = "M104 S" ~ p_t %}
	{ g_cmd }
	{% set g_cmd = "M190 S" ~ b_t %}
	{ g_cmd }
	{% set g_cmd = "G28" %}
	{ g_cmd }
	{% set g_cmd = "G1 Z10 F1500" %}
	{ g_cmd }
	{% set g_cmd = "M109 S" ~ p_t %}
	{ g_cmd }
	{% set g_cmd = "G92 E0" %}
	{ g_cmd }
	{% set g_cmd = "G1 Z2.0 F3000" %}
	{ g_cmd }
	{% set g_cmd = "G1 X0.1 Y20 Z0.3 F5000.0" %}
	{ g_cmd }
	{% set g_cmd = "M83" %}
	{ g_cmd }
	{% set g_cmd = "G91" %}
	{ g_cmd }
	pa_line LSPEED=25 X_L=0.0 Y_L={(b_y - 40)} FD={f_d} EW={e_w} LH={l_h}
	{% set g_cmd = "G1 X0.3 Y0 F5000.0" %}
	{ g_cmd }
	pa_line LSPEED=25 X_L=0.0 Y_L={0-(b_y - 40)} FD={f_d} EW={e_w} LH={l_h}
	{% set g_cmd = "G90" %}
	{ g_cmd }
	{% set g_cmd = "M82" %}
	{ g_cmd }
	{% set g_cmd = "G92 E0" %}
	{ g_cmd }
	{% set g_cmd = "G1 Z2.0 F3000" %}
	{ g_cmd }

[gcode_macro LOCAL_GENERIC_PA_END ]
description = Generic ending gcode
gcode = 
	{% set y_done = params.EJECT|default(0.0)|float %}
	{% set g_cmd = "G91" %}
	{ g_cmd }
	{% set g_cmd = "G1 Z10 F450" %}
	{ g_cmd }
	{% set g_cmd = "G90" %}
	{ g_cmd }
	{% set g_cmd = "M82" %}
	{ g_cmd }
	{% set g_cmd = "G1 X0 Y" ~ y_done %}
	{ g_cmd }
	{% set g_cmd = "M106 S0" %}
	{ g_cmd }
	{% set g_cmd = "M104 S0" %}
	{ g_cmd }
	{% set g_cmd = "M140 S0" %}
	{ g_cmd }
	{% set g_cmd = "M84" %}
	{ g_cmd }

[gcode_macro TEST_SPEED]
gcode = 
	
	{% set speed  = params.SPEED|default(printer.configfile.settings.printer.max_velocity)|int %}
	
	{% set iterations = params.ITERATIONS|default(5)|int %}
	
	{% set accel  = params.ACCEL|default(printer.configfile.settings.printer.max_accel)|int %}
	
	{% set bound = params.BOUND|default(20)|int %}
	
	{% set smallpatternsize = SMALLPATTERNSIZE|default(20)|int %}
	
	
	
	{% set x_min = printer.toolhead.axis_minimum.x + bound %}
	{% set x_max = printer.toolhead.axis_maximum.x - bound %}
	{% set y_min = printer.toolhead.axis_minimum.y + bound %}
	{% set y_max = printer.toolhead.axis_maximum.y - bound %}
	
	
	
	{% set x_center = (printer.toolhead.axis_minimum.x|float + printer.toolhead.axis_maximum.x|float ) / 2 %}
	{% set y_center = (printer.toolhead.axis_minimum.y|float + printer.toolhead.axis_maximum.y|float ) / 2 %}
	
	
	{% set x_center_min = x_center - (smallpatternsize/2) %}
	{% set x_center_max = x_center + (smallpatternsize/2) %}
	{% set y_center_min = y_center - (smallpatternsize/2) %}
	{% set y_center_max = y_center + (smallpatternsize/2) %}
	
	
	SAVE_GCODE_STATE NAME=TEST_SPEED
	
	
	{ action_respond_info("TEST_SPEED: starting %d iterations at speed %d, accel %d" % (iterations, speed, accel)) }
	
	
	G28
	M400
	
	{% if printer.configfile.settings.quad_gantry_level %}
	{% if printer.quad_gantry_level.applied == False %}
	QUAD_GANTRY_LEVEL
	G28 Z
	{% endif %}
	{% endif %}
	
	G90
	G1 X{printer.toolhead.axis_maximum.x-50} Y{printer.toolhead.axis_maximum.y-50} F{30*60}
	M400
	G28 X Y
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	G0 X{x_min} Y{y_min} Z{bound + 10} F{speed*60}
	
	
	SET_VELOCITY_LIMIT VELOCITY={speed} ACCEL={accel} ACCEL_TO_DECEL={accel / 2}
	
	{% for i in range(iterations) %}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	{% endfor %}
	
	
	SET_VELOCITY_LIMIT VELOCITY={printer.configfile.settings.printer.max_velocity} ACCEL={printer.configfile.settings.printer.max_accel} ACCEL_TO_DECEL={printer.configfile.settings.printer.max_accel_to_decel}
	
	
	M400
	G28
	
	G90
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	RESTORE_GCODE_STATE NAME=TEST_SPEED

[gcode_macro _USE_INFILL_SQV]
gcode = 
	{% set svv = printer.save_variables.variables %}
	{% set sqv = svv.infill_sqv | default(printer.configfile.settings.printer.square_corner_velocity, true) %}
	SET_VELOCITY_LIMIT SQUARE_CORNER_VELOCITY={ sqv }

[gcode_macro _USE_NORMAL_SQV]
gcode = 
	{% set sqv = printer.configfile.settings.printer.square_corner_velocity %}
	SET_VELOCITY_LIMIT SQUARE_CORNER_VELOCITY={ sqv }

[gcode_macro SET_INFILL_SQV]
gcode = 
	{% set svv = printer.save_variables.variables %}
	{% set val = params.SQV|default(svv.infill_sqv|default(printer.configfile.settings.printer.square_corner_velocity, true), true) | int %}
	SAVE_VARIABLE VARIABLE=infill_sqv VALUE={val}

[gcode_macro M204]
rename_existing = M204.1
gcode = 
	{% set f = params.F|default(0.5)|float %}
	
	{% if 'S' in params %}
	{% set s = params.S|float %}
	SET_VELOCITY_LIMIT ACCEL={s} ACCEL_TO_DECEL={ s * f }
	{% else %}
	{% if 'P' in params %}
	{% set p = params.P|float %}
	{% if 'T' in params %}
	{% set t = params.T|float %}
	{% if p < t %}
	SET_VELOCITY_LIMIT ACCEL={p} ACCEL_TO_DECEL={ p * f }
	{% else %}
	SET_VELOCITY_LIMIT ACCEL={t} ACCEL_TO_DECEL={ t * f }
	{% endif %}
	{% else %}
	SET_VELOCITY_LIMIT ACCEL={p} ACCEL_TO_DECEL={ p * f }
	{% endif %}
	{% elif 'T' in params %}
	{% set t = params.T|float %}
	SET_VELOCITY_LIMIT ACCEL={t} ACCEL_TO_DECEL={ t * f }
	{% endif %}
	{% endif %}

[gcode_macro _START_DRYER]
gcode = 
	{% set t = params.T|default(60)|int %}
	{% set c = params.C|default(25)|int %}
	{% set h = params.H|default(14400)|int %}
	M140 S{t}
	
	SET_GCODE_VARIABLE MACRO=_DRYER_STATUS VARIABLE=time_remaining VALUE={h}
	SET_GCODE_VARIABLE MACRO=_DRYER_STATUS VARIABLE=bed_temperature VALUE={t}
	
	UPDATE_DELAYED_GCODE ID=_DRYER_TIMER DURATION=1
	SET_IDLE_TIMEOUT

[gcode_macro STOP_DRYER]
gcode = 
	M140 S0
	
	SET_GCODE_VARIABLE MACRO=_DRYER_STATUS VARIABLE=time_remaining VALUE=0
	UPDATE_DELAYED_GCODE ID=_DRYER_TIMER DURATION=0
	M117 Drying Stopped

[gcode_macro _DRYER_STATUS]
variable_time_remaining = 0
variable_bed_temperature = 0
variable_chamber_temperature = 0
gcode = _
	{% if time_remaining > 0 %}
	M140 S{bed_temperature}
	
	SET_GCODE_VARIABLE MACRO=_DRYER_STATUS VARIABLE=time_remaining VALUE={time_remaining - 1}
	M117 Drying {time_remaining}
	M118 Drying Time Remaining: {time_remaining}
	{% else %}
	STOP_DRYER
	{% endif %}

[delayed_gcode _DRYER_TIMER]
gcode = 
	UPDATE_DELAYED_GCODE ID=_DRYER_TIMER DURATION=1
	_DRYER_STATUS

[gcode_macro DRY_PLA]
gcode = 
	_START_DRYER t=50 c=25 h=14400

[gcode_macro DRY_PETG]
gcode = 
	_START_DRYER t=55 c=30 h=18000

[gcode_macro DRY_ABS]
gcode = 
	_START_DRYER t=65 c=40 h=14400

[printer]
kinematics = corexy
max_velocity = 800
max_accel = 5000
max_z_velocity = 15
max_z_accel = 50

[output_pin _BEEPER_pin]
pin = PE9
pwm = True
value = 0
shutdown_value = 0
cycle_time = 0.001
scale = 1

[idle_timeout]
timeout = 172800

[thermistor Trianglelab-NTC100K-B3950]
temperature1 = 25
resistance1 = 103180
temperature2 = 150
resistance2 = 1366.2
temperature3 = 250
resistance3 = 168.6

[temperature_sensor Bed_Top]
sensor_type = ATC Semitec 104NT-4-R025H42G
sensor_pin = PC1
min_temp = -50
max_temp = 300

[heater_fan hotend_fan]
pin = EBBCan:PA0
max_power = 1.0
kick_start_time = 0.5
heater = extruder
heater_temp = 50.0

[fan]
pin = EBBCan:PA1
max_power = 1.0
kick_start_time = 0.5
off_below = 0.10

[controller_fan _MOSFET]
pin = PA0
max_power = 0.8
kick_start_time = 0.5
idle_speed = 0.0
fan_speed = 1.0
idle_timeout = 30
off_below = 0.10
heater = heater_bed

[controller_fan _Monster8]
pin = PA1
max_power = 0.8
kick_start_time = 0.5
idle_speed = 0.0
fan_speed = 1.0
idle_timeout = 600
off_below = 0.10
stepper = stepper_x,stepper_y,stepper_z,stepper_z1,stepper_z2

[temperature_sensor Raspberry_Pi]
sensor_type = temperature_host
max_temp = 75
min_temp = 20

[temperature_sensor mcu_Monster]
sensor_type = temperature_mcu
min_temp = 0
max_temp = 100

[temperature_sensor mcu_ebb36]
sensor_type = temperature_mcu
sensor_mcu = EBBCan
min_temp = 0
max_temp = 100

[stepper_x]
step_pin = PITB:gpio6
dir_pin = PITB:gpio5
enable_pin = !PITB:gpio20
microsteps = 16
full_steps_per_rotation = 400
rotation_distance = 40
endstop_pin = tmc5160_stepper_x:virtual_endstop
position_endstop = -9
position_min = -9
position_max = 409
homing_speed = 40
homing_retract_dist = 20
second_homing_speed = 10.0

[tmc5160 stepper_x]
cs_pin = PITB:gpio1
spi_software_sclk_pin = PITB:gpio2
spi_software_mosi_pin = PITB:gpio3
spi_software_miso_pin = PITB:gpio4
diag1_pin = PITB:gpio7
driver_sgt = -64
interpolate = True
run_current = 1.1

[stepper_y]
step_pin = PITB:gpio13
dir_pin = PITB:gpio23
enable_pin = !PITB:gpio22
microsteps = 16
full_steps_per_rotation = 400
rotation_distance = 40
endstop_pin = tmc5160_stepper_y:virtual_endstop
position_endstop = 410
position_min = -15
position_max = 410
homing_speed = 40
homing_retract_dist = 20
second_homing_speed = 10.0

[tmc5160 stepper_y]
cs_pin = PITB:gpio21
spi_software_sclk_pin = PITB:gpio2
spi_software_mosi_pin = PITB:gpio3
spi_software_miso_pin = PITB:gpio4
diag1_pin = PITB:gpio14
driver_sgt = -64
interpolate = True
run_current = 1.1

[stepper_z]
step_pin = PB5
dir_pin = PB4
enable_pin = !PB6
position_max = 400
position_min = -2
homing_speed = 5
second_homing_speed = 3
homing_retract_dist = 5
homing_retract_speed = 2
endstop_pin = probe:z_virtual_endstop
microsteps = 128
rotation_distance = 4

[tmc2209 stepper_z]
uart_pin = PB3
run_current = 0.800
hold_current = 0.500
interpolate = false

[stepper_z1]
step_pin = PD6
dir_pin = PD5
enable_pin = !PD7
microsteps = 128
rotation_distance = 4

[tmc2209 stepper_z1]
uart_pin = PD4
run_current = 0.800
hold_current = 0.500
interpolate = false

[stepper_z2]
step_pin = PD2
dir_pin = PD1
enable_pin = !PD3
microsteps = 128
rotation_distance = 4

[tmc2209 stepper_z2]
uart_pin = PD0
run_current = 0.800
hold_current = 0.500
interpolate = false

[z_tilt]
horizontal_move_z = 30
speed = 120
z_positions = -51,0
	136,440
	434,0
points = 40,20
	171,390
	409,20
retry_tolerance = 0.05
retries = 20

[screws_tilt_adjust]
screw1 = 30,30
screw1_name = Front Left
screw2 = 30,200
screw2_name = Mid Left
screw3 = 30,370
screw3_name = Back Left
screw4 = 370,30
screw4_name = Front Right
screw5 = 370,200
screw5_name = Mid Right
screw6 = 370,370
screw6_name = Back Right

[bed_screws]
screw1 = 30,30
screw2 = 30,200
screw3 = 30,370
screw4 = 370,30
screw5 = 370,200
screw6 = 370,370

[heater_bed]
heater_pin = PB10
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PC0
max_power = 1.0
min_temp = 0
max_temp = 130
control = pid
pid_kp = 73.560
pid_ki = 0.863
pid_kd = 1566.832

[neopixel Main_LED]
pin = PC5
chain_count = 24
color_order = GRB
initial_red = 0.0
initial_green = 0.0
initial_blue = 0.0

[BDsensor]
scl_pin = EBBCan:PB9
sda_pin = EBBCan:PB8
delay = 20
z_offset = 0
x_offset = -34
y_offset = 0
position_endstop = 0.8
collision_homing = 0
collision_calibrate = 0
z_adjust = 0.0

[bed_mesh]
speed = 500
mesh_min = 50,50
mesh_max = 350,350
probe_count = 20, 20
mesh_pps = 2, 2
algorithm = bicubic
horizontal_move_z = 1
zero_reference_position = 200, 200

[adxl345]
cs_pin = EBBCan:PB12
spi_software_sclk_pin = EBBCan:PB10
spi_software_mosi_pin = EBBCan:PB11
spi_software_miso_pin = EBBCan:PB2
axes_map = x,y,z

[resonance_tester]
accel_chip = adxl345
probe_points = 
	200, 200, 20

[extruder]
step_pin = EBBCan:PD0
dir_pin = !EBBCan:PD1
enable_pin = !EBBCan:PD2
microsteps = 64
rotation_distance = 5.693950178
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = EBBCan: PB13
sensor_pin = EBBCan: PA3
sensor_type = ATC Semitec 104NT-4-R025H42G
min_temp = 0
max_temp = 300
control = pid
pid_kp = 44.021
pid_ki = 8.152
pid_kd = 59.428

[tmc2209 extruder]
uart_pin = EBBCan:PA15
interpolate = False
run_current = 0.800
stealthchop_threshold = 0

[filament_motion_sensor filament_sensor]
detection_length = 10.0
extruder = extruder
switch_pin = ^PA13
pause_on_runout = True
event_delay = 3.0
pause_delay = 0.5
runout_gcode = 
	M117 Runout Detected!

[gcode_macro M900]
gcode = 
	{% if 'K' in params %}
	{% if 'E' in params %}
	SET_PRESSURE_ADVANCE EXTRUDER={params.E} ADVANCE={params.K}
	{% else %}
	SET_PRESSURE_ADVANCE ADVANCE={params.K}
	{% endif %}
	{% endif %}

[gcode_macro Level_Bed]
gcode = 
	Z_TILT_ADJUST
	BED_MESH_CALIBRATE

[gcode_macro PARK]
gcode = 
	{% set th = printer.toolhead %}
	G0 Z40 F20000
	G0 X{th.axis_maximum.x//2} Y{th.axis_maximum.y//2} Z40 F30000

[gcode_macro G32]
gcode = 
	SAVE_GCODE_STATE NAME=STATE_G32
	G90
	G28
	Z_TILT_ADJUST
	G28
	PARK
	RESTORE_GCODE_STATE NAME=STATE_G32

[gcode_macro M0]
gcode = 
	PAUSE

[gcode_macro G29]
gcode = 
	{% if printer.idle_timeout.state == "Printing" %}
	{action_respond_info("This command cannot be used while printing")}
	{% elif printer.toolhead.homed_axes != "xyz" %}
	{action_respond_info("Please home XYZ first")}
	{% else %}
	SAVE_GCODE_STATE NAME=STATE_G29
	G90
	G28
	Z_TILT_ADJUST
	G28
	PARK
	BED_MESH_CALIBRATE
	BED_MESH_PROFILE SAVE=p1
	BED_MESH_PROFILE LOAD="p1"
	RESTORE_GCODE_STATE NAME=STATE_G29
	{% endif %}

[force_move]
enable_force_move = True

[firmware_retraction]
retract_length = 0.5
retract_speed = 40
unretract_extra_length = 0.1
unretract_speed = 30

[verify_heater heater_bed]
max_error = 120
hysteresis = 5
heating_gain = 2

[verify_heater extruder]
max_error = 120
check_gain_time = 90
hysteresis = 5
heating_gain = 2

[gcode_macro M486]
gcode = 
	
	
	
	
	
	
	
	
	
	
	
	{% if 'exclude_object' not in printer %}
	{action_raise_error("[exclude_object] is not enabled")}
	{% endif %}
	
	{% if 'T' in params %}
	EXCLUDE_OBJECT RESET=1
	
	{% for i in range(params.T | int) %}
	EXCLUDE_OBJECT_DEFINE NAME={i}
	{% endfor %}
	{% endif %}
	
	{% if 'C' in params %}
	EXCLUDE_OBJECT CURRENT=1
	{% endif %}
	
	{% if 'P' in params %}
	EXCLUDE_OBJECT NAME={params.P}
	{% endif %}
	
	{% if 'S' in params %}
	{% if params.S == '-1' %}
	{% if printer.exclude_object.current_object %}
	EXCLUDE_OBJECT_END NAME={printer.exclude_object.current_object}
	{% endif %}
	{% else %}
	EXCLUDE_OBJECT_START NAME={params.S}
	{% endif %}
	{% endif %}
	
	{% if 'U' in params %}
	EXCLUDE_OBJECT RESET=1 NAME={params.U}
	{% endif %}

[gcode_arcs]
resolution = 1.0

[gcode_macro G12]
gcode = 
	{% set CLEANTYPE = params.P|default(2) %}
	{% set RADI = params.R|default(2) %}
	{% set repetitions = params.S|default(2) %}
	{% set triangles = params.T|default(2) %}
	{% set th = printer.toolhead %}
	
	{% if printer.idle_timeout.state == "Printing" %}
	{action_respond_info("This command cannot be used while printing")}
	{% elif printer.toolhead.homed_axes != "xyz" %}
	{action_respond_info("Please home XYZ first")}
	{% else %}
	{action_respond_info("Cleaning Printhead")}
	SAVE_GCODE_STATE NAME=STATE_G12
	G90
	{% if params.P == '0' %}
	{action_respond_info("Cleaning Printhead back and forward")}
	G0 X405 Y400 Z1 F3600
	{% if repetitions == '1' %}
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	{% elif repetitions == '2' %}
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	{% elif repetitions == '3' %}
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	{% elif repetitions == '4' %}
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	{% elif repetitions == '5' %}
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	{% endif %}
	{% elif CLEANTYPE == '1' %}
	G0 X405 Y400 Z1 F3600
	
	
	{% elif CLEANTYPE == '2' %}
	G0 X405 Y400 Z1 F3600
	G3 X405 Y390 R{RADI} P{repetitions}
	G2 X405 Y390 R{RADI} P{repetitions}
	{% endif %}
	G0 X{th.axis_maximum.x//2} Y{th.axis_maximum.y//2} Z30 F3600
	RESTORE_GCODE_STATE NAME=STATE_G12
	{action_respond_info("Cleaning Done")}
	{% endif %}

[exclude_object]

[input_shaper]

[bed_mesh default]
version = 1
points = 
	1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 0.990000, 0.985000, 0.985000, 0.990000, 0.995000, 0.990000, 0.975000, 0.970000, 0.985000, 0.985000, 0.975000, 0.970000
	1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 0.995000, 0.980000, 0.970000, 0.965000, 0.960000, 0.960000, 0.935000, 0.905000, 0.910000, 0.920000, 0.920000, 0.915000, 0.920000, 0.920000, 0.905000
	1.000000, 1.000000, 1.000000, 1.000000, 0.990000, 0.970000, 0.960000, 0.950000, 0.940000, 0.930000, 0.895000, 0.860000, 0.860000, 0.840000, 0.825000, 0.805000, 0.800000, 0.800000, 0.800000, 0.800000
	1.000000, 1.000000, 1.000000, 1.000000, 0.985000, 0.960000, 0.945000, 0.910000, 0.890000, 0.870000, 0.865000, 0.745000, 0.695000, 0.680000, 0.685000, 0.640000, 0.635000, 0.625000, 0.625000, 0.625000
	1.000000, 1.000000, 1.000000, 0.995000, 0.925000, 0.900000, 0.865000, 0.830000, 0.740000, 0.690000, 0.675000, 0.645000, 0.640000, 0.525000, 0.515000, 0.480000, 0.480000, 0.475000, 0.465000, 0.465000
	1.000000, 1.000000, 1.000000, 0.920000, 0.860000, 0.830000, 0.800000, 0.755000, 0.635000, 0.560000, 0.505000, 0.450000, 0.425000, 0.395000, 0.365000, 0.340000, 0.315000, 0.315000, 0.315000, 0.305000
	1.000000, 1.000000, 0.975000, 0.885000, 0.810000, 0.760000, 0.725000, 0.620000, 0.510000, 0.435000, 0.375000, 0.305000, 0.280000, 0.250000, 0.215000, 0.180000, 0.175000, 0.170000, 0.160000, 0.165000
	0.985000, 0.970000, 0.840000, 0.825000, 0.750000, 0.670000, 0.550000, 0.440000, 0.355000, 0.280000, 0.215000, 0.180000, 0.125000, 0.100000, 0.080000, 0.040000, 0.015000, 0.015000, 0.005000, 0.010000
	0.880000, 0.845000, 0.780000, 0.690000, 0.625000, 0.580000, 0.475000, 0.355000, 0.250000, 0.160000, 0.095000, 0.030000, -0.000000, -0.040000, -0.060000, -0.090000, -0.110000, -0.110000, -0.110000, -0.115000
	0.760000, 0.725000, 0.670000, 0.585000, 0.525000, 0.460000, 0.360000, 0.240000, 0.125000, 0.040000, -0.050000, -0.100000, -0.140000, -0.155000, -0.190000, -0.220000, -0.230000, -0.235000, -0.220000, -0.225000
	0.635000, 0.600000, 0.525000, 0.460000, 0.380000, 0.320000, 0.235000, 0.205000, 0.155000, -0.080000, -0.150000, -0.220000, -0.275000, -0.280000, -0.325000, -0.335000, -0.360000, -0.350000, -0.365000, -0.350000
	0.505000, 0.465000, 0.410000, 0.330000, 0.260000, 0.180000, 0.090000, -0.040000, -0.145000, -0.215000, -0.300000, -0.350000, -0.395000, -0.435000, -0.440000, -0.475000, -0.490000, -0.485000, -0.490000, -0.485000
	0.385000, 0.350000, 0.270000, 0.195000, 0.125000, 0.080000, -0.020000, -0.150000, -0.265000, -0.345000, -0.400000, -0.480000, -0.520000, -0.535000, -0.565000, -0.590000, -0.600000, -0.600000, -0.590000, -0.600000
	0.265000, 0.225000, 0.170000, 0.080000, 0.025000, -0.020000, -0.130000, -0.240000, -0.350000, -0.460000, -0.525000, -0.580000, -0.615000, -0.645000, -0.685000, -0.695000, -0.710000, -0.710000, -0.715000, -0.710000
	0.170000, 0.120000, 0.045000, -0.020000, -0.075000, -0.135000, -0.225000, -0.350000, -0.475000, -0.550000, -0.605000, -0.665000, -0.715000, -0.715000, -0.765000, -0.790000, -0.800000, -0.795000, -0.785000, -0.800000
	0.070000, 0.045000, -0.020000, -0.105000, -0.175000, -0.250000, -0.370000, -0.480000, -0.580000, -0.655000, -0.730000, -0.785000, -0.825000, -0.845000, -0.875000, -0.895000, -0.900000, -0.885000, -0.890000, -0.880000
	0.000000, -0.045000, -0.110000, -0.210000, -0.270000, -0.320000, -0.410000, -0.565000, -0.670000, -0.755000, -0.825000, -0.880000, -0.910000, -0.910000, -0.960000, -0.995000, -0.995000, -0.990000, -0.990000, -0.985000
	-0.020000, -0.080000, -0.155000, -0.250000, -0.310000, -0.365000, -0.465000, -0.630000, -0.750000, -0.840000, -0.895000, -0.950000, -0.990000, -1.010000, -1.030000, -1.040000, -1.055000, -1.060000, -1.035000, -1.050000
	-0.040000, -0.075000, -0.210000, -0.310000, -0.365000, -0.420000, -0.550000, -0.705000, -0.825000, -0.925000, -1.005000, -1.055000, -1.075000, -1.100000, -1.115000, -1.155000, -1.155000, -1.130000, -1.145000, -1.140000
	-0.005000, -0.050000, -0.150000, -0.255000, -0.350000, -0.415000, -0.545000, -0.710000, -0.855000, -0.950000, -1.065000, -1.100000, -1.145000, -1.165000, -1.185000, -1.205000, -1.210000, -1.205000, -1.195000, -1.185000
x_count = 20
y_count = 20
mesh_x_pps = 2
mesh_y_pps = 2
algo = bicubic
tension = 0.2
min_x = 50.0
max_x = 349.82
min_y = 50.0
max_y = 349.82
=======================
BMxx80: Oversampling: Temp 2x Humid 2x Pressure 2x
BMxx80: IIR: 1x
Extruder max_extrude_ratio=0.266081
mcu 'mcu': Starting CAN connect
Created a socket
webhooks client 547632176336: New connection
webhooks client 547632176336: Client info {'program': 'Moonraker', 'version': 'v0.8.0-387-gb8ba6c0'}
Loaded MCU 'mcu' 127 commands (v0.12.0-267-g12cd1d9e / gcc: (15:12.2.rel1-1) 12.2.1 20221205 binutils: (2.40-2+18+b1) 2.40)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c1=PB6,PB7 BUS_PINS_i2c1a=PB8,PB9 BUS_PINS_i2c2=PB10,PB11 BUS_PINS_i2c2a=PH4,PH5 BUS_PINS_i2c3=PA8,PC9 BUS_PINS_i2c3a=PH7,PH8 BUS_PINS_sdio=PC12,PD2,PC8,PC9,PC10,PC11 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2a=PC2,PC3,PB10 BUS_PINS_spi2b=PI2,PI3,PI1 BUS_PINS_spi3=PB4,PB5,PB3 BUS_PINS_spi3a=PC11,PC12,PC10 CANBUS_BRIDGE=1 CLOCK_FREQ=168000000 MCU=stm32f407xx PWM_MAX=255 RECEIVE_WINDOW=192 RESERVE_PINS_CAN=PB8,PB9 RESERVE_PINS_USB=PA11,PA12 RESERVE_PINS_crystal=PH0,PH1 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu 'EBBCan': Starting CAN connect
Created a socket
Loaded MCU 'EBBCan' 119 commands (v0.12.0-267-g12cd1d9e-dirty-20240725_173632-Core400 / gcc: (15:12.2.rel1-1) 12.2.1 20221205 binutils: (2.40-2+18+b1) 2.40)
MCU 'EBBCan' config: ADC_MAX=4095 BUS_PINS_i2c1_PA9_PA10=PA9,PA10 BUS_PINS_i2c1_PB6_PB7=PB6,PB7 BUS_PINS_i2c1_PB8_PB9=PB8,PB9 BUS_PINS_i2c2_PB10_PB11=PB10,PB11 BUS_PINS_i2c2_PB13_PB14=PB13,PB14 BUS_PINS_i2c3_PB3_PB4=PB3,PB4 BUS_PINS_i2c3_PC0_PC1=PC0,PC1 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2_PB2_PB11_PB10=PB2,PB11,PB10 BUS_PINS_spi2a=PC2,PC3,PB10 BUS_PINS_spi3=PB4,PB5,PB3 CANBUS_FREQUENCY=1000000 CLOCK_FREQ=64000000 MCU=stm32g0b1xx PWM_MAX=255 RECEIVE_WINDOW=192 RESERVE_PINS_CAN=PB0,PB1 RESERVE_PINS_crystal=PF0,PF1 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu 'PITB': Starting CAN connect
Created a socket
Loaded MCU 'PITB' 115 commands (v0.12.0-267-g12cd1d9e / gcc: (15:12.2.rel1-1) 12.2.1 20221205 binutils: (2.40-2+18+b1) 2.40)
MCU 'PITB' config: ADC_MAX=4095 BUS_PINS_i2c0a=gpio0,gpio1 BUS_PINS_i2c0b=gpio4,gpio5 BUS_PINS_i2c0c=gpio8,gpio9 BUS_PINS_i2c0d=gpio12,gpio13 BUS_PINS_i2c0e=gpio16,gpio17 BUS_PINS_i2c0f=gpio20,gpio21 BUS_PINS_i2c0g=gpio24,gpio25 BUS_PINS_i2c0h=gpio28,gpio29 BUS_PINS_i2c1a=gpio2,gpio3 BUS_PINS_i2c1b=gpio6,gpio7 BUS_PINS_i2c1c=gpio10,gpio11 BUS_PINS_i2c1d=gpio14,gpio15 BUS_PINS_i2c1e=gpio18,gpio19 BUS_PINS_i2c1f=gpio22,gpio23 BUS_PINS_i2c1g=gpio26,gpio27 BUS_PINS_spi0a=gpio0,gpio3,gpio2 BUS_PINS_spi0b=gpio4,gpio7,gpio6 BUS_PINS_spi0c=gpio16,gpio19,gpio18 BUS_PINS_spi0d=gpio20,gpio23,gpio22 BUS_PINS_spi1a=gpio8,gpio11,gpio10 BUS_PINS_spi1b=gpio12,gpio15,gpio14 BUS_PINS_spi1c=gpio24,gpio27,gpio26 CANBUS_FREQUENCY=1000000 CLOCK_FREQ=12000000 MCU=rp2040 PWM_MAX=255 RECEIVE_WINDOW=192 RESERVE_PINS_CAN=gpio9,gpio8 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu_temperature 'PITB' nominal base=437.226612 slope=-1917.489831
mcu_temperature 'mcu' nominal base=-279.593496 slope=1331.707317
mcu_temperature 'EBBCan' nominal base=-269.710145 slope=1305.652174
Sending MCU 'mcu' printer configuration...
Configured MCU 'mcu' (1024 moves)
Sending MCU 'EBBCan' printer configuration...
Configured MCU 'EBBCan' (1024 moves)
Sending MCU 'PITB' printer configuration...
Configured MCU 'PITB' (1024 moves)
bme280: Found Chip BMP280 at 0x76
TMC stepper_x failed to init: Unable to write tmc spi 'stepper_x' register GLOBALSCALER
TMC stepper_y failed to init: Unable to write tmc spi 'stepper_y' register GLOBALSCALER
Starting heater checks for heater_bed
bed_mesh: generated points
Index |  Tool Adjusted  |   Probe
  0   | (84.0, 50.0)    | (50.0, 50.0)
  1   | (99.8, 50.0)    | (65.8, 50.0)
  2   | (115.6, 50.0)   | (81.6, 50.0)
  3   | (131.3, 50.0)   | (97.3, 50.0)
  4   | (147.1, 50.0)   | (113.1, 50.0)
  5   | (162.9, 50.0)   | (128.9, 50.0)
  6   | (178.7, 50.0)   | (144.7, 50.0)
  7   | (194.5, 50.0)   | (160.5, 50.0)
  8   | (210.2, 50.0)   | (176.2, 50.0)
  9   | (226.0, 50.0)   | (192.0, 50.0)
  10  | (241.8, 50.0)   | (207.8, 50.0)
  11  | (257.6, 50.0)   | (223.6, 50.0)
  12  | (273.4, 50.0)   | (239.4, 50.0)
  13  | (289.1, 50.0)   | (255.1, 50.0)
  14  | (304.9, 50.0)   | (270.9, 50.0)
  15  | (320.7, 50.0)   | (286.7, 50.0)
  16  | (336.5, 50.0)   | (302.5, 50.0)
  17  | (352.3, 50.0)   | (318.3, 50.0)
  18  | (368.0, 50.0)   | (334.0, 50.0)
  19  | (383.8, 50.0)   | (349.8, 50.0)
  20  | (383.8, 65.8)   | (349.8, 65.8)
  21  | (368.0, 65.8)   | (334.0, 65.8)
  22  | (352.3, 65.8)   | (318.3, 65.8)
  23  | (336.5, 65.8)   | (302.5, 65.8)
  24  | (320.7, 65.8)   | (286.7, 65.8)
  25  | (304.9, 65.8)   | (270.9, 65.8)
  26  | (289.1, 65.8)   | (255.1, 65.8)
  27  | (273.4, 65.8)   | (239.4, 65.8)
  28  | (257.6, 65.8)   | (223.6, 65.8)
  29  | (241.8, 65.8)   | (207.8, 65.8)
  30  | (226.0, 65.8)   | (192.0, 65.8)
  31  | (210.2, 65.8)   | (176.2, 65.8)
  32  | (194.5, 65.8)   | (160.5, 65.8)
  33  | (178.7, 65.8)   | (144.7, 65.8)
  34  | (162.9, 65.8)   | (128.9, 65.8)
  35  | (147.1, 65.8)   | (113.1, 65.8)
  36  | (131.3, 65.8)   | (97.3, 65.8)
  37  | (115.6, 65.8)   | (81.6, 65.8)
  38  | (99.8, 65.8)    | (65.8, 65.8)
  39  | (84.0, 65.8)    | (50.0, 65.8)
  40  | (84.0, 81.6)    | (50.0, 81.6)
  41  | (99.8, 81.6)    | (65.8, 81.6)
  42  | (115.6, 81.6)   | (81.6, 81.6)
  43  | (131.3, 81.6)   | (97.3, 81.6)
  44  | (147.1, 81.6)   | (113.1, 81.6)
  45  | (162.9, 81.6)   | (128.9, 81.6)
  46  | (178.7, 81.6)   | (144.7, 81.6)
  47  | (194.5, 81.6)   | (160.5, 81.6)
  48  | (210.2, 81.6)   | (176.2, 81.6)
  49  | (226.0, 81.6)   | (192.0, 81.6)
  50  | (241.8, 81.6)   | (207.8, 81.6)
  51  | (257.6, 81.6)   | (223.6, 81.6)
  52  | (273.4, 81.6)   | (239.4, 81.6)
  53  | (289.1, 81.6)   | (255.1, 81.6)
  54  | (304.9, 81.6)   | (270.9, 81.6)
  55  | (320.7, 81.6)   | (286.7, 81.6)
  56  | (336.5, 81.6)   | (302.5, 81.6)
  57  | (352.3, 81.6)   | (318.3, 81.6)
  58  | (368.0, 81.6)   | (334.0, 81.6)
  59  | (383.8, 81.6)   | (349.8, 81.6)
  60  | (383.8, 97.3)   | (349.8, 97.3)
  61  | (368.0, 97.3)   | (334.0, 97.3)
  62  | (352.3, 97.3)   | (318.3, 97.3)
  63  | (336.5, 97.3)   | (302.5, 97.3)
  64  | (320.7, 97.3)   | (286.7, 97.3)
  65  | (304.9, 97.3)   | (270.9, 97.3)
  66  | (289.1, 97.3)   | (255.1, 97.3)
  67  | (273.4, 97.3)   | (239.4, 97.3)
  68  | (257.6, 97.3)   | (223.6, 97.3)
  69  | (241.8, 97.3)   | (207.8, 97.3)
  70  | (226.0, 97.3)   | (192.0, 97.3)
  71  | (210.2, 97.3)   | (176.2, 97.3)
  72  | (194.5, 97.3)   | (160.5, 97.3)
  73  | (178.7, 97.3)   | (144.7, 97.3)
  74  | (162.9, 97.3)   | (128.9, 97.3)
  75  | (147.1, 97.3)   | (113.1, 97.3)
  76  | (131.3, 97.3)   | (97.3, 97.3)
  77  | (115.6, 97.3)   | (81.6, 97.3)
  78  | (99.8, 97.3)    | (65.8, 97.3)
  79  | (84.0, 97.3)    | (50.0, 97.3)
  80  | (84.0, 113.1)   | (50.0, 113.1)
  81  | (99.8, 113.1)   | (65.8, 113.1)
  82  | (115.6, 113.1)  | (81.6, 113.1)
  83  | (131.3, 113.1)  | (97.3, 113.1)
  84  | (147.1, 113.1)  | (113.1, 113.1)
  85  | (162.9, 113.1)  | (128.9, 113.1)
  86  | (178.7, 113.1)  | (144.7, 113.1)
  87  | (194.5, 113.1)  | (160.5, 113.1)
  88  | (210.2, 113.1)  | (176.2, 113.1)
  89  | (226.0, 113.1)  | (192.0, 113.1)
  90  | (241.8, 113.1)  | (207.8, 113.1)
  91  | (257.6, 113.1)  | (223.6, 113.1)
  92  | (273.4, 113.1)  | (239.4, 113.1)
  93  | (289.1, 113.1)  | (255.1, 113.1)
  94  | (304.9, 113.1)  | (270.9, 113.1)
  95  | (320.7, 113.1)  | (286.7, 113.1)
  96  | (336.5, 113.1)  | (302.5, 113.1)
  97  | (352.3, 113.1)  | (318.3, 113.1)
  98  | (368.0, 113.1)  | (334.0, 113.1)
  99  | (383.8, 113.1)  | (349.8, 113.1)
  100 | (383.8, 128.9)  | (349.8, 128.9)
  101 | (368.0, 128.9)  | (334.0, 128.9)
  102 | (352.3, 128.9)  | (318.3, 128.9)
  103 | (336.5, 128.9)  | (302.5, 128.9)
  104 | (320.7, 128.9)  | (286.7, 128.9)
  105 | (304.9, 128.9)  | (270.9, 128.9)
  106 | (289.1, 128.9)  | (255.1, 128.9)
  107 | (273.4, 128.9)  | (239.4, 128.9)
  108 | (257.6, 128.9)  | (223.6, 128.9)
  109 | (241.8, 128.9)  | (207.8, 128.9)
  110 | (226.0, 128.9)  | (192.0, 128.9)
  111 | (210.2, 128.9)  | (176.2, 128.9)
  112 | (194.5, 128.9)  | (160.5, 128.9)
  113 | (178.7, 128.9)  | (144.7, 128.9)
  114 | (162.9, 128.9)  | (128.9, 128.9)
  115 | (147.1, 128.9)  | (113.1, 128.9)
  116 | (131.3, 128.9)  | (97.3, 128.9)
  117 | (115.6, 128.9)  | (81.6, 128.9)
  118 | (99.8, 128.9)   | (65.8, 128.9)
  119 | (84.0, 128.9)   | (50.0, 128.9)
  120 | (84.0, 144.7)   | (50.0, 144.7)
  121 | (99.8, 144.7)   | (65.8, 144.7)
  122 | (115.6, 144.7)  | (81.6, 144.7)
  123 | (131.3, 144.7)  | (97.3, 144.7)
  124 | (147.1, 144.7)  | (113.1, 144.7)
  125 | (162.9, 144.7)  | (128.9, 144.7)
  126 | (178.7, 144.7)  | (144.7, 144.7)
  127 | (194.5, 144.7)  | (160.5, 144.7)
  128 | (210.2, 144.7)  | (176.2, 144.7)
  129 | (226.0, 144.7)  | (192.0, 144.7)
  130 | (241.8, 144.7)  | (207.8, 144.7)
  131 | (257.6, 144.7)  | (223.6, 144.7)
  132 | (273.4, 144.7)  | (239.4, 144.7)
  133 | (289.1, 144.7)  | (255.1, 144.7)
  134 | (304.9, 144.7)  | (270.9, 144.7)
  135 | (320.7, 144.7)  | (286.7, 144.7)
  136 | (336.5, 144.7)  | (302.5, 144.7)
  137 | (352.3, 144.7)  | (318.3, 144.7)
  138 | (368.0, 144.7)  | (334.0, 144.7)
  139 | (383.8, 144.7)  | (349.8, 144.7)
  140 | (383.8, 160.5)  | (349.8, 160.5)
  141 | (368.0, 160.5)  | (334.0, 160.5)
  142 | (352.3, 160.5)  | (318.3, 160.5)
  143 | (336.5, 160.5)  | (302.5, 160.5)
  144 | (320.7, 160.5)  | (286.7, 160.5)
  145 | (304.9, 160.5)  | (270.9, 160.5)
  146 | (289.1, 160.5)  | (255.1, 160.5)
  147 | (273.4, 160.5)  | (239.4, 160.5)
  148 | (257.6, 160.5)  | (223.6, 160.5)
  149 | (241.8, 160.5)  | (207.8, 160.5)
  150 | (226.0, 160.5)  | (192.0, 160.5)
  151 | (210.2, 160.5)  | (176.2, 160.5)
  152 | (194.5, 160.5)  | (160.5, 160.5)
  153 | (178.7, 160.5)  | (144.7, 160.5)
  154 | (162.9, 160.5)  | (128.9, 160.5)
  155 | (147.1, 160.5)  | (113.1, 160.5)
  156 | (131.3, 160.5)  | (97.3, 160.5)
  157 | (115.6, 160.5)  | (81.6, 160.5)
  158 | (99.8, 160.5)   | (65.8, 160.5)
  159 | (84.0, 160.5)   | (50.0, 160.5)
  160 | (84.0, 176.2)   | (50.0, 176.2)
  161 | (99.8, 176.2)   | (65.8, 176.2)
  162 | (115.6, 176.2)  | (81.6, 176.2)
  163 | (131.3, 176.2)  | (97.3, 176.2)
  164 | (147.1, 176.2)  | (113.1, 176.2)
  165 | (162.9, 176.2)  | (128.9, 176.2)
  166 | (178.7, 176.2)  | (144.7, 176.2)
  167 | (194.5, 176.2)  | (160.5, 176.2)
  168 | (210.2, 176.2)  | (176.2, 176.2)
  169 | (226.0, 176.2)  | (192.0, 176.2)
  170 | (241.8, 176.2)  | (207.8, 176.2)
  171 | (257.6, 176.2)  | (223.6, 176.2)
  172 | (273.4, 176.2)  | (239.4, 176.2)
  173 | (289.1, 176.2)  | (255.1, 176.2)
  174 | (304.9, 176.2)  | (270.9, 176.2)
  175 | (320.7, 176.2)  | (286.7, 176.2)
  176 | (336.5, 176.2)  | (302.5, 176.2)
  177 | (352.3, 176.2)  | (318.3, 176.2)
  178 | (368.0, 176.2)  | (334.0, 176.2)
  179 | (383.8, 176.2)  | (349.8, 176.2)
  180 | (383.8, 192.0)  | (349.8, 192.0)
  181 | (368.0, 192.0)  | (334.0, 192.0)
  182 | (352.3, 192.0)  | (318.3, 192.0)
  183 | (336.5, 192.0)  | (302.5, 192.0)
  184 | (320.7, 192.0)  | (286.7, 192.0)
  185 | (304.9, 192.0)  | (270.9, 192.0)
  186 | (289.1, 192.0)  | (255.1, 192.0)
  187 | (273.4, 192.0)  | (239.4, 192.0)
  188 | (257.6, 192.0)  | (223.6, 192.0)
  189 | (241.8, 192.0)  | (207.8, 192.0)
  190 | (226.0, 192.0)  | (192.0, 192.0)
  191 | (210.2, 192.0)  | (176.2, 192.0)
  192 | (194.5, 192.0)  | (160.5, 192.0)
  193 | (178.7, 192.0)  | (144.7, 192.0)
  194 | (162.9, 192.0)  | (128.9, 192.0)
  195 | (147.1, 192.0)  | (113.1, 192.0)
  196 | (131.3, 192.0)  | (97.3, 192.0)
  197 | (115.6, 192.0)  | (81.6, 192.0)
  198 | (99.8, 192.0)   | (65.8, 192.0)
  199 | (84.0, 192.0)   | (50.0, 192.0)
  200 | (84.0, 207.8)   | (50.0, 207.8)
  201 | (99.8, 207.8)   | (65.8, 207.8)
  202 | (115.6, 207.8)  | (81.6, 207.8)
  203 | (131.3, 207.8)  | (97.3, 207.8)
  204 | (147.1, 207.8)  | (113.1, 207.8)
  205 | (162.9, 207.8)  | (128.9, 207.8)
  206 | (178.7, 207.8)  | (144.7, 207.8)
  207 | (194.5, 207.8)  | (160.5, 207.8)
  208 | (210.2, 207.8)  | (176.2, 207.8)
  209 | (226.0, 207.8)  | (192.0, 207.8)
  210 | (241.8, 207.8)  | (207.8, 207.8)
  211 | (257.6, 207.8)  | (223.6, 207.8)
  212 | (273.4, 207.8)  | (239.4, 207.8)
  213 | (289.1, 207.8)  | (255.1, 207.8)
  214 | (304.9, 207.8)  | (270.9, 207.8)
  215 | (320.7, 207.8)  | (286.7, 207.8)
  216 | (336.5, 207.8)  | (302.5, 207.8)
  217 | (352.3, 207.8)  | (318.3, 207.8)
  218 | (368.0, 207.8)  | (334.0, 207.8)
  219 | (383.8, 207.8)  | (349.8, 207.8)
  220 | (383.8, 223.6)  | (349.8, 223.6)
  221 | (368.0, 223.6)  | (334.0, 223.6)
  222 | (352.3, 223.6)  | (318.3, 223.6)
  223 | (336.5, 223.6)  | (302.5, 223.6)
  224 | (320.7, 223.6)  | (286.7, 223.6)
  225 | (304.9, 223.6)  | (270.9, 223.6)
  226 | (289.1, 223.6)  | (255.1, 223.6)
  227 | (273.4, 223.6)  | (239.4, 223.6)
  228 | (257.6, 223.6)  | (223.6, 223.6)
  229 | (241.8, 223.6)  | (207.8, 223.6)
  230 | (226.0, 223.6)  | (192.0, 223.6)
  231 | (210.2, 223.6)  | (176.2, 223.6)
  232 | (194.5, 223.6)  | (160.5, 223.6)
  233 | (178.7, 223.6)  | (144.7, 223.6)
  234 | (162.9, 223.6)  | (128.9, 223.6)
  235 | (147.1, 223.6)  | (113.1, 223.6)
  236 | (131.3, 223.6)  | (97.3, 223.6)
  237 | (115.6, 223.6)  | (81.6, 223.6)
  238 | (99.8, 223.6)   | (65.8, 223.6)
  239 | (84.0, 223.6)   | (50.0, 223.6)
  240 | (84.0, 239.4)   | (50.0, 239.4)
  241 | (99.8, 239.4)   | (65.8, 239.4)
  242 | (115.6, 239.4)  | (81.6, 239.4)
  243 | (131.3, 239.4)  | (97.3, 239.4)
  244 | (147.1, 239.4)  | (113.1, 239.4)
  245 | (162.9, 239.4)  | (128.9, 239.4)
  246 | (178.7, 239.4)  | (144.7, 239.4)
  247 | (194.5, 239.4)  | (160.5, 239.4)
  248 | (210.2, 239.4)  | (176.2, 239.4)
  249 | (226.0, 239.4)  | (192.0, 239.4)
  250 | (241.8, 239.4)  | (207.8, 239.4)
  251 | (257.6, 239.4)  | (223.6, 239.4)
  252 | (273.4, 239.4)  | (239.4, 239.4)
  253 | (289.1, 239.4)  | (255.1, 239.4)
  254 | (304.9, 239.4)  | (270.9, 239.4)
  255 | (320.7, 239.4)  | (286.7, 239.4)
  256 | (336.5, 239.4)  | (302.5, 239.4)
  257 | (352.3, 239.4)  | (318.3, 239.4)
  258 | (368.0, 239.4)  | (334.0, 239.4)
  259 | (383.8, 239.4)  | (349.8, 239.4)
  260 | (383.8, 255.1)  | (349.8, 255.1)
  261 | (368.0, 255.1)  | (334.0, 255.1)
  262 | (352.3, 255.1)  | (318.3, 255.1)
  263 | (336.5, 255.1)  | (302.5, 255.1)
  264 | (320.7, 255.1)  | (286.7, 255.1)
  265 | (304.9, 255.1)  | (270.9, 255.1)
  266 | (289.1, 255.1)  | (255.1, 255.1)
  267 | (273.4, 255.1)  | (239.4, 255.1)
  268 | (257.6, 255.1)  | (223.6, 255.1)
  269 | (241.8, 255.1)  | (207.8, 255.1)
  270 | (226.0, 255.1)  | (192.0, 255.1)
  271 | (210.2, 255.1)  | (176.2, 255.1)
  272 | (194.5, 255.1)  | (160.5, 255.1)
  273 | (178.7, 255.1)  | (144.7, 255.1)
  274 | (162.9, 255.1)  | (128.9, 255.1)
  275 | (147.1, 255.1)  | (113.1, 255.1)
  276 | (131.3, 255.1)  | (97.3, 255.1)
  277 | (115.6, 255.1)  | (81.6, 255.1)
  278 | (99.8, 255.1)   | (65.8, 255.1)
  279 | (84.0, 255.1)   | (50.0, 255.1)
  280 | (84.0, 270.9)   | (50.0, 270.9)
  281 | (99.8, 270.9)   | (65.8, 270.9)
  282 | (115.6, 270.9)  | (81.6, 270.9)
  283 | (131.3, 270.9)  | (97.3, 270.9)
  284 | (147.1, 270.9)  | (113.1, 270.9)
  285 | (162.9, 270.9)  | (128.9, 270.9)
  286 | (178.7, 270.9)  | (144.7, 270.9)
  287 | (194.5, 270.9)  | (160.5, 270.9)
  288 | (210.2, 270.9)  | (176.2, 270.9)
  289 | (226.0, 270.9)  | (192.0, 270.9)
  290 | (241.8, 270.9)  | (207.8, 270.9)
  291 | (257.6, 270.9)  | (223.6, 270.9)
  292 | (273.4, 270.9)  | (239.4, 270.9)
  293 | (289.1, 270.9)  | (255.1, 270.9)
  294 | (304.9, 270.9)  | (270.9, 270.9)
  295 | (320.7, 270.9)  | (286.7, 270.9)
  296 | (336.5, 270.9)  | (302.5, 270.9)
  297 | (352.3, 270.9)  | (318.3, 270.9)
  298 | (368.0, 270.9)  | (334.0, 270.9)
  299 | (383.8, 270.9)  | (349.8, 270.9)
  300 | (383.8, 286.7)  | (349.8, 286.7)
  301 | (368.0, 286.7)  | (334.0, 286.7)
  302 | (352.3, 286.7)  | (318.3, 286.7)
  303 | (336.5, 286.7)  | (302.5, 286.7)
  304 | (320.7, 286.7)  | (286.7, 286.7)
  305 | (304.9, 286.7)  | (270.9, 286.7)
  306 | (289.1, 286.7)  | (255.1, 286.7)
  307 | (273.4, 286.7)  | (239.4, 286.7)
  308 | (257.6, 286.7)  | (223.6, 286.7)
  309 | (241.8, 286.7)  | (207.8, 286.7)
  310 | (226.0, 286.7)  | (192.0, 286.7)
  311 | (210.2, 286.7)  | (176.2, 286.7)
  312 | (194.5, 286.7)  | (160.5, 286.7)
  313 | (178.7, 286.7)  | (144.7, 286.7)
  314 | (162.9, 286.7)  | (128.9, 286.7)
  315 | (147.1, 286.7)  | (113.1, 286.7)
  316 | (131.3, 286.7)  | (97.3, 286.7)
  317 | (115.6, 286.7)  | (81.6, 286.7)
  318 | (99.8, 286.7)   | (65.8, 286.7)
  319 | (84.0, 286.7)   | (50.0, 286.7)
  320 | (84.0, 302.5)   | (50.0, 302.5)
  321 | (99.8, 302.5)   | (65.8, 302.5)
  322 | (115.6, 302.5)  | (81.6, 302.5)
  323 | (131.3, 302.5)  | (97.3, 302.5)
  324 | (147.1, 302.5)  | (113.1, 302.5)
  325 | (162.9, 302.5)  | (128.9, 302.5)
  326 | (178.7, 302.5)  | (144.7, 302.5)
  327 | (194.5, 302.5)  | (160.5, 302.5)
  328 | (210.2, 302.5)  | (176.2, 302.5)
  329 | (226.0, 302.5)  | (192.0, 302.5)
  330 | (241.8, 302.5)  | (207.8, 302.5)
  331 | (257.6, 302.5)  | (223.6, 302.5)
  332 | (273.4, 302.5)  | (239.4, 302.5)
  333 | (289.1, 302.5)  | (255.1, 302.5)
  334 | (304.9, 302.5)  | (270.9, 302.5)
  335 | (320.7, 302.5)  | (286.7, 302.5)
  336 | (336.5, 302.5)  | (302.5, 302.5)
  337 | (352.3, 302.5)  | (318.3, 302.5)
  338 | (368.0, 302.5)  | (334.0, 302.5)
  339 | (383.8, 302.5)  | (349.8, 302.5)
  340 | (383.8, 318.3)  | (349.8, 318.3)
  341 | (368.0, 318.3)  | (334.0, 318.3)
  342 | (352.3, 318.3)  | (318.3, 318.3)
  343 | (336.5, 318.3)  | (302.5, 318.3)
  344 | (320.7, 318.3)  | (286.7, 318.3)
  345 | (304.9, 318.3)  | (270.9, 318.3)
  346 | (289.1, 318.3)  | (255.1, 318.3)
  347 | (273.4, 318.3)  | (239.4, 318.3)
  348 | (257.6, 318.3)  | (223.6, 318.3)
  349 | (241.8, 318.3)  | (207.8, 318.3)
  350 | (226.0, 318.3)  | (192.0, 318.3)
  351 | (210.2, 318.3)  | (176.2, 318.3)
  352 | (194.5, 318.3)  | (160.5, 318.3)
  353 | (178.7, 318.3)  | (144.7, 318.3)
  354 | (162.9, 318.3)  | (128.9, 318.3)
  355 | (147.1, 318.3)  | (113.1, 318.3)
  356 | (131.3, 318.3)  | (97.3, 318.3)
  357 | (115.6, 318.3)  | (81.6, 318.3)
  358 | (99.8, 318.3)   | (65.8, 318.3)
  359 | (84.0, 318.3)   | (50.0, 318.3)
  360 | (84.0, 334.0)   | (50.0, 334.0)
  361 | (99.8, 334.0)   | (65.8, 334.0)
  362 | (115.6, 334.0)  | (81.6, 334.0)
  363 | (131.3, 334.0)  | (97.3, 334.0)
  364 | (147.1, 334.0)  | (113.1, 334.0)
  365 | (162.9, 334.0)  | (128.9, 334.0)
  366 | (178.7, 334.0)  | (144.7, 334.0)
  367 | (194.5, 334.0)  | (160.5, 334.0)
  368 | (210.2, 334.0)  | (176.2, 334.0)
  369 | (226.0, 334.0)  | (192.0, 334.0)
  370 | (241.8, 334.0)  | (207.8, 334.0)
  371 | (257.6, 334.0)  | (223.6, 334.0)
  372 | (273.4, 334.0)  | (239.4, 334.0)
  373 | (289.1, 334.0)  | (255.1, 334.0)
  374 | (304.9, 334.0)  | (270.9, 334.0)
  375 | (320.7, 334.0)  | (286.7, 334.0)
  376 | (336.5, 334.0)  | (302.5, 334.0)
  377 | (352.3, 334.0)  | (318.3, 334.0)
  378 | (368.0, 334.0)  | (334.0, 334.0)
  379 | (383.8, 334.0)  | (349.8, 334.0)
  380 | (383.8, 349.8)  | (349.8, 349.8)
  381 | (368.0, 349.8)  | (334.0, 349.8)
  382 | (352.3, 349.8)  | (318.3, 349.8)
  383 | (336.5, 349.8)  | (302.5, 349.8)
  384 | (320.7, 349.8)  | (286.7, 349.8)
  385 | (304.9, 349.8)  | (270.9, 349.8)
  386 | (289.1, 349.8)  | (255.1, 349.8)
  387 | (273.4, 349.8)  | (239.4, 349.8)
  388 | (257.6, 349.8)  | (223.6, 349.8)
  389 | (241.8, 349.8)  | (207.8, 349.8)
  390 | (226.0, 349.8)  | (192.0, 349.8)
  391 | (210.2, 349.8)  | (176.2, 349.8)
  392 | (194.5, 349.8)  | (160.5, 349.8)
  393 | (178.7, 349.8)  | (144.7, 349.8)
  394 | (162.9, 349.8)  | (128.9, 349.8)
  395 | (147.1, 349.8)  | (113.1, 349.8)
  396 | (131.3, 349.8)  | (97.3, 349.8)
  397 | (115.6, 349.8)  | (81.6, 349.8)
  398 | (99.8, 349.8)   | (65.8, 349.8)
  399 | (84.0, 349.8)   | (50.0, 349.8)
bed_mesh: zero_reference_position is (200.00, 200.00)
Starting heater checks for extruder
Stats 24.6: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=3155 bytes_read=6783 bytes_retransmit=0 bytes_invalid=0 send_seq=239 receive_seq=239 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167998893 EBBCan: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=1417 bytes_read=4968 bytes_retransmit=0 bytes_invalid=0 send_seq=141 receive_seq=141 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999365 adj=63996773 PITB: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=1422 bytes_read=4891 bytes_retransmit=0 bytes_invalid=0 send_seq=154 receive_seq=154 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000353 adj=12001680 mcu_pitb: temp=0.0 enclosure_temp: temp=23.8  Bed_Top: temp=0.0 Raspberry_Pi: temp=45.8 mcu_Monster: temp=0.0 mcu_ebb36: temp=0.0 heater_bed: target=0 temp=0.0 pwm=0.000 sysload=1.27 cputime=4.117 memavail=1532496 print_time=38.298 buffer_time=0.249 print_stall=0 extruder: target=0 temp=0.0 pwm=0.000
webhooks: registering remote method 'shutdown_machine' for connection id: 547632176336
webhooks: registering remote method 'reboot_machine' for connection id: 547632176336
webhooks: registering remote method 'pause_job_queue' for connection id: 547632176336
webhooks: registering remote method 'start_job_queue' for connection id: 547632176336
webhooks: registering remote method 'timelapse_newframe' for connection id: 547632176336
webhooks: registering remote method 'timelapse_saveFrames' for connection id: 547632176336
webhooks: registering remote method 'timelapse_render' for connection id: 547632176336
Stats 25.6: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=3169 bytes_read=6946 bytes_retransmit=0 bytes_invalid=0 send_seq=241 receive_seq=241 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999186 EBBCan: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=1423 bytes_read=5100 bytes_retransmit=0 bytes_invalid=0 send_seq=142 receive_seq=142 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999851 adj=64002137 PITB: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=1453 bytes_read=4996 bytes_retransmit=0 bytes_invalid=0 send_seq=157 receive_seq=157 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000207 adj=12000009 mcu_pitb: temp=39.2 enclosure_temp: temp=25.3  Bed_Top: temp=25.8 Raspberry_Pi: temp=45.3 mcu_Monster: temp=25.9 mcu_ebb36: temp=30.6 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=1.25 cputime=4.165 memavail=1522616 print_time=38.298 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.8 pwm=0.000
Stats 26.6: gcodein=0  mcu: mcu_awake=0.034 mcu_task_avg=0.000005 mcu_task_stddev=0.000010 bytes_write=3287 bytes_read=7194 bytes_retransmit=0 bytes_invalid=0 send_seq=250 receive_seq=250 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=36 freq=168000626 EBBCan: mcu_awake=0.013 mcu_task_avg=0.000016 mcu_task_stddev=0.000053 bytes_write=1429 bytes_read=5218 bytes_retransmit=0 bytes_invalid=0 send_seq=143 receive_seq=143 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999534 adj=64002340 PITB: mcu_awake=0.031 mcu_task_avg=0.000026 mcu_task_stddev=0.000122 bytes_write=1484 bytes_read=5102 bytes_retransmit=0 bytes_invalid=0 send_seq=160 receive_seq=160 retransmit_seq=0 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000212 adj=11999813 mcu_pitb: temp=39.2 enclosure_temp: temp=25.3  Bed_Top: temp=25.8 Raspberry_Pi: temp=45.8 mcu_Monster: temp=26.3 mcu_ebb36: temp=30.7 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=1.25 cputime=4.198 memavail=1529340 print_time=40.812 buffer_time=0.763 print_stall=0 extruder: target=0 temp=24.8 pwm=0.000
Stats 27.6: gcodein=0  mcu: mcu_awake=0.034 mcu_task_avg=0.000005 mcu_task_stddev=0.000010 bytes_write=3349 bytes_read=7362 bytes_retransmit=0 bytes_invalid=0 send_seq=255 receive_seq=255 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000354 EBBCan: mcu_awake=0.013 mcu_task_avg=0.000016 mcu_task_stddev=0.000053 bytes_write=1435 bytes_read=5321 bytes_retransmit=0 bytes_invalid=0 send_seq=144 receive_seq=144 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999724 adj=63999473 PITB: mcu_awake=0.031 mcu_task_avg=0.000026 mcu_task_stddev=0.000122 bytes_write=1550 bytes_read=5236 bytes_retransmit=0 bytes_invalid=0 send_seq=167 receive_seq=167 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000263 adj=11999782 mcu_pitb: temp=39.2 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=45.3 mcu_Monster: temp=26.5 mcu_ebb36: temp=30.7 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=1.25 cputime=4.228 memavail=1529120 print_time=40.812 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.8 pwm=0.000
Stats 28.6: gcodein=0  mcu: mcu_awake=0.034 mcu_task_avg=0.000005 mcu_task_stddev=0.000010 bytes_write=3355 bytes_read=7510 bytes_retransmit=0 bytes_invalid=0 send_seq=256 receive_seq=256 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000332 EBBCan: mcu_awake=0.013 mcu_task_avg=0.000016 mcu_task_stddev=0.000053 bytes_write=1441 bytes_read=5453 bytes_retransmit=0 bytes_invalid=0 send_seq=145 receive_seq=145 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999750 adj=64000136 PITB: mcu_awake=0.031 mcu_task_avg=0.000026 mcu_task_stddev=0.000122 bytes_write=1586 bytes_read=5346 bytes_retransmit=0 bytes_invalid=0 send_seq=171 receive_seq=171 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000258 adj=11999958 mcu_pitb: temp=39.2 enclosure_temp: temp=25.3  Bed_Top: temp=25.7 Raspberry_Pi: temp=43.8 mcu_Monster: temp=26.0 mcu_ebb36: temp=30.7 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=1.25 cputime=4.257 memavail=1533228 print_time=40.812 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.8 pwm=0.000
Stats 29.6: gcodein=0  mcu: mcu_awake=0.034 mcu_task_avg=0.000005 mcu_task_stddev=0.000010 bytes_write=3361 bytes_read=7702 bytes_retransmit=0 bytes_invalid=0 send_seq=257 receive_seq=257 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000134 EBBCan: mcu_awake=0.013 mcu_task_avg=0.000016 mcu_task_stddev=0.000053 bytes_write=1447 bytes_read=5556 bytes_retransmit=0 bytes_invalid=0 send_seq=146 receive_seq=146 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999561 adj=64000085 PITB: mcu_awake=0.031 mcu_task_avg=0.000026 mcu_task_stddev=0.000122 bytes_write=1622 bytes_read=5442 bytes_retransmit=0 bytes_invalid=0 send_seq=175 receive_seq=175 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000287 adj=12000019 mcu_pitb: temp=39.2 enclosure_temp: temp=25.3  Bed_Top: temp=25.8 Raspberry_Pi: temp=44.8 mcu_Monster: temp=26.1 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=1.25 cputime=4.272 memavail=1533252 print_time=40.812 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.8 pwm=0.000
Stats 30.6: gcodein=0  mcu: mcu_awake=0.034 mcu_task_avg=0.000005 mcu_task_stddev=0.000010 bytes_write=3367 bytes_read=7850 bytes_retransmit=0 bytes_invalid=0 send_seq=258 receive_seq=258 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000033 EBBCan: mcu_awake=0.013 mcu_task_avg=0.000016 mcu_task_stddev=0.000053 bytes_write=1453 bytes_read=5659 bytes_retransmit=0 bytes_invalid=0 send_seq=147 receive_seq=147 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999509 adj=63999672 PITB: mcu_awake=0.031 mcu_task_avg=0.000026 mcu_task_stddev=0.000122 bytes_write=1658 bytes_read=5538 bytes_retransmit=0 bytes_invalid=0 send_seq=179 receive_seq=179 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000260 adj=12000188 mcu_pitb: temp=39.2 enclosure_temp: temp=25.3  Bed_Top: temp=25.8 Raspberry_Pi: temp=45.3 mcu_Monster: temp=26.2 mcu_ebb36: temp=30.7 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=1.23 cputime=4.287 memavail=1531776 print_time=40.812 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.8 pwm=0.000
Stats 31.6: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3373 bytes_read=8013 bytes_retransmit=0 bytes_invalid=0 send_seq=259 receive_seq=259 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999980 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1459 bytes_read=5805 bytes_retransmit=0 bytes_invalid=0 send_seq=148 receive_seq=148 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999415 adj=63999672 PITB: mcu_awake=0.013 mcu_task_avg=0.000060 mcu_task_stddev=0.000191 bytes_write=1719 bytes_read=5696 bytes_retransmit=0 bytes_invalid=0 send_seq=185 receive_seq=185 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000247 adj=12000159 mcu_pitb: temp=39.2 enclosure_temp: temp=25.3  Bed_Top: temp=25.8 Raspberry_Pi: temp=44.8 mcu_Monster: temp=26.1 mcu_ebb36: temp=30.7 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=1.23 cputime=4.303 memavail=1531084 print_time=40.812 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.8 pwm=0.000
Stats 32.6: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3379 bytes_read=8205 bytes_retransmit=0 bytes_invalid=0 send_seq=260 receive_seq=260 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999934 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1465 bytes_read=5908 bytes_retransmit=0 bytes_invalid=0 send_seq=149 receive_seq=149 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999526 adj=63999396 PITB: mcu_awake=0.013 mcu_task_avg=0.000060 mcu_task_stddev=0.000191 bytes_write=1750 bytes_read=5787 bytes_retransmit=0 bytes_invalid=0 send_seq=188 receive_seq=188 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000244 adj=12000156 mcu_pitb: temp=39.2 enclosure_temp: temp=25.3  Bed_Top: temp=25.7 Raspberry_Pi: temp=44.3 mcu_Monster: temp=26.0 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=1.23 cputime=4.319 memavail=1531084 print_time=40.812 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.8 pwm=0.000
Stats 33.6: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3385 bytes_read=8353 bytes_retransmit=0 bytes_invalid=0 send_seq=261 receive_seq=261 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999814 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1471 bytes_read=6011 bytes_retransmit=0 bytes_invalid=0 send_seq=150 receive_seq=150 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999461 adj=63999839 PITB: mcu_awake=0.013 mcu_task_avg=0.000060 mcu_task_stddev=0.000191 bytes_write=1786 bytes_read=5883 bytes_retransmit=0 bytes_invalid=0 send_seq=192 receive_seq=192 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000260 adj=12000182 mcu_pitb: temp=39.2 enclosure_temp: temp=25.3  Bed_Top: temp=25.8 Raspberry_Pi: temp=43.8 mcu_Monster: temp=26.1 mcu_ebb36: temp=30.7 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=1.23 cputime=4.336 memavail=1530860 print_time=40.812 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.8 pwm=0.000
Stats 34.6: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3391 bytes_read=8501 bytes_retransmit=0 bytes_invalid=0 send_seq=262 receive_seq=262 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999986 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1477 bytes_read=6143 bytes_retransmit=0 bytes_invalid=0 send_seq=151 receive_seq=151 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999448 adj=63999661 PITB: mcu_awake=0.013 mcu_task_avg=0.000060 mcu_task_stddev=0.000191 bytes_write=1843 bytes_read=5993 bytes_retransmit=0 bytes_invalid=0 send_seq=197 receive_seq=196 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000262 adj=12000270 mcu_pitb: temp=39.2 enclosure_temp: temp=25.3  Bed_Top: temp=25.8 Raspberry_Pi: temp=44.3 mcu_Monster: temp=25.9 mcu_ebb36: temp=30.6 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=1.23 cputime=4.366 memavail=1530636 print_time=48.049 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 35.6: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3397 bytes_read=8693 bytes_retransmit=0 bytes_invalid=0 send_seq=263 receive_seq=263 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000033 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1483 bytes_read=6246 bytes_retransmit=0 bytes_invalid=0 send_seq=152 receive_seq=152 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999449 adj=63999318 PITB: mcu_awake=0.013 mcu_task_avg=0.000060 mcu_task_stddev=0.000191 bytes_write=1982 bytes_read=6209 bytes_retransmit=0 bytes_invalid=0 send_seq=209 receive_seq=209 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000271 adj=12000230 mcu_pitb: temp=39.2 enclosure_temp: temp=25.3  Bed_Top: temp=25.8 Raspberry_Pi: temp=43.3 mcu_Monster: temp=25.9 mcu_ebb36: temp=30.7 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=1.21 cputime=4.400 memavail=1529648 print_time=48.049 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.8 pwm=0.000
Stats 36.6: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3403 bytes_read=8856 bytes_retransmit=0 bytes_invalid=0 send_seq=264 receive_seq=264 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000184 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1489 bytes_read=6363 bytes_retransmit=0 bytes_invalid=0 send_seq=153 receive_seq=153 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999460 adj=63999278 PITB: mcu_awake=0.012 mcu_task_avg=0.000050 mcu_task_stddev=0.000171 bytes_write=2018 bytes_read=6320 bytes_retransmit=0 bytes_invalid=0 send_seq=213 receive_seq=213 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000280 adj=12000259 mcu_pitb: temp=39.2 enclosure_temp: temp=25.3  Bed_Top: temp=25.7 Raspberry_Pi: temp=45.3 mcu_Monster: temp=26.0 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=1.21 cputime=4.428 memavail=1529648 print_time=48.049 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.8 pwm=0.000
Unable to write tmc spi 'stepper_x' register COOLCONF
Stats 37.6: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3409 bytes_read=8998 bytes_retransmit=0 bytes_invalid=0 send_seq=265 receive_seq=265 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000169 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1495 bytes_read=6495 bytes_retransmit=0 bytes_invalid=0 send_seq=154 receive_seq=154 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999512 adj=63999117 PITB: mcu_awake=0.012 mcu_task_avg=0.000050 mcu_task_stddev=0.000171 bytes_write=2159 bytes_read=6520 bytes_retransmit=0 bytes_invalid=0 send_seq=222 receive_seq=222 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000278 adj=12000251 mcu_pitb: temp=39.2 enclosure_temp: temp=25.3  Bed_Top: temp=25.8 Raspberry_Pi: temp=43.8 mcu_Monster: temp=26.0 mcu_ebb36: temp=30.6 heater_bed: target=0 temp=26.7 pwm=0.000 sysload=1.21 cputime=4.461 memavail=1525152 print_time=50.806 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.8 pwm=0.000
Stats 38.6: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3415 bytes_read=9177 bytes_retransmit=0 bytes_invalid=0 send_seq=266 receive_seq=266 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000102 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1501 bytes_read=6598 bytes_retransmit=0 bytes_invalid=0 send_seq=155 receive_seq=155 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999560 adj=63999440 PITB: mcu_awake=0.012 mcu_task_avg=0.000050 mcu_task_stddev=0.000171 bytes_write=2195 bytes_read=6616 bytes_retransmit=0 bytes_invalid=0 send_seq=226 receive_seq=226 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000271 adj=12000252 mcu_pitb: temp=39.2 enclosure_temp: temp=25.3  Bed_Top: temp=25.8 Raspberry_Pi: temp=43.3 mcu_Monster: temp=25.9 mcu_ebb36: temp=30.7 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=1.21 cputime=4.477 memavail=1525680 print_time=50.806 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.8 pwm=0.000
Stats 39.6: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3421 bytes_read=9325 bytes_retransmit=0 bytes_invalid=0 send_seq=267 receive_seq=267 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000078 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1507 bytes_read=6701 bytes_retransmit=0 bytes_invalid=0 send_seq=156 receive_seq=156 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999525 adj=63999791 PITB: mcu_awake=0.012 mcu_task_avg=0.000050 mcu_task_stddev=0.000171 bytes_write=2251 bytes_read=6740 bytes_retransmit=0 bytes_invalid=0 send_seq=231 receive_seq=231 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000267 adj=12000248 mcu_pitb: temp=39.3 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=45.3 mcu_Monster: temp=26.1 mcu_ebb36: temp=30.7 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=1.21 cputime=4.493 memavail=1525680 print_time=50.806 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.8 pwm=0.000
Stats 40.6: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3427 bytes_read=9473 bytes_retransmit=0 bytes_invalid=0 send_seq=268 receive_seq=268 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000030 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1519 bytes_read=6849 bytes_retransmit=0 bytes_invalid=0 send_seq=158 receive_seq=158 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999508 adj=63999599 PITB: mcu_awake=0.012 mcu_task_avg=0.000050 mcu_task_stddev=0.000171 bytes_write=2287 bytes_read=6850 bytes_retransmit=0 bytes_invalid=0 send_seq=235 receive_seq=235 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000265 adj=12000240 mcu_pitb: temp=39.2 enclosure_temp: temp=25.3  Bed_Top: temp=25.8 Raspberry_Pi: temp=45.8 mcu_Monster: temp=26.1 mcu_ebb36: temp=30.6 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=1.19 cputime=4.508 memavail=1527944 print_time=50.806 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.8 pwm=0.000
Unable to write tmc spi 'stepper_x' register COOLCONF
Stats 41.6: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3433 bytes_read=9680 bytes_retransmit=0 bytes_invalid=0 send_seq=269 receive_seq=269 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999987 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000010 bytes_write=1525 bytes_read=6966 bytes_retransmit=0 bytes_invalid=0 send_seq=159 receive_seq=159 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999482 adj=63999597 PITB: mcu_awake=0.012 mcu_task_avg=0.000050 mcu_task_stddev=0.000171 bytes_write=2448 bytes_read=7056 bytes_retransmit=0 bytes_invalid=0 send_seq=248 receive_seq=248 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000264 adj=12000253 mcu_pitb: temp=39.2 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=45.8 mcu_Monster: temp=26.1 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=1.19 cputime=4.529 memavail=1525320 print_time=54.646 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.8 pwm=0.000
Stats 42.6: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3439 bytes_read=9828 bytes_retransmit=0 bytes_invalid=0 send_seq=270 receive_seq=270 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999955 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000010 bytes_write=1531 bytes_read=7069 bytes_retransmit=0 bytes_invalid=0 send_seq=160 receive_seq=160 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999478 adj=63999556 PITB: mcu_awake=0.013 mcu_task_avg=0.000045 mcu_task_stddev=0.000160 bytes_write=2484 bytes_read=7167 bytes_retransmit=0 bytes_invalid=0 send_seq=252 receive_seq=252 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000262 adj=12000268 mcu_pitb: temp=39.3 enclosure_temp: temp=25.3  Bed_Top: temp=25.8 Raspberry_Pi: temp=44.8 mcu_Monster: temp=26.1 mcu_ebb36: temp=30.9 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=1.19 cputime=4.547 memavail=1519300 print_time=54.646 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.8 pwm=0.000
Stats 43.6: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3445 bytes_read=9976 bytes_retransmit=0 bytes_invalid=0 send_seq=271 receive_seq=271 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999963 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000010 bytes_write=1537 bytes_read=7201 bytes_retransmit=0 bytes_invalid=0 send_seq=161 receive_seq=161 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999468 adj=63999587 PITB: mcu_awake=0.013 mcu_task_avg=0.000045 mcu_task_stddev=0.000160 bytes_write=2545 bytes_read=7310 bytes_retransmit=0 bytes_invalid=0 send_seq=258 receive_seq=258 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000262 adj=12000269 mcu_pitb: temp=39.3 enclosure_temp: temp=25.3  Bed_Top: temp=25.8 Raspberry_Pi: temp=44.8 mcu_Monster: temp=26.1 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=1.19 cputime=4.576 memavail=1522600 print_time=54.646 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.8 pwm=0.000
Stats 44.6: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3451 bytes_read=10168 bytes_retransmit=0 bytes_invalid=0 send_seq=272 receive_seq=272 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999970 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000010 bytes_write=1543 bytes_read=7304 bytes_retransmit=0 bytes_invalid=0 send_seq=162 receive_seq=162 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999468 adj=63999490 PITB: mcu_awake=0.013 mcu_task_avg=0.000045 mcu_task_stddev=0.000160 bytes_write=2581 bytes_read=7406 bytes_retransmit=0 bytes_invalid=0 send_seq=262 receive_seq=262 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000262 adj=12000265 mcu_pitb: temp=39.2 enclosure_temp: temp=25.3  Bed_Top: temp=25.8 Raspberry_Pi: temp=43.8 mcu_Monster: temp=26.0 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=1.19 cputime=4.604 memavail=1530784 print_time=54.646 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.8 pwm=0.000
Stats 45.6: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3457 bytes_read=10316 bytes_retransmit=0 bytes_invalid=0 send_seq=273 receive_seq=273 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999991 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000010 bytes_write=1549 bytes_read=7407 bytes_retransmit=0 bytes_invalid=0 send_seq=163 receive_seq=163 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999475 adj=63999470 PITB: mcu_awake=0.013 mcu_task_avg=0.000045 mcu_task_stddev=0.000160 bytes_write=2617 bytes_read=7502 bytes_retransmit=0 bytes_invalid=0 send_seq=266 receive_seq=266 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000261 adj=12000263 mcu_pitb: temp=39.3 enclosure_temp: temp=25.3  Bed_Top: temp=25.7 Raspberry_Pi: temp=45.3 mcu_Monster: temp=25.9 mcu_ebb36: temp=31.0 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=1.18 cputime=4.622 memavail=1531940 print_time=54.646 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.8 pwm=0.000
Stats 46.6: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3463 bytes_read=10479 bytes_retransmit=0 bytes_invalid=0 send_seq=274 receive_seq=274 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999993 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000010 bytes_write=1555 bytes_read=7539 bytes_retransmit=0 bytes_invalid=0 send_seq=164 receive_seq=164 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999462 adj=63999461 PITB: mcu_awake=0.013 mcu_task_avg=0.000045 mcu_task_stddev=0.000160 bytes_write=2653 bytes_read=7612 bytes_retransmit=0 bytes_invalid=0 send_seq=270 receive_seq=270 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000260 adj=12000249 mcu_pitb: temp=39.2 enclosure_temp: temp=25.3  Bed_Top: temp=25.8 Raspberry_Pi: temp=44.3 mcu_Monster: temp=26.0 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=1.18 cputime=4.636 memavail=1531464 print_time=54.646 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.8 pwm=0.000
Stats 47.6: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3469 bytes_read=10671 bytes_retransmit=0 bytes_invalid=0 send_seq=275 receive_seq=275 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999967 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1561 bytes_read=7656 bytes_retransmit=0 bytes_invalid=0 send_seq=165 receive_seq=165 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999449 adj=63999386 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000181 bytes_write=2719 bytes_read=7761 bytes_retransmit=0 bytes_invalid=0 send_seq=277 receive_seq=277 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000265 adj=12000244 mcu_pitb: temp=39.3 enclosure_temp: temp=25.3  Bed_Top: temp=25.7 Raspberry_Pi: temp=45.3 mcu_Monster: temp=26.1 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=1.18 cputime=4.652 memavail=1530764 print_time=54.646 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.8 pwm=0.000
Stats 48.6: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3475 bytes_read=10819 bytes_retransmit=0 bytes_invalid=0 send_seq=276 receive_seq=276 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999955 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1567 bytes_read=7759 bytes_retransmit=0 bytes_invalid=0 send_seq=166 receive_seq=166 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999440 adj=63999382 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000181 bytes_write=2755 bytes_read=7857 bytes_retransmit=0 bytes_invalid=0 send_seq=281 receive_seq=281 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000264 adj=12000295 mcu_pitb: temp=39.3 enclosure_temp: temp=25.3  Bed_Top: temp=25.8 Raspberry_Pi: temp=44.3 mcu_Monster: temp=26.1 mcu_ebb36: temp=31.0 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=1.18 cputime=4.667 memavail=1530540 print_time=54.646 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 49.6: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3481 bytes_read=10967 bytes_retransmit=0 bytes_invalid=0 send_seq=277 receive_seq=277 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999950 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1573 bytes_read=7891 bytes_retransmit=0 bytes_invalid=0 send_seq=167 receive_seq=167 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999435 adj=63999376 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000181 bytes_write=2786 bytes_read=7962 bytes_retransmit=0 bytes_invalid=0 send_seq=284 receive_seq=284 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000262 adj=12000282 mcu_pitb: temp=39.3 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=44.8 mcu_Monster: temp=26.0 mcu_ebb36: temp=30.9 heater_bed: target=0 temp=25.9 pwm=0.000 sysload=1.18 cputime=4.681 memavail=1530540 print_time=54.646 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.8 pwm=0.000
Stats 50.6: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3487 bytes_read=11159 bytes_retransmit=0 bytes_invalid=0 send_seq=278 receive_seq=278 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999967 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1579 bytes_read=7994 bytes_retransmit=0 bytes_invalid=0 send_seq=168 receive_seq=168 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999433 adj=63999378 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000181 bytes_write=2822 bytes_read=8058 bytes_retransmit=0 bytes_invalid=0 send_seq=288 receive_seq=288 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000264 adj=12000274 mcu_pitb: temp=39.5 enclosure_temp: temp=25.3  Bed_Top: temp=25.7 Raspberry_Pi: temp=44.3 mcu_Monster: temp=26.1 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=1.32 cputime=4.703 memavail=1529544 print_time=54.646 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 51.6: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3493 bytes_read=11322 bytes_retransmit=0 bytes_invalid=0 send_seq=279 receive_seq=279 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000006 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1585 bytes_read=8097 bytes_retransmit=0 bytes_invalid=0 send_seq=169 receive_seq=169 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999427 adj=63999336 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000181 bytes_write=2888 bytes_read=8192 bytes_retransmit=0 bytes_invalid=0 send_seq=295 receive_seq=295 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000264 adj=12000274 mcu_pitb: temp=39.2 enclosure_temp: temp=25.3  Bed_Top: temp=25.7 Raspberry_Pi: temp=45.3 mcu_Monster: temp=25.9 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=1.32 cputime=4.726 memavail=1522000 print_time=54.646 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.8 pwm=0.000
Stats 52.6: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3499 bytes_read=11470 bytes_retransmit=0 bytes_invalid=0 send_seq=280 receive_seq=280 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999986 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1591 bytes_read=8241 bytes_retransmit=0 bytes_invalid=0 send_seq=170 receive_seq=170 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999427 adj=63999266 PITB: mcu_awake=0.013 mcu_task_avg=0.000061 mcu_task_stddev=0.000191 bytes_write=2924 bytes_read=8317 bytes_retransmit=0 bytes_invalid=0 send_seq=299 receive_seq=299 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000265 adj=12000255 mcu_pitb: temp=39.5 enclosure_temp: temp=25.3  Bed_Top: temp=25.7 Raspberry_Pi: temp=45.8 mcu_Monster: temp=26.1 mcu_ebb36: temp=30.8 heater_bed: target=0 temp=26.7 pwm=0.000 sysload=1.32 cputime=4.741 memavail=1520184 print_time=54.646 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.8 pwm=0.000
Stats 53.6: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3505 bytes_read=11662 bytes_retransmit=0 bytes_invalid=0 send_seq=281 receive_seq=281 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999975 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1597 bytes_read=8337 bytes_retransmit=0 bytes_invalid=0 send_seq=171 receive_seq=171 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999423 adj=63999360 PITB: mcu_awake=0.013 mcu_task_avg=0.000061 mcu_task_stddev=0.000191 bytes_write=2960 bytes_read=8413 bytes_retransmit=0 bytes_invalid=0 send_seq=303 receive_seq=303 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000264 adj=12000273 mcu_pitb: temp=39.3 enclosure_temp: temp=25.3  Bed_Top: temp=25.8 Raspberry_Pi: temp=44.3 mcu_Monster: temp=25.9 mcu_ebb36: temp=30.7 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=1.32 cputime=4.757 memavail=1520092 print_time=54.646 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Starting Klippy...
Args: ['/home/pi/klipper/klippy/klippy.py', '/home/pi/printer_data/config/printer.cfg', '-I', '/home/pi/printer_data/comms/klippy.serial', '-l', '/home/pi/printer_data/logs/klippy.log', '-a', '/home/pi/printer_data/comms/klippy.sock']
Git version: 'v0.12.0-267-g12cd1d9e-dirty'
Untracked files: klippy/extras/BDsensor.py
Modified files: src/Makefile
Branch: master
Remote: origin
Tracked URL: https://github.com/Klipper3d/klipper
CPU: 4 core ?
Python: '3.11.2 (main, May  2 2024, 11:59:08) [GCC 12.2.0]'
Start printer at Tue Jul 30 14:04:28 2024 (1722344668.2 17.0)
===== Config file =====
[mcu]
canbus_uuid = 70559fc0ed52

[mcu EBBCan]
canbus_uuid = 1e0fae8aa7ce

[save_variables]
filename = ~/printer_data/config/variables.cfg

[fan_generic Air_Scrubber]
pin = PA2
max_power = 1
off_below = 0.25
kick_start_time = 0.5

[delayed_gcode filter_off]
gcode = 
	SET_FAN_SPEED FAN=Air_Scrubber SPEED=0

[gcode_macro TOGGLE_Air_Scrubber]
gcode = 
	{% if printer['fan_generic Air_Scrubber'].speed > 0 %}
	SET_FAN_SPEED FAN=Air_Scrubber SPEED=0
	{% else %}
	SET_FAN_SPEED FAN=Air_Scrubber SPEED=1
	{% endif %}

[tmc2209 manual_stepper selector]
uart_pin = PB7
run_current = 0.3
stealthchop_threshold = 0

[tmc2209 manual_stepper chameleon]
uart_pin = PD15
run_current = 0.8
stealthchop_threshold = 0

[manual_stepper selector]
step_pin = PE1
dir_pin = PE0
enable_pin = !PE2
microsteps = 1
rotation_distance = 2

[manual_stepper chameleon]
step_pin = PC7
dir_pin = PC6
enable_pin = !PC8
microsteps = 16
rotation_distance = 34.408602151

[neopixel mmu_LED]
pin = PE15
chain_count = 3
color_order = GRBW
initial_red = 0.3
initial_green = 0.3
initial_blue = 0.3
initial_white = 0.0

[gcode_macro TOOL_INIT]
description = homes the tool selector. Needed before any tool change.
variable_tool = 0
variable_ysplit_distance = 670
gcode = 
	MANUAL_STEPPER STEPPER=selector SET_POSITION=0
	MANUAL_STEPPER STEPPER=selector MOVE=-1.65
	MANUAL_STEPPER STEPPER=selector SET_POSITION=0
	MANUAL_STEPPER STEPPER=selector MOVE=0.12
	MANUAL_STEPPER STEPPER=selector SET_POSITION=0
	MANUAL_STEPPER STEPPER=chameleon SET_POSITION=0
	
	SET_GCODE_VARIABLE MACRO=TOOL_INIT VARIABLE=tool VALUE={TOOL}
	SET_GCODE_VARIABLE MACRO=TOOL_INIT VARIABLE=ysplit_distance VALUE={YSPLIT_DISTANCE}

[gcode_macro WIPE]
gcode = 
	G1 X170 F5000
	G1 X250
	G1 X170
	G1 X250

[gcode_macro _Cut_Filament]
description = Cut filament by pressing the cutter on a pin with a horizontal movement.
gcode = 
	{% set svv = printer.save_variables.variables %}
	SAVE_GCODE_STATE NAME=_filament_change_state
	{% set prev_pa = printer.extruder.pressure_advance %}
	SET_PRESSURE_ADVANCE ADVANCE=0
	G1 E-33 F3000
	G1 X15 Y0 F10000
	G1 X15 Y-23 F10000
	G1 X-2 Y-23 F10000
	
	
	G1 E-100 F3000
	G1 X15 Y-23 F10000
	SET_PRESSURE_ADVANCE ADVANCE={prev_pa}
	RESTORE_GCODE_STATE NAME=_filament_change_state MOVE=1

[gcode_macro TS0]
gcode = 
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=0 WHITE=1 INDEX=1 TRANSMIT=1
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=0 WHITE=0 INDEX=3 TRANSMIT=1
	TOOL_SELECT TOOL=0

[gcode_macro TS1]
gcode = 
	SET_LED LED=mmu_LED RED=1 GREEN=0 BLUE=0 WHITE=0 INDEX=1 TRANSMIT=1
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=0 WHITE=0 INDEX=3 TRANSMIT=1
	TOOL_SELECT TOOL=1

[gcode_macro TS2]
gcode = 
	SET_LED LED=mmu_LED RED=0 GREEN=1 BLUE=0 WHITE=0 INDEX=1 TRANSMIT=1
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=0 WHITE=0 INDEX=3 TRANSMIT=1
	TOOL_SELECT TOOL=2

[gcode_macro TS3]
gcode = 
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=1 WHITE=0 INDEX=1 TRANSMIT=1
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=0 WHITE=0 INDEX=3 TRANSMIT=1
	TOOL_SELECT TOOL=3

[gcode_macro TOOL_SELECT]
gcode = 
	{% set TOOL = params.TOOL|int %}
	M117 "Setting tool to TOOL{TOOL}"
	{% if TOOL == 0 %}
	MANUAL_STEPPER stepper=selector MOVE=0
	{% elif TOOL == 1 %}
	MANUAL_STEPPER stepper=selector MOVE=0.5
	{% elif TOOL == 2 %}
	MANUAL_STEPPER stepper=selector MOVE=1.0
	{% elif TOOL == 3 %}
	MANUAL_STEPPER stepper=selector MOVE=1.5
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TOOL_INIT VARIABLE=tool VALUE={TOOL}

[gcode_macro TOOL_FREE]
gcode = 
	{% set TOOL = params.TOOL|int %}
	M117 "Free filament path for tool {TOOL}"
	{% if TOOL == 0 %}
	MANUAL_STEPPER stepper=selector MOVE=1
	{% elif TOOL == 1 %}
	MANUAL_STEPPER stepper=selector MOVE=1.5
	{% elif TOOL == 2 %}
	MANUAL_STEPPER stepper=selector MOVE=0
	{% elif TOOL == 3 %}
	MANUAL_STEPPER stepper=selector MOVE=0.5
	{% endif %}

[gcode_macro CHAMELEON_UNLOAD]
description = Unloads the filament from the tubing
gcode = 
	SET_LED LED=mmu_LED RED=1 GREEN=0 BLUE=0 WHITE=0 INDEX=2 TRANSMIT=1
	{% set TOOL=printer["gcode_macro TOOL_INIT"].tool %}
	{% set YSPLIT_DIST=printer["gcode_macro TOOL_INIT"].ysplit_distance %}
	MANUAL_STEPPER STEPPER=chameleon SET_POSITION=0
	{% if TOOL == 0 or TOOL == 1 %}
	M117 "Move tool {TOOL} by -{YSPLIT_DIST}"
	MANUAL_STEPPER stepper=chameleon MOVE=-{YSPLIT_DIST} SPEED=200 ACCEL=200
	{% else %}
	M117 "Move tool {TOOL} by {YSPLIT_DIST}"
	MANUAL_STEPPER stepper=chameleon MOVE={YSPLIT_DIST} SPEED=200 ACCEL=200
	{% endif %}
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=0 WHITE=1 INDEX=2 TRANSMIT=1

[gcode_macro CHAMELEON_LOAD]
description = Loads the filament into the extruder bowden
gcode = 
	SET_LED LED=mmu_LED RED=0 GREEN=1 BLUE=0 WHITE=0 INDEX=2 TRANSMIT=1
	{% set TOOL=printer["gcode_macro TOOL_INIT"].tool %}
	{% set YSPLIT_DIST=printer["gcode_macro TOOL_INIT"].ysplit_distance %}
	MANUAL_STEPPER STEPPER=chameleon SET_POSITION=0
	{% if TOOL == 0 or TOOL == 1 %}
	M117 "Move tool {TOOL} by {YSPLIT_DIST}"
	MANUAL_STEPPER stepper=chameleon MOVE={YSPLIT_DIST} SPEED=200 ACCEL=200
	{% else %}
	M117 "Move tool {TOOL} by -{YSPLIT_DIST}"
	MANUAL_STEPPER stepper=chameleon MOVE=-{YSPLIT_DIST} SPEED=200 ACCEL=200
	{% endif %}
	SET_LED LED=mmu_LED RED=0 GREEN=0 BLUE=0 WHITE=1 INDEX=2 TRANSMIT=1

[gcode_macro EXTRUDER_UNLOAD]
description = Unloads the filament from the extruder before a tool change
gcode = 
	_Cut_Filament

[gcode_macro EXTRUDER_LOAD]
description = Loads the filament in the extruder after a tool change
gcode = 
	G92 E0
	G1 E98 F3000
	G1 E5 F300

[gcode_macro T0]
description = Changes the filament to that loaded in tool 0
gcode = 
	
	{% set TOOL= printer["gcode_macro TOOL_INIT"].tool %}
	{% set YSPLIT_DIST=printer["gcode_macro TOOL_INIT"].ysplit_distance %}
	
	PAUSE
	EXTRUDER_UNLOAD
	TOOL_SELECT TOOL={TOOL}
	CHAMELEON_UNLOAD
	
	{% set TOOL=0 %}
	SET_GCODE_VARIABLE MACRO=TOOL_INIT VARIABLE=tool VALUE=0
	TOOL_SELECT TOOL={TOOL}
	CHAMELEON_LOAD
	
	TOOL_FREE TOOL={TOOL}
	EXTRUDER_LOAD
	
	WIPE
	
	RESUME

[gcode_macro T1]
description = Changes the filament to that loaded in tool 1
gcode = 
	
	{% set TOOL= printer["gcode_macro TOOL_INIT"].tool %}
	{% set YSPLIT_DIST=printer["gcode_macro TOOL_INIT"].ysplit_distance %}
	
	PAUSE
	EXTRUDER_UNLOAD
	TOOL_SELECT TOOL={TOOL}
	CHAMELEON_UNLOAD
	
	{% set TOOL=1 %}
	SET_GCODE_VARIABLE MACRO=TOOL_INIT VARIABLE=tool VALUE={TOOL}
	TOOL_SELECT TOOL={TOOL}
	CHAMELEON_LOAD
	
	TOOL_FREE TOOL={TOOL}
	EXTRUDER_LOAD
	
	WIPE
	
	RESUME

[gcode_macro T2]
description = Changes the filament to that loaded in tool 2
gcode = 
	
	{% set TOOL= printer["gcode_macro TOOL_INIT"].tool %}
	{% set YSPLIT_DIST=printer["gcode_macro TOOL_INIT"].ysplit_distance %}
	
	PAUSE
	EXTRUDER_UNLOAD
	TOOL_SELECT TOOL={TOOL}
	CHAMELEON_UNLOAD
	
	{% set TOOL=2 %}
	SET_GCODE_VARIABLE MACRO=TOOL_INIT VARIABLE=tool VALUE={TOOL}
	TOOL_SELECT TOOL={TOOL}
	CHAMELEON_LOAD
	
	TOOL_FREE TOOL={TOOL}
	EXTRUDER_LOAD
	
	WIPE
	
	RESUME

[gcode_macro T3]
description = Changes the filament to that loaded in tool 2
gcode = 
	
	{% set TOOL= printer["gcode_macro TOOL_INIT"].tool %}
	{% set YSPLIT_DIST=printer["gcode_macro TOOL_INIT"].ysplit_distance %}
	
	PAUSE
	EXTRUDER_UNLOAD
	TOOL_SELECT TOOL={TOOL}
	CHAMELEON_UNLOAD
	
	{% set TOOL=3 %}
	TOOL_SELECT TOOL={TOOL}
	SET_GCODE_VARIABLE MACRO=TOOL_INIT VARIABLE=tool VALUE={TOOL}
	CHAMELEON_LOAD
	
	TOOL_FREE TOOL={TOOL}
	EXTRUDER_LOAD
	
	WIPE
	
	RESUME

[mcu PITB]
canbus_uuid = 2e8f2c113235

[fan_generic PITB_FAN0]
pin = PITB:gpio0
max_power = 1.0
kick_start_time = 0.5
off_below = 0.10

[fan_generic PITB_FAN1]
pin = PITB:gpio18
max_power = 1.0
kick_start_time = 0.5
off_below = 0.10

[neopixel PITB_LED]
pin = PITB:gpio19
color_order = GRBW
initial_red = 0.0
initial_green = 0.0
initial_blue = 0.0
initial_white = 0.0

[temperature_sensor mcu_pitb]
sensor_type = temperature_mcu
sensor_mcu = PITB

[output_pin activity_led]
pin = PITB:gpio15

[temperature_sensor enclosure_temp]
sensor_type = BME280
i2c_address = 118
i2c_mcu = PITB
i2c_bus = i2c0g

[neopixel Hotend_LED]
pin = EBBCan:PD3
chain_count = 3
color_order = GRBW
initial_red = 0.0
initial_green = 0.0
initial_blue = 0.0
initial_white = 0.0

[gcode_macro _sb_vars]
variable_colors = {
	'logo': {
	'busy': {'r': 0.4, 'g': 0.0, 'b': 0.0, 'w': 0.0},
	'cleaning': {'r': 0.0, 'g': 0.02, 'b': 0.5, 'w': 0.0},
	'calibrating_z': {'r': 0.8, 'g': 0., 'b': 0.35, 'w': 0.0},
	'heating': {'r': 0.3, 'g': 0.18, 'b': 0.0, 'w': 0.0},
	'homing': {'r': 0.0, 'g': 0.6, 'b': 0.2, 'w': 0.0},
	'leveling': {'r': 0.5, 'g': 0.1, 'b': 0.4, 'w': 0.0},
	'meshing': {'r': 0.2, 'g': 1.0, 'b': 0.0, 'w': 0.0},
	'off': {'r': 0.0, 'g': 0.0, 'b': 0.0, 'w': 0.0},
	'printing': {'r': 1.0, 'g': 1.0, 'b': 1.0, 'w': 1.0},
	'standby': {'r': 0.01, 'g': 0.01, 'b': 0.5, 'w': 0.1}
	},
	'nozzle': {
	'heating': {'r': 0.8, 'g': 0.35, 'b': 0.0, 'w':0.0},
	'off': {'r': 0.0, 'g': 0.0, 'b': 0.0, 'w': 0.0},
	'on': {'r': 0.8, 'g': 0.8, 'b': 0.8, 'w':1.0},
	'standby': {'r': 0.0, 'g': 0.0, 'b': 0.0, 'w':0.5},
	'hot': {'r': 1.0, 'g': 0.0, 'b': 0.0, 'w': 0.0},
	'cold': {'r': 0.3, 'g': 0.0, 'b': 1.0, 'w': 0.0}
	},
	'thermal': {
	'hot': {'r': 1.0, 'g': 0.0, 'b': 0.0, 'w': 0.0},
	'cold': {'r': 0.3, 'g': 0.0, 'b': 0.3, 'w': 0.0},
	'busy': {'r': 0.4, 'g': 0.0, 'b': 0.0, 'w': 0.0},
	'cleaning': {'r': 0.0, 'g': 0.02, 'b': 0.5, 'w': 0.0},
	'calibrating_z': {'r': 0.8, 'g': 0., 'b': 0.35, 'w': 0.0},
	'heating': {'r': 0.3, 'g': 0.18, 'b': 0.0, 'w': 0.0},
	'homing': {'r': 0.0, 'g': 0.6, 'b': 0.2, 'w': 0.0},
	'leveling': {'r': 0.5, 'g': 0.1, 'b': 0.4, 'w': 0.0},
	'meshing': {'r': 0.2, 'g': 1.0, 'b': 0.0, 'w': 0.0},
	'off': {'r': 0.0, 'g': 0.0, 'b': 0.0, 'w': 0.0},
	'printing': {'r': 1.0, 'g': 1.0, 'b': 1.0, 'w': 1.0},
	'standby': {'r': 0.01, 'g': 0.01, 'b': 0.01, 'w': 0.1}
	}
	}
variable_logo_led_name = "Hotend_LED"
variable_logo_idx = "3"
variable_nozzle_led_name = "Hotend_LED"
variable_nozzle_idx = "1,2"
variable_thermal_led_name = "Main_LED"
variable_thermal_idx = "1,2,3,4,5,6,7,8,9,10,21,22,23,24"
variable_control1_led_name = "LCD_BUTTON_LED"
variable_control1_idx = "1"
variable_thermal_config = {
	'extruder': {
	'cool_temp': 40,
	'leds': 'nozzle',
	},
	'heater_bed': {
	'cool_temp': 40,
	'leds': 'thermal',
	},
	}
gcode = 

[gcode_macro _set_sb_leds]
gcode = 
	{% set red = params.RED|default(0)|float %}
	{% set green = params.GREEN|default(0)|float %}
	{% set blue = params.BLUE|default(0)|float %}
	{% set white = params.WHITE|default(0)|float %}
	{% set led = params.LED|string %}
	{% set idx = (params.IDX|string).split(',') %}
	{% set transmit_last = params.TRANSMIT|default(1) %}
	
	{% for led_index in idx %}
	{% set transmit=transmit_last if loop.last else 0 %}
	set_led led={led} red={red} green={green} blue={blue} white={white} index={led_index} transmit={transmit}
	{% endfor %}

[gcode_macro _set_sb_leds_by_name]
gcode = 
	{% set leds_name = params.LEDS %}
	{% set color_name = params.COLOR %}
	{% set color = printer["gcode_macro _sb_vars"].colors[leds_name][color_name] %}
	{% set led = printer["gcode_macro _sb_vars"][leds_name + "_led_name"] %}
	{% set idx = printer["gcode_macro _sb_vars"][leds_name + "_idx"] %}
	{% set transmit = params.TRANSMIT|default(1) %}
	
	_set_sb_leds led={led} red={color.r} green={color.g} blue={color.b} white={color.w} idx="{idx}" transmit={transmit}

[gcode_macro _set_thermal_leds]
gcode = 
	{% set red = params.RED|default(0)|float %}
	{% set green = params.GREEN|default(0)|float %}
	{% set blue = params.BLUE|default(0)|float %}
	{% set white = params.WHITE|default(0)|float %}
	{% set led = printer["gcode_macro _sb_vars"].thermal_led_name %}
	{% set idx = printer["gcode_macro _sb_vars"].thermal_idx %}
	{% set transmit=params.TRANSMIT|default(1) %}
	
	_set_sb_leds led={led} red={red} green={green} blue={blue} white={white} idx="{idx}" transmit={transmit}

[gcode_macro _set_logo_leds]
gcode = 
	{% set red = params.RED|default(0)|float %}
	{% set green = params.GREEN|default(0)|float %}
	{% set blue = params.BLUE|default(0)|float %}
	{% set white = params.WHITE|default(0)|float %}
	{% set led = printer["gcode_macro _sb_vars"].logo_led_name %}
	{% set idx = printer["gcode_macro _sb_vars"].logo_idx %}
	{% set transmit=params.TRANSMIT|default(1) %}
	
	_set_sb_leds led={led} red={red} green={green} blue={blue} white={white} idx="{idx}" transmit={transmit}

[gcode_macro _set_nozzle_leds]
gcode = 
	{% set red = params.RED|default(0)|float %}
	{% set green = params.GREEN|default(0)|float %}
	{% set blue = params.BLUE|default(0)|float %}
	{% set white = params.WHITE|default(0)|float %}
	{% set led = printer["gcode_macro _sb_vars"].nozzle_led_name %}
	{% set idx = printer["gcode_macro _sb_vars"].nozzle_idx %}
	{% set transmit=params.TRANSMIT|default(1) %}
	
	_set_sb_leds led={led} red={red} green={green} blue={blue} white={white} idx="{idx}" transmit={transmit}

[gcode_macro set_thermal_leds_off]
gcode = 
	{% set transmit=params.TRANSMIT|default(1) %}
	_set_thermal_leds red=0 blue=0 green=0 white=0 transmit={transmit}

[gcode_macro set_logo_leds_off]
gcode = 
	{% set transmit=params.TRANSMIT|default(1) %}
	_set_logo_leds red=0 blue=0 green=0 white=0 transmit={transmit}

[gcode_macro set_nozzle_leds_on]
gcode = 
	{% set transmit=params.TRANSMIT|default(1) %}
	_set_sb_leds_by_name leds="nozzle" color="on" transmit={transmit}

[gcode_macro set_nozzle_leds_off]
gcode = 
	{% set transmit=params.TRANSMIT|default(1) %}
	_set_sb_leds_by_name leds="nozzle" color="off" transmit={transmit}

[gcode_macro status_off]
gcode = 
	set_logo_leds_off transmit=0
	set_thermal_leds_off transmit=0
	set_nozzle_leds_off

[gcode_macro status_ready]
gcode = 
	_set_sb_leds_by_name leds="logo" color="standby" transmit=1
	_set_sb_leds_by_name leds="thermal" color="standby" transmit=1
	_set_sb_leds_by_name leds="nozzle" color="standby" transmit=1

[gcode_macro status_busy]
gcode = 
	_set_sb_leds_by_name leds="logo" color="busy" transmit=1
	_set_sb_leds_by_name leds="thermal" color="busy" transmit=1
	set_nozzle_leds_on

[gcode_macro status_heating]
gcode = 
	_set_sb_leds_by_name leds="logo" color="heating" transmit=1
	_set_sb_leds_by_name leds="thermal" color="heating" transmit=1
	_set_sb_leds_by_name leds="nozzle" color="heating" transmit=1

[gcode_macro status_leveling]
gcode = 
	_set_sb_leds_by_name leds="logo" color="leveling" transmit=1
	_set_sb_leds_by_name leds="thermal" color="leveling" transmit=1
	set_nozzle_leds_on

[gcode_macro status_homing]
gcode = 
	_set_sb_leds_by_name leds="logo" color="homing" transmit=1
	_set_sb_leds_by_name leds="thermal" color="homing" transmit=1
	set_nozzle_leds_on

[gcode_macro status_cleaning]
gcode = 
	_set_sb_leds_by_name leds="logo" color="cleaning" transmit=1
	_set_sb_leds_by_name leds="thermal" color="cleaning" transmit=1
	set_nozzle_leds_on

[gcode_macro status_meshing]
gcode = 
	_set_sb_leds_by_name leds="logo" color="meshing" transmit=1
	_set_sb_leds_by_name leds="thermal" color="meshing" transmit=1
	set_nozzle_leds_on

[gcode_macro status_calibrating_z]
gcode = 
	_set_sb_leds_by_name leds="logo" color="calibrating_z" transmit=1
	_set_sb_leds_by_name leds="thermal" color="calibrating_z" transmit=1
	set_nozzle_leds_on

[gcode_macro status_printing]
gcode = 
	_set_sb_leds_by_name leds="logo" color="printing" transmit=1
	_set_sb_leds_by_name leds="thermal" color="printing" transmit=1
	set_nozzle_leds_on

[virtual_sdcard]
path = ~/printer_data/gcodes
on_error_gcode = CANCEL_PRINT

[pause_resume]
recover_velocity = 50.

[display_status]

[respond]
default_type = echo
default_prefix = 

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = CANCEL_PRINT_BASE
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set allow_park = client.park_at_cancel | default(false) | lower == 'true' %}
	{% set retract = client.cancel_retract | default(5.0) | abs %}
	
	{% set park_x = "" if (client.park_at_cancel_x | default(none) is none)
	else "X=" ~ client.park_at_cancel_x %}
	{% set park_y = "" if (client.park_at_cancel_y | default(none) is none)
	else "Y=" ~ client.park_at_cancel_y %}
	{% set custom_park = park_x | length > 0 or park_y | length > 0 %}
	
	
	{% if printer['gcode_macro RESUME'].restore_idle_timeout > 0 %}
	SET_IDLE_TIMEOUT TIMEOUT={printer['gcode_macro RESUME'].restore_idle_timeout}
	{% endif %}
	{% if (custom_park or not printer.pause_resume.is_paused) and allow_park %} _TOOLHEAD_PARK_PAUSE_CANCEL {park_x} {park_y} {% endif %}
	_CLIENT_RETRACT LENGTH={retract}
	TURN_OFF_HEATERS
	M106 S0
	{client.user_cancel_macro | default("")}
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=idle_state VALUE=False
	
	SET_PAUSE_NEXT_LAYER ENABLE=0
	SET_PAUSE_AT_LAYER ENABLE=0 LAYER=0
	CANCEL_PRINT_BASE

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = PAUSE_BASE
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set idle_timeout = client.idle_timeout | default(0) %}
	{% set temp = printer[printer.toolhead.extruder].target if printer.toolhead.extruder != '' else 0 %}
	{% set restore = False if printer.toolhead.extruder == ''
	else True  if params.RESTORE | default(1) | int == 1 else False %}
	
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=last_extruder_temp VALUE="{{'restore': restore, 'temp': temp}}"
	
	{% if idle_timeout > 0 %}
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=restore_idle_timeout VALUE={printer.configfile.settings.idle_timeout.timeout}
	SET_IDLE_TIMEOUT TIMEOUT={idle_timeout}
	{% endif %}
	PAUSE_BASE
	{client.user_pause_macro | default("")}
	_TOOLHEAD_PARK_PAUSE_CANCEL {rawparams}

[gcode_macro RESUME]
description = Resume while heat soaking results in the soaking phase being skipped, any complete callback is run
rename_existing = _HEAT_SOAK__BASE_RESUME
variable_last_extruder_temp = {'restore': False, 'temp': 0}
variable_restore_idle_timeout = 0
variable_idle_state = False
gcode = 
	HEAT_SOAK_RESUME ON_RESUME=_HEAT_SOAK__BASE_RESUME

[gcode_macro SET_PAUSE_NEXT_LAYER]
description = Enable a pause if the next layer is reached
gcode = 
	{% set pause_next_layer = printer['gcode_macro SET_PRINT_STATS_INFO'].pause_next_layer %}
	{% set ENABLE = params.ENABLE | default(1)|int != 0 %}
	{% set MACRO = params.MACRO | default(pause_next_layer.call, True) %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{ 'enable': ENABLE, 'call': MACRO }}"

[gcode_macro SET_PAUSE_AT_LAYER]
description = Enable/disable a pause if a given layer number is reached
gcode = 
	{% set pause_at_layer = printer['gcode_macro SET_PRINT_STATS_INFO'].pause_at_layer %}
	{% set ENABLE = params.ENABLE | int != 0 if params.ENABLE is defined
	else params.LAYER is defined %}
	{% set LAYER = params.LAYER | default(pause_at_layer.layer) | int %}
	{% set MACRO = params.MACRO | default(pause_at_layer.call, True) %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{ 'enable': ENABLE, 'layer': LAYER, 'call': MACRO }}"

[gcode_macro SET_PRINT_STATS_INFO]
rename_existing = SET_PRINT_STATS_INFO_BASE
description = Overwrite, to get pause_next_layer and pause_at_layer feature
variable_pause_next_layer = { 'enable': False, 'call': "PAUSE" }
variable_pause_at_layer = { 'enable': False, 'layer': 0, 'call': "PAUSE" }
gcode = 
	{% if pause_next_layer.enable %}
	RESPOND TYPE=echo MSG='{"%s, forced by pause_next_layer" % pause_next_layer.call}'
	{pause_next_layer.call}
	SET_PAUSE_NEXT_LAYER ENABLE=0
	{% elif pause_at_layer.enable and params.CURRENT_LAYER is defined and params.CURRENT_LAYER | int == pause_at_layer.layer %}
	RESPOND TYPE=echo MSG='{"%s, forced by pause_at_layer [%d]" % (pause_at_layer.call, pause_at_layer.layer)}'
	{pause_at_layer.call}
	SET_PAUSE_AT_LAYER ENABLE=0
	{% endif %}
	SET_PRINT_STATS_INFO_BASE {rawparams}

[gcode_macro _TOOLHEAD_PARK_PAUSE_CANCEL]
description = Helper: park toolhead used in PAUSE and CANCEL_PRINT
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set use_custom     = client.use_custom_pos | default(false) | lower == 'true' %}
	{% set custom_park_x  = client.custom_park_x | default(0.0) %}
	{% set custom_park_y  = client.custom_park_y | default(0.0) %}
	{% set park_dz        = client.custom_park_dz | default(2.0) | abs %}
	{% set sp_hop         = client.speed_hop | default(15) * 60 %}
	{% set sp_move        = client.speed_move | default(velocity) * 60 %}
	
	{% set origin    = printer.gcode_move.homing_origin %}
	{% set act       = printer.gcode_move.gcode_position %}
	{% set max       = printer.toolhead.axis_maximum %}
	{% set cone      = printer.toolhead.cone_start_z | default(max.z) %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	
	{% set z_min = params.Z_MIN | default(0) | float %}
	{% set z_park = [[(act.z + park_dz), z_min]|max, (max.z - origin.z)] | min %}
	{% set x_park = params.X       if params.X is defined
	else custom_park_x  if use_custom
	else 0.0            if round_bed
	else (max.x - 5.0) %}
	{% set y_park = params.Y       if params.Y is defined
	else custom_park_y  if use_custom
	else (max.y - 5.0)  if round_bed and z_park < cone
	else 0.0            if round_bed
	else (max.y - 5.0) %}
	
	_CLIENT_RETRACT
	{% if "xyz" in printer.toolhead.homed_axes %}
	G90
	G1 Z{z_park} F{sp_hop}
	G1 X{x_park} Y{y_park} F{sp_move}
	{% if not printer.gcode_move.absolute_coordinates %} G91 {% endif %}
	{% else %}
	RESPOND TYPE=echo MSG='Printer not homed'
	{% endif %}

[gcode_macro _CLIENT_EXTRUDE]
description = Extrudes, if the extruder is hot enough
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set use_fw_retract = (client.use_fw_retract | default(false) | lower == 'true') and (printer.firmware_retraction is defined) %}
	{% set length = params.LENGTH | default(client.unretract) | default(1.0) | float %}
	{% set speed = params.SPEED | default(client.speed_unretract) | default(35) %}
	{% set absolute_extrude = printer.gcode_move.absolute_extrude %}
	
	{% if printer.toolhead.extruder != '' %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if use_fw_retract %}
	{% if length < 0 %}
	G10
	{% else %}
	G11
	{% endif %}
	{% else %}
	M83
	G1 E{length} F{(speed | float | abs) * 60}
	{% if absolute_extrude %}
	M82
	{% endif %}
	{% endif %}
	{% else %}
	RESPOND TYPE=echo MSG='{"\"%s\" not hot enough" % printer.toolhead.extruder}'
	{% endif %}
	{% endif %}

[gcode_macro _CLIENT_RETRACT]
description = Retracts, if the extruder is hot enough
gcode = 
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] | default({}) %}
	{% set length = params.LENGTH | default(client.retract) | default(1.0) | float %}
	{% set speed = params.SPEED | default(client.speed_retract) | default(35) %}
	
	_CLIENT_EXTRUDE LENGTH=-{length | float | abs} SPEED={speed | float | abs}

[gcode_macro GET_TIMELAPSE_SETUP]
description = Print the Timelapse setup
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set output_txt = ["Timelapse Setup:"] %}
	{% set _dummy = output_txt.append("enable: %s" % tl.enable) %}
	{% set _dummy = output_txt.append("park: %s" % tl.park.enable) %}
	{% if tl.park.enable %}
	{% set _dummy = output_txt.append("park position: %s time: %s s" % (tl.park.pos, tl.park.time)) %}
	{% set _dummy = output_txt.append("park cord x:%s y:%s dz:%s" % (tl.park.coord.x, tl.park.coord.y, tl.park.coord.dz)) %}
	{% set _dummy = output_txt.append("travel speed: %s mm/s" % tl.speed.travel) %}
	{% endif %}
	{% set _dummy = output_txt.append("fw_retract: %s" % tl.extruder.fw_retract) %}
	{% if not tl.extruder.fw_retract %}
	{% set _dummy = output_txt.append("retract: %s mm speed: %s mm/s" % (tl.extruder.retract, tl.speed.retract)) %}
	{% set _dummy = output_txt.append("extrude: %s mm speed: %s mm/s" % (tl.extruder.extrude, tl.speed.extrude)) %}
	{% endif %}
	{% set _dummy = output_txt.append("verbose: %s" % tl.verbose) %}
	{action_respond_info(output_txt|join("\n"))}

[gcode_macro _SET_TIMELAPSE_SETUP]
description = Set user parameters for timelapse
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	{% set park = {'min'   : {'x': (min.x / 1.42)|round(3) if round_bed else min.x|round(3),
	'y': (min.y / 1.42)|round(3) if round_bed else min.y|round(3)},
	'max'   : {'x': (max.x / 1.42)|round(3) if round_bed else max.x|round(3),
	'y': (max.y / 1.42)|round(3) if round_bed else max.y|round(3)},
	'center': {'x': (max.x-(max.x-min.x)/2)|round(3),
	'y': (max.y-(max.y-min.y)/2)|round(3)}} %}
	
	{% if params.ENABLE %}
	{% if params.ENABLE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=enable VALUE={True if params.ENABLE|lower == 'true' else False}
	{% else %}
	{action_raise_error("ENABLE=%s not supported. Allowed values are [True, False]" % params.ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.VERBOSE %}
	{% if params.VERBOSE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=verbose VALUE={True if params.VERBOSE|lower == 'true' else False}
	{% else %}
	{action_raise_error("VERBOSE=%s not supported. Allowed values are [True, False]" % params.VERBOSE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_X %}
	{% if params.CUSTOM_POS_X|float >= min.x and params.CUSTOM_POS_X|float <= max.x %}
	{% set _dummy = tl.park.custom.update({'x':params.CUSTOM_POS_X|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_X=%s must be within [%s - %s]" % (params.CUSTOM_POS_X, min.x, max.x))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_Y %}
	{% if params.CUSTOM_POS_Y|float >= min.y and params.CUSTOM_POS_Y|float <= max.y %}
	{% set _dummy = tl.park.custom.update({'y':params.CUSTOM_POS_Y|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_Y=%s must be within [%s - %s]" % (params.CUSTOM_POS_Y, min.y, max.y))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_DZ %}
	{% if params.CUSTOM_POS_DZ|float >= min.z and params.CUSTOM_POS_DZ|float <= max.z %}
	{% set _dummy = tl.park.custom.update({'dz':params.CUSTOM_POS_DZ|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_DZ=%s must be within [%s - %s]" % (params.CUSTOM_POS_DZ, min.z, max.z))}
	{% endif %}
	{% endif %}
	{% if params.PARK_ENABLE %}
	{% if params.PARK_ENABLE|lower is in ['true', 'false'] %}
	{% set _dummy = tl.park.update({'enable':True if params.PARK_ENABLE|lower == 'true' else False}) %}
	{% else %}
	{action_raise_error("PARK_ENABLE=%s not supported. Allowed values are [True, False]" % params.PARK_ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.PARK_POS %}
	{% if params.PARK_POS|lower is in ['center','front_left','front_right','back_left','back_right','custom','x_only','y_only'] %}
	{% set dic = {'center'      : {'x': park.center.x   , 'y': park.center.y   , 'dz': 1                },
	'front_left'  : {'x': park.min.x      , 'y': park.min.y      , 'dz': 0                },
	'front_right' : {'x': park.max.x      , 'y': park.min.y      , 'dz': 0                },
	'back_left'   : {'x': park.min.x      , 'y': park.max.y      , 'dz': 0                },
	'back_right'  : {'x': park.max.x      , 'y': park.max.y      , 'dz': 0                },
	'custom'      : {'x': tl.park.custom.x, 'y': tl.park.custom.y, 'dz': tl.park.custom.dz},
	'x_only'      : {'x': tl.park.custom.x, 'y': 'none'          , 'dz': tl.park.custom.dz},
	'y_only'      : {'x': 'none'          , 'y': tl.park.custom.y, 'dz': tl.park.custom.dz}} %}
	{% set _dummy = tl.park.update({'pos':params.PARK_POS|lower}) %}
	{% set _dummy = tl.park.update({'coord':dic[tl.park.pos]}) %}
	{% else %}
	{action_raise_error("PARK_POS=%s not supported. Allowed values are [CENTER, FRONT_LEFT, FRONT_RIGHT, BACK_LEFT, BACK_RIGHT, CUSTOM, X_ONLY, Y_ONLY]"
	% params.PARK_POS|upper)}
	{% endif %}
	{% endif %}
	{% if params.PARK_TIME %}
	{% if params.PARK_TIME|float >= 0.0 %}
	{% set _dummy = tl.park.update({'time':params.PARK_TIME|float|round(3)}) %}
	{% else %}
	{action_raise_error("PARK_TIME=%s must be a positive number" % params.PARK_TIME)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=park VALUE="{tl.park}"
	{% if params.TRAVEL_SPEED %}
	{% if params.TRAVEL_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'travel':params.TRAVEL_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("TRAVEL_SPEED=%s must be larger than 0" % params.TRAVEL_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_SPEED %}
	{% if params.RETRACT_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'retract':params.RETRACT_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_SPEED=%s must be larger than 0" % params.RETRACT_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.EXTRUDE_SPEED %}
	{% if params.EXTRUDE_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'extrude':params.EXTRUDE_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_SPEED=%s must be larger than 0" % params.EXTRUDE_SPEED)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=speed VALUE="{tl.speed}"
	{% if params.EXTRUDE_DISTANCE %}
	{% if params.EXTRUDE_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'extrude':params.EXTRUDE_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_DISTANCE=%s must be specified as positiv number" % params.EXTRUDE_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_DISTANCE %}
	{% if params.RETRACT_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'retract':params.RETRACT_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_DISTANCE=%s must be specified as positiv number" % params.RETRACT_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.FW_RETRACT %}
	{% if params.FW_RETRACT|lower is in ['true', 'false'] %}
	{% if 'firmware_retraction' in printer.configfile.settings %}
	{% set _dummy = tl.extruder.update({'fw_retract': True if params.FW_RETRACT|lower == 'true' else False}) %}
	{% else %}
	{% set _dummy = tl.extruder.update({'fw_retract':False}) %}
	{% if params.FW_RETRACT|capitalize == 'True' %}
	{action_raise_error("[firmware_retraction] not defined in printer.cfg. Can not enable fw_retract")}
	{% endif %}
	{% endif %}
	{% else %}
	{action_raise_error("FW_RETRACT=%s not supported. Allowed values are [True, False]" % params.FW_RETRACT|capitalize)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=extruder VALUE="{tl.extruder}"
	{% if printer.configfile.settings['gcode_macro pause'] is defined %}
	{% set _dummy = tl.macro.update({'pause': printer.configfile.settings['gcode_macro pause'].rename_existing}) %}
	{% endif %}
	{% if printer.configfile.settings['gcode_macro resume'] is defined %}
	{% set _dummy = tl.macro.update({'resume': printer.configfile.settings['gcode_macro resume'].rename_existing}) %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=macro VALUE="{tl.macro}"

[gcode_macro TIMELAPSE_TAKE_FRAME]
description = Take Timelapse shoot
variable_enable = False
variable_takingframe = False
variable_park = {'enable': False,
	'pos'   : 'center',
	'time'  : 0.1,
	'custom': {'x': 0, 'y': 0, 'dz': 0},
	'coord' : {'x': 0, 'y': 0, 'dz': 0}}
variable_extruder = {'fw_retract': False,
	'retract': 1.0,
	'extrude': 1.0}
variable_speed = {'travel': 100,
	'retract': 15,
	'extrude': 15}
variable_verbose = True
variable_check_time = 0.5
variable_restore = {'absolute': {'coordinates': True, 'extrude': True}, 'speed': 1500, 'e':0, 'factor': {'speed': 1.0, 'extrude': 1.0}}
variable_macro = {'pause': 'PAUSE', 'resume': 'RESUME'}
variable_is_paused = False
gcode = 
	{% set hyperlapse = True if params.HYPERLAPSE and params.HYPERLAPSE|lower =='true' else False %}
	{% if enable %}
	{% if (hyperlapse and printer['gcode_macro HYPERLAPSE'].run) or
	(not hyperlapse and not printer['gcode_macro HYPERLAPSE'].run) %}
	{% if park.enable %}
	{% set pos = {'x': 'X' + park.coord.x|string if park.pos != 'y_only' else '',
	'y': 'Y' + park.coord.y|string if park.pos != 'x_only' else '',
	'z': 'Z'+ [printer.gcode_move.gcode_position.z + park.coord.dz, printer.toolhead.axis_maximum.z]|min|string} %}
	{% set restore = {'absolute': {'coordinates': printer.gcode_move.absolute_coordinates,
	'extrude'    : printer.gcode_move.absolute_extrude},
	'speed'   : printer.gcode_move.speed,
	'e'       : printer.gcode_move.gcode_position.e,
	'factor'  : {'speed'  : printer.gcode_move.speed_factor,
	'extrude': printer.gcode_move.extrude_factor}} %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=restore VALUE="{restore}"
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, minimum extruder temperature not reached!")}{% endif %}
	{% else %}
	{% if extruder.fw_retract %}
	G10
	{% else %}
	M83
	G0 E-{extruder.retract} F{speed.retract * 60}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=True
	{macro.pause}
	SET_GCODE_OFFSET X=0 Y=0
	G90
	{% if "xyz" not in printer.toolhead.homed_axes %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, axis not homed yet!")}{% endif %}
	{% else %}
	G0 {pos.x} {pos.y} {pos.z} F{speed.travel * 60}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=takingframe VALUE=True
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={check_time}
	M400
	{% endif %}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE={hyperlapse}
	{% endif %}
	{% else %}
	{% if verbose %}{action_respond_info("Timelapse: disabled, take frame ignored")}{% endif %}
	{% endif %}

[gcode_macro _TIMELAPSE_NEW_FRAME]
description = action call for timelapse shoot. must be a seperate macro
gcode = 
	{action_call_remote_method("timelapse_newframe",
	macropark=printer['gcode_macro TIMELAPSE_TAKE_FRAME'].park,
	hyperlapse=params.HYPERLAPSE)}

[delayed_gcode _WAIT_TIMELAPSE_TAKE_FRAME]
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set factor = {'speed': printer.gcode_move.speed_factor, 'extrude': printer.gcode_move.extrude_factor} %}
	{% if tl.takingframe %}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={tl.check_time}
	{% else %}
	{tl.macro.resume} VELOCITY={tl.speed.travel}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=False
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{action_respond_info("Timelapse: Warning minimum extruder temperature not reached!")}
	{% else %}
	{% if tl.extruder.fw_retract %}
	G11
	{% else %}
	G0 E{tl.extruder.extrude} F{tl.speed.extrude * 60}
	G0 F{tl.restore.speed}
	{% if tl.restore.absolute.extrude %}
	M82
	G92 E{tl.restore.e}
	{% endif %}
	{% endif %}
	{% endif %}
	{% if tl.restore.factor.speed   != factor.speed   %} M220 S{(factor.speed*100)|round(0)}   {% endif %}
	{% if tl.restore.factor.extrude != factor.extrude %} M221 S{(factor.extrude*100)|round(0)} {% endif %}
	{% if not tl.restore.absolute.coordinates %} G91 {% endif %}
	{% endif %}

[gcode_macro HYPERLAPSE]
description = Start/Stop a hyperlapse recording
variable_cycle = 0
variable_run = False
gcode = 
	{% set cycle = params.CYCLE|default(30)|int %}
	{% if params.ACTION and params.ACTION|lower == 'start' %}
	{action_respond_info("Hyperlapse: frames started (Cycle %d sec)" % cycle)}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=True
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=cycle VALUE={cycle}
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True
	{% elif params.ACTION and params.ACTION|lower == 'stop' %}
	{% if run %}{action_respond_info("Hyperlapse: frames stopped")}{% endif %}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=False
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION=0
	{% else %}
	{action_raise_error("Hyperlapse: No valid input parameter
	Use:
	- HYPERLAPSE ACTION=START [CYCLE=time]
	- HYPERLAPSE ACTION=STOP")}
	{% endif %}

[delayed_gcode _HYPERLAPSE_LOOP]
gcode = 
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={printer["gcode_macro HYPERLAPSE"].cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True

[gcode_macro TIMELAPSE_RENDER]
description = Render Timelapse video and wait for the result
variable_render = False
variable_run_identifier = 0
gcode = 
	{action_respond_info("Timelapse: Rendering started")}
	{action_call_remote_method("timelapse_render", byrendermacro="True")}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=render VALUE=True
	{printer.configfile.settings['gcode_macro pause'].rename_existing}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5

[delayed_gcode _WAIT_TIMELAPSE_RENDER]
gcode = 
	{% set ri = printer['gcode_macro TIMELAPSE_RENDER'].run_identifier % 4 %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=run_identifier VALUE={ri + 1}
	{% if printer['gcode_macro TIMELAPSE_RENDER'].render %}
	M117 Rendering {['-','\\','|','/'][ri]}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5
	{% else %}
	{action_respond_info("Timelapse: Rendering finished")}
	M117
	{printer.configfile.settings['gcode_macro resume'].rename_existing}
	{% endif %}

[gcode_macro TEST_STREAM_DELAY]
description = Helper macro to find stream and park delay
gcode = 
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set act = printer.toolhead.position %}
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% if act.z > 5.0 %}
	G0 X{min.x + 5.0} F{tl.speed.travel|int * 60}
	G0 X{(max.x-min.x)/2}
	G4 P{tl.park.time|float * 1000}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE=FALSE
	G0 X{max.x - 5.0}
	{% else %}
	{action_raise_error("Toolhead z %.3f to low. Please place head above z = 5.0" % act.z)}
	{% endif %}

[gcode_macro HEAT_SOAK]
description = Wait for a temperature sensor to reach thermal equilibrium
variable_last_temp = 0
variable_last_soak_temp_rate = None
variable_temp_history = None
variable_smoothed_temp_history = None
variable_stage = "done"
variable_total_time_elapsed = 0
variable_soak_time_remaining = 30
variable_check_interval = 1
variable_heating_report_interval = 2
variable_soaking_report_interval = 5
variable_heater_sensor = None
variable_soaker_sensor = None
variable_target_temp = 0.0
variable_min_soak_temp = 0
variable_target_rate = 0.3
variable_complete = None
variable_cancel = None
variable_temp_smooth_time = 4.0
variable_rate_smooth_time = 20.0
variable_resume_trigger = False
variable_was_print_active = False
gcode = 
	{ action_respond_info( "Heat Soak starting" )}
	
	
	{% set SOAKER = params.SOAKER | string %}
	{% set RATE = params.RATE | default(0.3) | float %}
	{% set SOAK_TEMP = params.SOAK_TEMP | default(0.0) | float %}
	{% set HEATER = (params.HEATER | string) %}
	{% set TARGET = params.TARGET | default(0) | float %}
	{% set TIMEOUT = (params.TIMEOUT | default(30) | int) * 60 %}
	{% set TEMP_SMOOTH = params.TEMP_SMOOTH | default(4.0) | float %}
	{% set RATE_SMOOTH = params.RATE_SMOOTH | default(20) | float %}
	{% set COMPLETE  = (params.COMPLETE | string) %}
	{% set CANCEL  = (params.CANCEL | string) %}
	{% set HEATING_REPORT_INTERVAL  = params.HEATING_REPORT_INTERVAL | default(2) | int %}
	{% set SOAKING_REPORT_INTERVAL  = params.SOAKING_REPORT_INTERVAL | default(5) | int %}
	
	
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=heater_sensor           VALUE="{HEATER | pprint}"
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=target_temp             VALUE={TARGET}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=min_soak_temp           VALUE={SOAK_TEMP}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=soaker_sensor           VALUE="{SOAKER | pprint}"
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=target_rate             VALUE={RATE}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=soak_time_remaining     VALUE={TIMEOUT}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=complete                VALUE="'{COMPLETE}'"
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=cancel                  VALUE="'{CANCEL}'"
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=temp_smooth_time        VALUE={TEMP_SMOOTH}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=rate_smooth_time        VALUE={RATE_SMOOTH}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=heating_report_interval VALUE={HEATING_REPORT_INTERVAL}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=soaking_report_interval VALUE={SOAKING_REPORT_INTERVAL}
	
	
	{% set soak_temp = printer[SOAKER].temperature %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=last_temp               VALUE={soak_temp}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=temp_history            VALUE="{[soak_temp] | pprint}"
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=smoothed_temp_history   VALUE="{[] | pprint}"
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=total_time_elapsed      VALUE=0
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=last_soak_temp_rate     VALUE=None
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=check_interval          VALUE=1.0
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=resume_trigger          VALUE=False
	{% set is_print_active = printer['virtual_sdcard'].is_active or printer['virtual_sdcard'].file_position != 0.0 %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=was_print_active        VALUE={is_print_active}
	
	
	{% if (HEATER and TARGET != 0.0) %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=stage               VALUE="'heating'"
	SET_HEATER_TEMPERATURE HEATER={HEATER} TARGET={TARGET}
	{% else %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=stage               VALUE="'soaking'"
	{% endif %}
	
	
	{% if is_print_active %}
	PAUSE
	{% endif %}
	
	UPDATE_DELAYED_GCODE ID=_heat_soaker DURATION={check_interval}

[gcode_macro STOP_HEAT_SOAK]
description = stops heat soak activity without running any callbacks
gcode = 
	UPDATE_DELAYED_GCODE ID=_heat_soaker DURATION=0
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=stage VALUE="'done'"

[gcode_macro CANCEL_HEAT_SOAK]
description = cancels an in-progress HEAT_SOAK cycle and runs the cancel callback
gcode = 
	
	{% set heat_soak = printer['gcode_macro HEAT_SOAK'] %}
	{% set stage = heat_soak.stage %}
	{% if stage in ("heating", "soaking") %}
	STOP_HEAT_SOAK
	{% if heat_soak.cancel %}
	{heat_soak.cancel}
	{% endif %}
	{% endif %}

[gcode_macro HEAT_SOAK_RESUME]
description = Resume while heat soaking results in the soaking phase being skipped, any complete callback is run
gcode = 
	{% set ON_RESUME = (params.ON_RESUME | default("_HEAT_SOAK__BASE_RESUME")) | string %}
	{% set heat_soak = printer['gcode_macro HEAT_SOAK'] %}
	{% set stage = heat_soak.stage %}
	{% if stage == "heating"  %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=resume_trigger VALUE=True
	{% elif stage == "soaking" %}
	STOP_HEAT_SOAK
	{% if heat_soak.complete %}
	{heat_soak.complete}
	{% endif %}
	{ON_RESUME} {% for p in params %}{'%s=%s ' % (p, params[p])}{% endfor %}
	{% else %}
	{ON_RESUME} {% for p in params %}{'%s=%s ' % (p, params[p])}{% endfor %}
	{% endif %}

[delayed_gcode _heat_soaker]
gcode = 
	{% set heat_soak = printer['gcode_macro HEAT_SOAK'] %}
	
	
	
	
	{% set file_position_is_zero = (printer['virtual_sdcard'].file_position == 0.0 )%}
	{% if heat_soak.was_print_active and file_position_is_zero %}
	STOP_HEAT_SOAK
	{action_respond_info("HEAT_SOAK aborted. Detected a change in virtual_sdcard print state. Call STOP_HEAT_SOAK from CANCEL_PRINT to stop seeing this error message.")}
	{% endif %}
	
	
	{% if not file_position_is_zero and not printer['pause_resume'].is_paused %}
	STOP_HEAT_SOAK
	{action_respond_info("HEAT_SOAK aborted. Print is no longer paused. Call STOP_HEAT_SOAK or HEAT_SOAK_RESUME from your RESUME macro to stop seeing this error message.")}
	{% endif %}
	
	
	{% set total_time_elapsed = heat_soak.total_time_elapsed + heat_soak.check_interval %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=total_time_elapsed VALUE={ total_time_elapsed }
	
	{% set soaker_sensor = printer[heat_soak.soaker_sensor] %}
	{% set soak_temp = soaker_sensor.temperature %}
	{% if heat_soak.heater_sensor %}
	{% set heater_sensor = printer[heat_soak.heater_sensor] %}
	{% set heater_temp = heater_sensor.temperature | round(1) %}
	{% endif %}
	{% set stage = heat_soak.stage %}
	
	
	{% set temp_history = heat_soak.temp_history %}
	{% set smoothed_temp_history = heat_soak.smoothed_temp_history %}
	{% set temp_diff = soak_temp - (temp_history | last) %}
	{% set _ = temp_history.append(soak_temp) %}
	{% set soak_temp_smoothed = None %}
	{% set slope = None %}
	{% if (temp_history | length) > heat_soak.temp_smooth_time %}
	{% set temp_history = temp_history[1:] %}
	
	{% set soak_temp_smoothed = ((temp_history | sum) / (temp_history | length)) %}
	
	{% set _ = smoothed_temp_history.append(soak_temp_smoothed) %}
	
	{% set soak_temp_smoothed = soak_temp_smoothed | round(3) %}
	
	{% if (smoothed_temp_history | length) > heat_soak.rate_smooth_time %}
	{% set smoothed_temp_history = smoothed_temp_history[1:] %}
	
	
	
	
	{% set count = (smoothed_temp_history | length) %}
	{% set times = range(0, count, 1) %}
	{% set x_sum = (times | sum) | float %}
	{% set y_sum = (smoothed_temp_history | sum) | float %}
	
	
	{% set xx_sum_arr = [] %}
	{% set xy_sum_arr = [] %}
	{% for i in times %}
	{% set x = times[i] %}
	{% set y = smoothed_temp_history[i] %}
	{% set _ = xx_sum_arr.append(x * x) %}
	{% set _ = xy_sum_arr.append(x * y) %}
	{% endfor %}
	{% set xx_sum = (xx_sum_arr | sum) | float %}
	{% set xy_sum = (xy_sum_arr | sum) | float %}
	
	{% set slope = (60.0 * ((count | float * xy_sum) - (x_sum * y_sum)) / ((count | float * xx_sum) - (x_sum * x_sum))) | round(3) %}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=temp_history VALUE="{(temp_history | pprint | replace("\n", ""))}"
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=smoothed_temp_history VALUE="{(smoothed_temp_history | pprint | replace("\n", ""))}"
	
	
	{% if stage == "heating" %}
	{% if heater_temp < heat_soak.target_temp %}
	{% if total_time_elapsed % heat_soak.heating_report_interval == 0 %}
	{% set message = "Heating -- %.1fC / %.1fC -- %.1fm elapsed" % (heater_temp, heat_soak.target_temp, total_time_elapsed / 60.0) %}
	M117 {message}
	{action_respond_info(message)}
	{% endif %}
	{% else %}
	{action_respond_info("Heating completed after ~%.1fm, starting heat soak phase." % (total_time_elapsed / 60.0))}
	
	{% set stage = "done" if heat_soak.resume_trigger else "soaking" %}
	
	{% set total_time_elapsed = 0 %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=total_time_elapsed VALUE={ total_time_elapsed }
	{% endif %}
	{% endif %}
	
	
	{% if stage == "soaking" %}
	
	{% set soak_time_remaining = [heat_soak.soak_time_remaining - heat_soak.check_interval, 0] | max %}
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=soak_time_remaining VALUE={ soak_time_remaining }
	
	
	{% if soak_time_remaining <= 0 %}
	{action_respond_info("Heat soak timed out after ~%.1fm" % (total_time_elapsed / 60.0))}
	{% set stage = "cancel" %}
	
	{% elif slope is none or soak_temp_smoothed is none %}
	{% if total_time_elapsed % heat_soak.soaking_report_interval == 0 %}
	
	{% set message = "Soaking -- gathering data -- %.1fm remaining" % (soak_time_remaining / 60.0) %}
	M117 { message }
	{action_respond_info(message)}
	{% endif %}
	
	{% elif (slope > heat_soak.target_rate) or (heat_soak.min_soak_temp > 0 and soak_temp_smoothed < heat_soak.min_soak_temp) %}
	{% if total_time_elapsed % heat_soak.soaking_report_interval == 0 %}
	{% set format_vars = [
	soak_temp_smoothed | float,
	(heat_soak.min_soak_temp | float | round(0) | string) if (heat_soak.min_soak_temp > 0) else "--",
	slope,
	heat_soak.target_rate,
	soak_time_remaining / 60.0
	] %}
	{% set message = "Soaking -- temp: {0:.1f}C / {1}C -- rate: {2:.3f}C/m / {3:.3f}C/m -- {4:.1f}m remaining".format(*format_vars) %}
	M117 { message }
	{action_respond_info(message)}
	{% endif %}
	
	{% else %}
	{action_respond_info("Heat soak complete after ~%.1fm at %.3fC/m / %.1fC" % (total_time_elapsed / 60.0, slope, soak_temp))}
	{% set stage = "done" %}
	{% endif %}
	{% endif %}
	
	
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=stage VALUE="'{stage}'"
	
	{% if stage in ("done", "cancel") %}
	STOP_HEAT_SOAK
	{% if stage == "cancel" %}
	{% if heat_soak.cancel %}
	{heat_soak.cancel}
	{% elif printer['virtual_sdcard'].is_active %}
	CANCEL_PRINT
	{% endif %}
	{% else %}
	{% if heat_soak.complete %}
	{heat_soak.complete}
	{% endif %}
	{% if printer['pause_resume'].is_paused  %}
	RESUME
	{% endif %}
	{% endif %}
	{% else %}
	
	UPDATE_DELAYED_GCODE ID=_heat_soaker DURATION={ heat_soak.check_interval }
	
	G4 P1
	{% endif %}
	
	
	SET_GCODE_VARIABLE MACRO=HEAT_SOAK VARIABLE=stage VALUE="'{stage}'"

[gcode_macro PRINT_WARMUP]
description = Perform initial homing and heating tasks
gcode = 
	{% set EXTRUDER_TEMP = params.EXTRUDER_TEMP | default(190) | float %}
	{% set BED_TEMP = params.BED_TEMP | default(60) | float %}
	
	
	M104 S{EXTRUDER_TEMP * 0.75}
	M140 S{BED_TEMP}
	G32
	
	
	HEAT_SOAK HEATER='heater_bed' TARGET={BED_TEMP} SOAKER='temperature_sensor top_bed' SOAK_TEMP={BED_TEMP * 0.80}

[gcode_macro M106]
rename_existing = M106.1
gcode = 
	{% if params.P is defined and params.P|int > 0 %}
	{% if params.P|int == 1 %}
	M106.1 S{params.S|int}
	{% endif %}
	{% if params.P|int == 2 %}
	SET_FAN_SPEED FAN=exhaust_fan SPEED={(params.S|int / 255 )}
	{% endif %}
	{% if params.P|int == 3 %}
	SET_FAN_SPEED FAN=Air_Scrubber SPEED={(params.S|int / 255 )}
	{% endif %}
	{% else %}
	M106.1 S{params.S|int}
	{% endif %}

[gcode_macro M300]
gcode = 
	
	{% set S = params.S|default(1000)|int %}
	
	{% set P = params.P|default(100)|int %}
	SET_PIN PIN=_BEEPER_pin VALUE=0.5 CYCLE_TIME={ 1.0/S if S > 0 else 1 }
	G4 P{P}
	SET_PIN PIN=_BEEPER_pin VALUE=0

[gcode_macro M600]
gcode = 
	PAUSE
	M117 Colour Change Macro
	Change_FILAMENT_UNLOAD
	M117 Load new Filament
	PLAY_TONE l=5

[gcode_macro M601]
gcode = 
	PAUSE
	M117 Printer Paused
	PLAY_TONE l=5

[gcode_macro Rescan_Bed]
gcode = 
	G28
	bed_mesh_calibrate
	BED_MESH_PROFILE SAVE="400custom"
	SAVE_CONFIG

[gcode_macro UNLOAD_FILAMENT]
variable_unloading_speed_start = 80
variable_unloading_speed = 20
variable_cooling_tube_position = 35
variable_cooling_tube_length = 10
variable_initial_cooling_speed = 10
variable_final_cooling_speed = 50
variable_cooling_moves = 4
gcode = 
	{% set UNLOADING_SPEED_START = params.UNLOADING_SPEED_START|default(printer['gcode_macro UNLOAD_FILAMENT_FORM_TIP']['unloading_speed_start']) %}
	{% set UNLOADING_SPEED = params.UNLOADING_SPEED|default(printer['gcode_macro UNLOAD_FILAMENT_FORM_TIP']['unloading_speed']) %}
	{% set COOLING_TUBE_LENGTH = params.COOLING_TUBE_LENGTH|default(printer['gcode_macro UNLOAD_FILAMENT_FORM_TIP']['cooling_tube_length']) %}
	{% set COOLING_TUBE_POSITION = params.COOLING_TUBE_POSITION|default(printer['gcode_macro UNLOAD_FILAMENT_FORM_TIP']['cooling_tube_position']) %}
	{% set INITIAL_COOLING_SPEED = params.INITIAL_COOLING_SPEED|default(printer['gcode_macro UNLOAD_FILAMENT_FORM_TIP']['initial_cooling_speed']) %}
	{% set FINAL_COOLING_SPEED = params.FINAL_COOLING_SPEED|default(printer['gcode_macro UNLOAD_FILAMENT_FORM_TIP']['final_cooling_speed']) %}
	{% set COOLING_MOVES = params.COOLING_MOVES|default(printer['gcode_macro UNLOAD_FILAMENT_FORM_TIP']['cooling_moves']) %}
	SAVE_GCODE_STATE NAME=load_state
	M117 Heating-
	M104 S205
	G28
	M109 S210
	M117 Unloading...
	M83
	G1 X105 Y0 Z80
	SET_PRESSURE_ADVANCE ADVANCE=0
	{% set TOTAL_RETRACTION_DISTANCE = COOLING_TUBE_POSITION|float + COOLING_TUBE_LENGTH|float / 2 - 15 %}
	G1 E-15 F{1.0 * UNLOADING_SPEED_START|float * 60}
	G1 E-{0.7 * TOTAL_RETRACTION_DISTANCE} F{1.0 * UNLOADING_SPEED|float * 60}
	G1 E-{0.2 * TOTAL_RETRACTION_DISTANCE} F{0.5 * UNLOADING_SPEED|float * 60}
	G1 E-{0.1 * TOTAL_RETRACTION_DISTANCE} F{0.3 * UNLOADING_SPEED|float * 60}
	{% set SPEED_INC = (FINAL_COOLING_SPEED|float - INITIAL_COOLING_SPEED|float) / (2 * COOLING_MOVES|float - 1) %}
	{% for move in range(COOLING_MOVES|int) %}
	G1 E{COOLING_TUBE_LENGTH} F{(INITIAL_COOLING_SPEED|float + SPEED_INC*move*2) * 60}
	G1 E-{COOLING_TUBE_LENGTH} F{(INITIAL_COOLING_SPEED|float + SPEED_INC*(move*2+1)) * 60}
	{% endfor %}
	G1 E-300 F3000
	G1 E-300 F3000
	G1 E-100 F1000
	M82
	M117 Sucess!
	RESTORE_GCODE_STATE NAME=load_state MOVE=1

[delayed_gcode POWER_ON_PRINTER]
initial_duration = 1
gcode = 
	PLAY_TONE l=1

[gcode_macro PLAY_TONE]
gcode = 
	{% set l = params.L|default(0)|int %}
	
	{% if l == 1 %}
	M300 P184 S392
	M300 P184 S523
	M300 P187 S659
	M300 P417 S784
	M300 P139 S659
	M300 P400 S784
	
	{% elif l == 2 %}
	M300 P146 S494
	M300 P97 S698
	M300 P157 S0
	M300 P132 S698
	M300 P174 S698
	M300 P168 S659
	M300 P176 S587
	M300 P134 S523
	M300 P95 S330
	M300 P31 S0
	
	{% elif l == 3 %}
	M300 P100 S659
	M300 P200 S659
	M300 P99 S659
	M300 P101 S0
	M300 P100 S523
	M300 P99 S659
	M300 P101 S0
	M300 P199 S784
	M300 P201 S0
	M300 P199 S392
	{% elif l == 4 %}
	M300 P353 S330
	M300 P353 S330
	M300 P353 S349
	M300 P353 S392
	M300 P353 S392
	M300 P353 S349
	M300 P353 S330
	M300 P353 S294
	M300 P353 S262
	M300 P353 S262
	M300 P353 S294
	M300 P353 S330
	M300 P529 S330
	M300 P176 S294
	M300 P706 S294
	{% else %}
	M300 P100 S0
	{% endif %}

[gcode_macro END_PRINT]
gcode = 
	
	{% set th = printer.toolhead %}
	{% set x_safe = th.position.x + 20 * (1 if th.axis_maximum.x - th.position.x > 20 else -1) %}
	{% set y_safe = th.position.y + 20 * (1 if th.axis_maximum.y - th.position.y > 20 else -1) %}
	{% set z_safe = [th.position.z + 50, th.axis_maximum.z]|min %}
	SAVE_GCODE_STATE NAME=STATE_PRINT_END
	M400
	G92 E0
	G1 E-5.0 F1800
	TURN_OFF_HEATERS
	G90
	G0 X{x_safe} Y{y_safe} Z{z_safe} F30000
	
	G0 X{th.axis_maximum.x//2} Y{th.axis_maximum.y} F30000
	BED_MESH_CLEAR
	RESTORE_GCODE_STATE NAME=STATE_PRINT_END
	
	SET_LED LED=case_light WHITE=0.25
	UPDATE_DELAYED_GCODE ID=filter_off DURATION=180
	PLAY_TONE l=2

[gcode_macro PRINT_START]
gcode = 
	
	{% set fct = {'ASA': 30, 'ABS': 50, 'NYLON': 35, 'PLA': 0, 'PC': 50, 'PETG': 30 } %}
	{% set ADAPTIVE_bed = params.ADAPTIVEBED|default("2")|int %}
	{% set MESH_bed = params.MESHbed|default("NONE") %}
	{% set skipheatsoak = params.skipheatsoak|default("0") %}
	{% set target_bed = params.BED|int %}
	{% set target_extruder = params.EXTRUDER|int %}
	{% set target_chamber = params.CHAMBER|default("0")|int %}
	{% set filament = params.filament|default("NONE") %}
	{% if filament != 'NONE' %}
	{% set target_chamber = fct[filament] %}
	{% endif %}
	{% set x_wait = printer.toolhead.axis_maximum.x|float / 2 %}
	{% set y_wait = printer.toolhead.axis_maximum.y|float / 2 %}
	
	
	STATUS_HOMING
	G28
	G90
	
	
	BED_MESH_CLEAR
	
	SET_FAN_SPEED FAN=Air_Scrubber SPEED=1
	
	SET_DISPLAY_TEXT MSG="Bed: {target_bed}c"
	STATUS_HEATING
	G1 X{x_wait} Y{y_wait} Z15 F9000
	M190 S{target_bed}
	{% if skipheatsoak == 0 %}
	HEAT_SOAK HEATER='heater_bed' TARGET={target_bed} SOAKER='temperature_sensor top_bed' SOAK_TEMP={target_bed * 0.80}
	{% endif %}
	
	SET_DISPLAY_TEXT MSG="Hotend: 150c"
	M109 S150
	SET_DISPLAY_TEXT MSG="Hotend: {target_extruder}c"
	M104 S{target_extruder}
	
	
	SET_DISPLAY_TEXT MSG="Z-tilt adjust"
	STATUS_LEVELING
	Z_TILT_ADJUST
	G28 Z
	
	
	
	
	
	
	
	
	{% if ADAPTIVE_bed == 99 %}
	{% if MESH_bed != "NONE" %}
	BED_MESH_CLEAR
	STATUS_MESHING
	SET_DISPLAY_TEXT MSG="Loading Mesh {MESH_bed}"
	BED_MESH_PROFILE LOAD="{MESH_bed}"
	{% endif %}
	{% else %}
	BED_MESH_CLEAR
	SET_DISPLAY_TEXT MSG="Adaptive Bed mesh"
	STATUS_MESHING
	bed_mesh_calibrate ADAPTIVE=1 ADAPTIVE_MARGIN={ADAPTIVE_bed}
	{% endif %}
	
	
	
	
	
	
	
	
	
	SET_DISPLAY_TEXT MSG="Hotend: {target_extruder}c"
	STATUS_HEATING
	G1 X{x_wait} Y{y_wait} Z15 F9000
	M107
	M109 S{target_extruder}
	SET_LED LED=case_light WHITE=1
	
	
	SET_DISPLAY_TEXT MSG="Printer goes brr"
	PLAY_TONE l=3
	STATUS_PRINTING
	G0 X0 Y1 F10000
	G0 Z0.3
	G91
	G1 X150 E35 F1000
	G90

[gcode_macro LOAD_FILAMENT]
gcode = 
	SAVE_GCODE_STATE NAME=unload_state
	M117 Heating+
	M104 S205
	HOME
	M109 S205
	M117 Unloading...
	M83
	
	G1 E200 F3000
	G1 E200 F3000
	G1 E250 F3000
	G1 E20 F120
	
	G1 E-5
	M82
	RESTORE_GCODE_STATE NAME=unload_state MOVE=1

[delayed_gcode DISABLEFILAMENTSENSOR]
initial_duration = 1
gcode = 
	SET_FILAMENT_SENSOR SENSOR=filament_sensor ENABLE=0

[gcode_macro SFS_ENABLE]
description = Enable smart filament sensor
gcode = 
	M117 ENABLING the Smart Filament Sensor
	G92 E0
	SET_FILAMENT_SENSOR SENSOR=filament_sensor ENABLE=1

[gcode_macro SFS_DISABLE]
description = Disable smart filament sensor
gcode = 
	M117 DISABLING the Smart Filament Sensor
	G92 E0
	SET_FILAMENT_SENSOR SENSOR=filament_sensor ENABLE=0

[gcode_macro _START_BED_HEAT]
gcode = 
	{% set t = params.T|default(60)|int %}
	{% set c = params.C|default(30)|int %}
	{% set h = params.H|default(600)|int %}
	M140 S{t}
	
	SET_GCODE_VARIABLE MACRO=_BED_HEAT_STATUS VARIABLE=time_remaining VALUE={h}
	SET_GCODE_VARIABLE MACRO=_BED_HEAT_STATUS VARIABLE=bed_temperature VALUE={t}
	
	UPDATE_DELAYED_GCODE ID=_BED_HEAT_TIMER DURATION=1
	SET_IDLE_TIMEOUT

[gcode_macro STOP_BED_HEAT]
gcode = 
	
	
	SET_GCODE_VARIABLE MACRO=_BED_HEAT_STATUS VARIABLE=time_remaining VALUE=0
	UPDATE_DELAYED_GCODE ID=_BED_HEAT_TIMER DURATION=0
	M117 PreHeat Stopped

[gcode_macro _BED_HEAT_STATUS]
variable_time_remaining = 0
variable_bed_temperature = 0
variable_chamber_temperature = 0
gcode = 
	{% if time_remaining > 0 %}
	M140 S{bed_temperature}
	
	SET_GCODE_VARIABLE MACRO=_BED_HEAT_STATUS VARIABLE=time_remaining VALUE={time_remaining - 1}
	M117 PreHeat {time_remaining}
	{% else %}
	STOP_BED_HEAT
	{% endif %}

[delayed_gcode BED_HEAT_TIMER]
gcode = 
	UPDATE_DELAYED_GCODE ID=_BED_HEAT_TIMER DURATION=1
	_BED_HEAT_STATUS

[gcode_macro BED_60]
gcode = 
	_START_BED_HEAT t=60 c=30 h=600

[gcode_macro BED_65]
gcode = 
	_START_BED_HEAT t=65 c=30 h=600

[gcode_macro BED_70]
gcode = 
	_START_BED_HEAT t=70 c=30 h=600

[gcode_macro PA_CAL]
gcode = 
	{% set BED = params.BED|default(65) |float %}
	{% set EXTRUDER = params.EXTRUDER|default(210) |float %}
	{% set PA_start = params.START|default(0) |float %}
	{% set PA_max = params.MAX|default(0.1) |float %}
	
	{% set PA_factor = PA_max / 20 |float %}
	
	{% set max_x = printer.configfile.config["stepper_x"]["position_max"]|float %}
	{% set max_y = printer.configfile.config["stepper_y"]["position_max"]|float %}
	
	{% set x_section = max_x / 6 | float %}
	{% set x_start = x_section | float %}
	{% set x_p1 = x_section * 2 | float %}
	{% set x_p2 = x_section * 4 | float %}
	{% set x_p3 = x_section * 5 | float %}
	
	{% set y_section = max_y / 24 | float %}
	{% set y_start = y_section | float %}
	{% set y_base = y_section * 2 | float %}
	
	PRINT_START BED={BED} EXTRUDER={EXTRUDER}
	
	G21
	G90
	M83
	SET_VELOCITY_LIMIT ACCEL=5000 ACCEL_TO_DECEL=2500
	G92 E0
	M106 S0
	
	SET_PRESSURE_ADVANCE ADVANCE={PA_start}
	G1 X{x_start} Y{y_start} F30000
	G1 Z0.25 F300
	G1 E0.75 F1800
	G1 X{x_p1} Y{y_start} E0.91798 F300
	G1 X{x_p2} Y{y_start} E1.83596 F9000
	G1 X{x_p3} Y{y_start} E0.91798 F300
	G1 E-0.75 F1800
	G1 Z1 F300
	
	{% for i in range(0, 20) %}
	SET_PRESSURE_ADVANCE ADVANCE={PA_start + i*PA_factor}
	M117 Testing Pressure Advance at: {i*PA_factor}
	G1 X{x_start} Y{y_base+(5*i)} F30000
	G1 Z0.25 F300
	G1 E0.75 F1800
	G1 X{x_p1} Y{y_base+(5*i)} E0.91798 F300
	G1 X{x_p2} Y{y_base+(5*i)} E1.83596 F9000
	G1 X{x_p3} Y{y_base+(5*i)} E0.91798 F300
	G1 E-0.75 F1800
	G1 Z1 F300
	{% endfor %}
	
	PRINT_END

[gcode_macro PA_TUNER]
description = Pressure Advance Tuning Macro
	=========================================
	parameters with defaults listed below:
	TOOLHEAD=""
	BED_X_LENGTH=printer.toolhead.axis.maximum.x
	BED_Y_LENGTH=printer.toolhead.axis.maximum.y
	FILAMENT_DIAMETER=printer...filament_diameter
	EXTRUSION_WIDTH=printer...nozzle_diameter
	LAYER_HEIGHT=0.3
	SIDE_LENGTH=100
	FAST_PRINT_SPEED=150
	SLOW_PRINT_SPEED=30
	COOLING_FAN_SPEED=255
	PA_MIN=0.0
	PA_MAX=1.0
	LAYERS=60
	BED_TEMP=55
	PRINTING_TEMP=210
	X_OFFSET=0
	Y_OFFSET=0
	BASE_ONLY_FLOW_PERCENT=125
	STARTUP_MACRO=LOCAL_GENERIC_PA_START
	END_MACRO=LOCAL_GENERIC_PA_END
	=========================================
gcode = 
	
	{% set bed_x = params.BED_X_LENGTH|default(printer.toolhead.axis_maximum.x)|float %}
	{% set bed_y = params.BED_Y_LENGTH|default(printer.toolhead.axis_maximum.y)|float %}
	{% set filament_d = params.FILAMENT_DIAMETER|default(printer.configfile.settings.extruder.filament_diameter)|float %}
	{% set e_width = params.EXTRUSION_WIDTH|default(printer.configfile.settings.extruder.nozzle_diameter)|float %}
	{% set tool = params.TOOLHEAD|default("") %}
	{% set flow_p = params.BASE_ONLY_FLOW_PERCENT|default(125.0)|float %}
	{% set rect_side_len = params.SIDE_LENGTH|default(100.0)|float %}
	{% set layer_h = params.LAYER_HEIGHT|default(0.3)|float %}
	{% set fspeed = params.FAST_PRINT_SPEED|default(150.0)|float %}
	{% set sspeed = params.SLOW_PRINT_SPEED|default(30.0)|float %}
	{% set fan_speed = params.COOLING_FAN_SPEED|default(255.0)|float %}
	{% set PA_low = params.PA_MIN|default(0.0)|float %}
	{% set PA_high = params.PA_MAX|default(1.0)|float %}
	{% set b_temp = params.BED_TEMP|default(55.0)|float %}
	{% set p_temp = params.PRINTING_TEMP|default(210.0)|float %}
	{% set off_x = params.X_OFFSET|default(0.0)|float %}
	{% set off_y = params.Y_OFFSET|default(0.0)|float %}
	{% set layer_num  = params.LAYERS|default(60)|int %}
	{% set startup_code = params.START_MACRO|default("LOCAL_GENERIC_PA_START PT=" ~ p_temp ~ " BT=" ~ b_temp)|string %}
	{% set end_code = params.END_MACRO|default("LOCAL_GENERIC_PA_END EJECT=" ~ bed_y)|string %}
	
	{% set PA_const = (2 * ((PA_high - PA_low) / layer_num)) - PA_low %}
	{% if PA_const < 0 %}
	{% set PA_sign = " + " %}
	{% else %}
	{% set PA_sign = " - " %}
	{% endif %}
	{% set info_str = "Bed X Length: " ~ bed_x %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed Y Length: " ~ bed_y %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed X Offset: " ~ off_x %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed Y Offset: " ~ off_y %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Extrusion Width: " ~ e_width %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Filament size: " ~ filament_d %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Layer Height: " ~ layer_h %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed Temperature: " ~ b_temp %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Print Temperature: " ~ p_temp %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Slow Printing Speed: " ~ sspeed %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Fast Printing Speed: " ~ fspeed %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Fan Speed: " ~ fan_speed %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Length of Test Square: " ~ rect_side_len %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Number of Layers: " ~ layer_num %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Minimum Pressure Advance: " ~ PA_low %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Maximum Pressure Advance: " ~ PA_high %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Formula: Pressure Advance Value = Measured_Z_Height x " ~ (((PA_high - PA_low) / layer_num) / layer_h) ~ PA_sign ~ PA_const|abs %}
	RESPOND MSG="{info_str}"
	{% set g_cmd = tool %}
	{ g_cmd }
	{% set g_cmd = startup_code %}
	{ g_cmd }
	{% set g_cmd = "M220 S100" %}
	{ g_cmd }
	{% set g_cmd = "M221 S100" %}
	{ g_cmd }
	{% set g_cmd = "SET_VELOCITY_LIMIT SQUARE_CORNER_VELOCITY=1 ACCEL=500" %}
	{ g_cmd }
	{% set g_cmd = "SET_PRESSURE_ADVANCE ADVANCE_LOOKAHEAD_TIME=0" %}
	{ g_cmd }
	{% set g_cmd = "G92 E0" %}
	{ g_cmd }
	{% set g_cmd = "M83" %}
	{ g_cmd }
	{% set current_x = (bed_x / 2) - (rect_side_len / 2) %}
	{% set current_y = (bed_y / 2) - (rect_side_len / 2) %}
	
	{% set g_cmd = "G1 X" ~ (current_x + off_x) ~ " Y" ~ (current_y + off_y) ~ " Z" ~ layer_h ~ " E1.0 F" ~ (fspeed*60) %}
	{ g_cmd }
	{% set g_cmd = "G91" %}
	{ g_cmd }
	{% set pressure_advance = 0.0 %}
	{% set PA_msg = "SET_PRESSURE_ADVANCE ADVANCE=" ~ pressure_advance %}
	{ PA_msg }
	pa_line LSPEED={20} X_L={rect_side_len} Y_L=0.0 LF={flow_p} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={20} X_L={0.0} Y_L={(rect_side_len/2)} LF={flow_p} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={20} X_L=0.0 Y_L={(rect_side_len/2)} LF={flow_p} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={20} X_L={0-rect_side_len} Y_L=0.0 LF={flow_p} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={20} X_L=0.0 Y_L={0-rect_side_len} LF={flow_p} FD={filament_d} EW={e_width} LH={layer_h}
	{% set g_cmd = "G1 Z" ~ layer_h %}
	{ g_cmd }
	
	{% set g_cmd = "M106 S" ~ fan_speed %}
	{ g_cmd }
	{% for i in range(layer_num) %}
	{% set pressure_advance = (i / layer_num) * (PA_high - PA_low) + PA_low|float %}
	{% set PA_msg = "SET_PRESSURE_ADVANCE ADVANCE=" ~ pressure_advance %}
	{ PA_msg }
	pa_line LSPEED={fspeed} X_L={rect_side_len} Y_L=0.0 FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={fspeed} X_L=0.0 Y_L={(rect_side_len/2)} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={sspeed} X_L=0.0 Y_L={(rect_side_len/2)} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={fspeed} X_L={0-rect_side_len} Y_L=0.0 FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={sspeed} X_L=0.0 Y_L={0-rect_side_len} FD={filament_d} EW={e_width} LH={layer_h}
	{% set g_cmd = "G1 Z" ~ layer_h %}
	{ g_cmd }
	{% endfor %}
	
	{% set pressure_advance = PA_high|float %}
	{% set PA_msg = "SET_PRESSURE_ADVANCE ADVANCE=" ~ pressure_advance %}
	{ PA_msg }
	pa_line LSPEED={fspeed} X_L={rect_side_len} Y_L=0.0 FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={fspeed} X_L=0.0 Y_L={(rect_side_len/2)} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={sspeed} X_L=0.0 Y_L={(rect_side_len/2)} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={fspeed} X_L={0-rect_side_len} Y_L=0.0 FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={sspeed} X_L=0.0 Y_L={0-rect_side_len} FD={filament_d} EW={e_width} LH={layer_h}
	{% set g_cmd = "G1 Z" ~ layer_h %}
	{ g_cmd }
	pa_line LSPEED={fspeed} X_L={rect_side_len} Y_L=0.0 FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={fspeed} X_L=0.0 Y_L={(rect_side_len/2)} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={sspeed} X_L=0.0 Y_L={(rect_side_len/2)} FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={fspeed} X_L={0-rect_side_len} Y_L=0.0 FD={filament_d} EW={e_width} LH={layer_h}
	pa_line LSPEED={sspeed} X_L=0.0 Y_L={0-rect_side_len} FD={filament_d} EW={e_width} LH={layer_h}
	{% set g_cmd = "G1 Z" ~ layer_h %}
	{ g_cmd }
	{% set g_cmd = "G90" %}
	{ g_cmd }
	{% set g_cmd = end_code %}
	{ g_cmd }
	{% set info_str = "Bed X Length: " ~ bed_x %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed Y Length: " ~ bed_y %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed X Offset: " ~ off_x %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed Y Offset: " ~ off_y %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Extrusion Width: " ~ e_width %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Filament size: " ~ filament_d %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Layer Height: " ~ layer_h %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Bed Temperature: " ~ b_temp %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Print Temperature: " ~ p_temp %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Slow Printing Speed: " ~ sspeed %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Fast Printing Speed: " ~ fspeed %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Fan Speed: " ~ fan_speed %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Length of Test Square: " ~ rect_side_len %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Number of Layers: " ~ layer_num %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Minimum Pressure Advance: " ~ PA_low %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Maximum Pressure Advance: " ~ PA_high %}
	RESPOND MSG="{info_str}"
	{% set info_str = "Formula: Pressure Advance Value = Measured_Z_Height x " ~ (((PA_high - PA_low) / layer_num) / layer_h) ~ PA_sign ~ PA_const|abs %}
	RESPOND MSG="{info_str}"

[gcode_macro pa_line]
gcode = 
	{% set flow_r = params.LF|default(100.0)|float %}
	{% set zoomy = params.LSPEED|default(50.0)|float %}
	{% set x_lin = params.X_L|default(100.0)|float %}
	{% set y_lin = params.Y_L|default(100.0)|float %}
	{% set f_size = params.FD|default(1.75)|float %}
	{% set e_size = params.EW|default(0.4)|float %}
	{% set l_size = params.LH|default(0.2)|float %}
	{% set flow_n = flow_r / 100 %}
	{% set lin_length = (x_lin**2 + y_lin**2)**(1/2) %}
	{% set e_len = lin_length / (f_size * f_size * 3.14159 * 0.25) %}
	{% set e_num = e_len * e_size * l_size * 1.67 %}
	{% set g_cmd = "G1 X" ~ x_lin ~ " Y" ~ y_lin ~ " E" ~ (e_num * flow_n) ~ " F" ~ (zoomy*60) %}
	{ g_cmd }

[gcode_macro LOCAL_GENERIC_PA_START ]
description = Generic startup gcode with a prime strip
gcode = 
	{% set b_t = params.BT|default(0.0)|float %}
	{% set p_t = params.PT|default(0.0)|float %}
	{% set b_x = params.BED_X_LENGTH|default(printer.toolhead.axis_maximum.x)|float %}
	{% set b_y = params.BED_Y_LENGTH|default(printer.toolhead.axis_maximum.y)|float %}
	{% set f_d = params.FILAMENT_DIAMETER|default(printer.configfile.settings.extruder.filament_diameter)|float %}
	{% set e_w = params.EXTRUSION_WIDTH|default(printer.configfile.settings.extruder.nozzle_diameter)|float %}
	{% set o_x = params.X_OFFSET|default(0.0)|float %}
	{% set o_y = params.Y_OFFSET|default(0.0)|float %}
	{% set l_h = params.LAYER_HEIGHT|default(0.3)|float %}
	{% set g_cmd = "M140 S" ~ b_t %}
	{ g_cmd }
	{% set g_cmd = "M104 S" ~ p_t %}
	{ g_cmd }
	{% set g_cmd = "M190 S" ~ b_t %}
	{ g_cmd }
	{% set g_cmd = "G28" %}
	{ g_cmd }
	{% set g_cmd = "G1 Z10 F1500" %}
	{ g_cmd }
	{% set g_cmd = "M109 S" ~ p_t %}
	{ g_cmd }
	{% set g_cmd = "G92 E0" %}
	{ g_cmd }
	{% set g_cmd = "G1 Z2.0 F3000" %}
	{ g_cmd }
	{% set g_cmd = "G1 X0.1 Y20 Z0.3 F5000.0" %}
	{ g_cmd }
	{% set g_cmd = "M83" %}
	{ g_cmd }
	{% set g_cmd = "G91" %}
	{ g_cmd }
	pa_line LSPEED=25 X_L=0.0 Y_L={(b_y - 40)} FD={f_d} EW={e_w} LH={l_h}
	{% set g_cmd = "G1 X0.3 Y0 F5000.0" %}
	{ g_cmd }
	pa_line LSPEED=25 X_L=0.0 Y_L={0-(b_y - 40)} FD={f_d} EW={e_w} LH={l_h}
	{% set g_cmd = "G90" %}
	{ g_cmd }
	{% set g_cmd = "M82" %}
	{ g_cmd }
	{% set g_cmd = "G92 E0" %}
	{ g_cmd }
	{% set g_cmd = "G1 Z2.0 F3000" %}
	{ g_cmd }

[gcode_macro LOCAL_GENERIC_PA_END ]
description = Generic ending gcode
gcode = 
	{% set y_done = params.EJECT|default(0.0)|float %}
	{% set g_cmd = "G91" %}
	{ g_cmd }
	{% set g_cmd = "G1 Z10 F450" %}
	{ g_cmd }
	{% set g_cmd = "G90" %}
	{ g_cmd }
	{% set g_cmd = "M82" %}
	{ g_cmd }
	{% set g_cmd = "G1 X0 Y" ~ y_done %}
	{ g_cmd }
	{% set g_cmd = "M106 S0" %}
	{ g_cmd }
	{% set g_cmd = "M104 S0" %}
	{ g_cmd }
	{% set g_cmd = "M140 S0" %}
	{ g_cmd }
	{% set g_cmd = "M84" %}
	{ g_cmd }

[gcode_macro TEST_SPEED]
gcode = 
	
	{% set speed  = params.SPEED|default(printer.configfile.settings.printer.max_velocity)|int %}
	
	{% set iterations = params.ITERATIONS|default(5)|int %}
	
	{% set accel  = params.ACCEL|default(printer.configfile.settings.printer.max_accel)|int %}
	
	{% set bound = params.BOUND|default(20)|int %}
	
	{% set smallpatternsize = SMALLPATTERNSIZE|default(20)|int %}
	
	
	
	{% set x_min = printer.toolhead.axis_minimum.x + bound %}
	{% set x_max = printer.toolhead.axis_maximum.x - bound %}
	{% set y_min = printer.toolhead.axis_minimum.y + bound %}
	{% set y_max = printer.toolhead.axis_maximum.y - bound %}
	
	
	
	{% set x_center = (printer.toolhead.axis_minimum.x|float + printer.toolhead.axis_maximum.x|float ) / 2 %}
	{% set y_center = (printer.toolhead.axis_minimum.y|float + printer.toolhead.axis_maximum.y|float ) / 2 %}
	
	
	{% set x_center_min = x_center - (smallpatternsize/2) %}
	{% set x_center_max = x_center + (smallpatternsize/2) %}
	{% set y_center_min = y_center - (smallpatternsize/2) %}
	{% set y_center_max = y_center + (smallpatternsize/2) %}
	
	
	SAVE_GCODE_STATE NAME=TEST_SPEED
	
	
	{ action_respond_info("TEST_SPEED: starting %d iterations at speed %d, accel %d" % (iterations, speed, accel)) }
	
	
	G28
	M400
	
	{% if printer.configfile.settings.quad_gantry_level %}
	{% if printer.quad_gantry_level.applied == False %}
	QUAD_GANTRY_LEVEL
	G28 Z
	{% endif %}
	{% endif %}
	
	G90
	G1 X{printer.toolhead.axis_maximum.x-50} Y{printer.toolhead.axis_maximum.y-50} F{30*60}
	M400
	G28 X Y
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	G0 X{x_min} Y{y_min} Z{bound + 10} F{speed*60}
	
	
	SET_VELOCITY_LIMIT VELOCITY={speed} ACCEL={accel} ACCEL_TO_DECEL={accel / 2}
	
	{% for i in range(iterations) %}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	{% endfor %}
	
	
	SET_VELOCITY_LIMIT VELOCITY={printer.configfile.settings.printer.max_velocity} ACCEL={printer.configfile.settings.printer.max_accel} ACCEL_TO_DECEL={printer.configfile.settings.printer.max_accel_to_decel}
	
	
	M400
	G28
	
	G90
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	RESTORE_GCODE_STATE NAME=TEST_SPEED

[gcode_macro _USE_INFILL_SQV]
gcode = 
	{% set svv = printer.save_variables.variables %}
	{% set sqv = svv.infill_sqv | default(printer.configfile.settings.printer.square_corner_velocity, true) %}
	SET_VELOCITY_LIMIT SQUARE_CORNER_VELOCITY={ sqv }

[gcode_macro _USE_NORMAL_SQV]
gcode = 
	{% set sqv = printer.configfile.settings.printer.square_corner_velocity %}
	SET_VELOCITY_LIMIT SQUARE_CORNER_VELOCITY={ sqv }

[gcode_macro SET_INFILL_SQV]
gcode = 
	{% set svv = printer.save_variables.variables %}
	{% set val = params.SQV|default(svv.infill_sqv|default(printer.configfile.settings.printer.square_corner_velocity, true), true) | int %}
	SAVE_VARIABLE VARIABLE=infill_sqv VALUE={val}

[gcode_macro M204]
rename_existing = M204.1
gcode = 
	{% set f = params.F|default(0.5)|float %}
	
	{% if 'S' in params %}
	{% set s = params.S|float %}
	SET_VELOCITY_LIMIT ACCEL={s} ACCEL_TO_DECEL={ s * f }
	{% else %}
	{% if 'P' in params %}
	{% set p = params.P|float %}
	{% if 'T' in params %}
	{% set t = params.T|float %}
	{% if p < t %}
	SET_VELOCITY_LIMIT ACCEL={p} ACCEL_TO_DECEL={ p * f }
	{% else %}
	SET_VELOCITY_LIMIT ACCEL={t} ACCEL_TO_DECEL={ t * f }
	{% endif %}
	{% else %}
	SET_VELOCITY_LIMIT ACCEL={p} ACCEL_TO_DECEL={ p * f }
	{% endif %}
	{% elif 'T' in params %}
	{% set t = params.T|float %}
	SET_VELOCITY_LIMIT ACCEL={t} ACCEL_TO_DECEL={ t * f }
	{% endif %}
	{% endif %}

[gcode_macro _START_DRYER]
gcode = 
	{% set t = params.T|default(60)|int %}
	{% set c = params.C|default(25)|int %}
	{% set h = params.H|default(14400)|int %}
	M140 S{t}
	
	SET_GCODE_VARIABLE MACRO=_DRYER_STATUS VARIABLE=time_remaining VALUE={h}
	SET_GCODE_VARIABLE MACRO=_DRYER_STATUS VARIABLE=bed_temperature VALUE={t}
	
	UPDATE_DELAYED_GCODE ID=_DRYER_TIMER DURATION=1
	SET_IDLE_TIMEOUT

[gcode_macro STOP_DRYER]
gcode = 
	M140 S0
	
	SET_GCODE_VARIABLE MACRO=_DRYER_STATUS VARIABLE=time_remaining VALUE=0
	UPDATE_DELAYED_GCODE ID=_DRYER_TIMER DURATION=0
	M117 Drying Stopped

[gcode_macro _DRYER_STATUS]
variable_time_remaining = 0
variable_bed_temperature = 0
variable_chamber_temperature = 0
gcode = _
	{% if time_remaining > 0 %}
	M140 S{bed_temperature}
	
	SET_GCODE_VARIABLE MACRO=_DRYER_STATUS VARIABLE=time_remaining VALUE={time_remaining - 1}
	M117 Drying {time_remaining}
	M118 Drying Time Remaining: {time_remaining}
	{% else %}
	STOP_DRYER
	{% endif %}

[delayed_gcode _DRYER_TIMER]
gcode = 
	UPDATE_DELAYED_GCODE ID=_DRYER_TIMER DURATION=1
	_DRYER_STATUS

[gcode_macro DRY_PLA]
gcode = 
	_START_DRYER t=50 c=25 h=14400

[gcode_macro DRY_PETG]
gcode = 
	_START_DRYER t=55 c=30 h=18000

[gcode_macro DRY_ABS]
gcode = 
	_START_DRYER t=65 c=40 h=14400

[printer]
kinematics = corexy
max_velocity = 800
max_accel = 5000
max_z_velocity = 15
max_z_accel = 50

[output_pin _BEEPER_pin]
pin = PE9
pwm = True
value = 0
shutdown_value = 0
cycle_time = 0.001
scale = 1

[idle_timeout]
timeout = 172800

[thermistor Trianglelab-NTC100K-B3950]
temperature1 = 25
resistance1 = 103180
temperature2 = 150
resistance2 = 1366.2
temperature3 = 250
resistance3 = 168.6

[temperature_sensor Bed_Top]
sensor_type = ATC Semitec 104NT-4-R025H42G
sensor_pin = PC1
min_temp = -50
max_temp = 300

[heater_fan hotend_fan]
pin = EBBCan:PA0
max_power = 1.0
kick_start_time = 0.5
heater = extruder
heater_temp = 50.0

[fan]
pin = EBBCan:PA1
max_power = 1.0
kick_start_time = 0.5
off_below = 0.10

[controller_fan _MOSFET]
pin = PA0
max_power = 0.8
kick_start_time = 0.5
idle_speed = 0.0
fan_speed = 1.0
idle_timeout = 30
off_below = 0.10
heater = heater_bed

[controller_fan _Monster8]
pin = PA1
max_power = 0.8
kick_start_time = 0.5
idle_speed = 0.0
fan_speed = 1.0
idle_timeout = 600
off_below = 0.10
stepper = stepper_x,stepper_y,stepper_z,stepper_z1,stepper_z2

[temperature_sensor Raspberry_Pi]
sensor_type = temperature_host
max_temp = 75
min_temp = 20

[temperature_sensor mcu_Monster]
sensor_type = temperature_mcu
min_temp = 0
max_temp = 100

[temperature_sensor mcu_ebb36]
sensor_type = temperature_mcu
sensor_mcu = EBBCan
min_temp = 0
max_temp = 100

[stepper_x]
step_pin = PITB:gpio6
dir_pin = PITB:gpio5
enable_pin = !PITB:gpio20
microsteps = 16
full_steps_per_rotation = 400
rotation_distance = 40
endstop_pin = tmc5160_stepper_x:virtual_endstop
position_endstop = -9
position_min = -9
position_max = 409
homing_speed = 40
homing_retract_dist = 20
second_homing_speed = 10.0

[tmc5160 stepper_x]
cs_pin = PITB:gpio1
spi_software_sclk_pin = PITB:gpio2
spi_software_mosi_pin = PITB:gpio3
spi_software_miso_pin = PITB:gpio4
diag1_pin = PITB:gpio7
driver_sgt = -64
interpolate = True
run_current = 1.1

[stepper_y]
step_pin = PITB:gpio13
dir_pin = PITB:gpio23
enable_pin = !PITB:gpio22
microsteps = 16
full_steps_per_rotation = 400
rotation_distance = 40
endstop_pin = tmc5160_stepper_y:virtual_endstop
position_endstop = 410
position_min = -15
position_max = 410
homing_speed = 40
homing_retract_dist = 20
second_homing_speed = 10.0

[tmc5160 stepper_y]
cs_pin = PITB:gpio21
spi_software_sclk_pin = PITB:gpio2
spi_software_mosi_pin = PITB:gpio3
spi_software_miso_pin = PITB:gpio4
diag1_pin = PITB:gpio14
driver_sgt = -64
interpolate = True
run_current = 1.1

[stepper_z]
step_pin = PB5
dir_pin = PB4
enable_pin = !PB6
position_max = 400
position_min = -2
homing_speed = 5
second_homing_speed = 3
homing_retract_dist = 5
homing_retract_speed = 2
endstop_pin = probe:z_virtual_endstop
microsteps = 128
rotation_distance = 4

[tmc2209 stepper_z]
uart_pin = PB3
run_current = 0.800
hold_current = 0.500
interpolate = false

[stepper_z1]
step_pin = PD6
dir_pin = PD5
enable_pin = !PD7
microsteps = 128
rotation_distance = 4

[tmc2209 stepper_z1]
uart_pin = PD4
run_current = 0.800
hold_current = 0.500
interpolate = false

[stepper_z2]
step_pin = PD2
dir_pin = PD1
enable_pin = !PD3
microsteps = 128
rotation_distance = 4

[tmc2209 stepper_z2]
uart_pin = PD0
run_current = 0.800
hold_current = 0.500
interpolate = false

[z_tilt]
horizontal_move_z = 30
speed = 120
z_positions = -51,0
	136,440
	434,0
points = 40,20
	171,390
	409,20
retry_tolerance = 0.05
retries = 20

[screws_tilt_adjust]
screw1 = 30,30
screw1_name = Front Left
screw2 = 30,200
screw2_name = Mid Left
screw3 = 30,370
screw3_name = Back Left
screw4 = 370,30
screw4_name = Front Right
screw5 = 370,200
screw5_name = Mid Right
screw6 = 370,370
screw6_name = Back Right

[bed_screws]
screw1 = 30,30
screw2 = 30,200
screw3 = 30,370
screw4 = 370,30
screw5 = 370,200
screw6 = 370,370

[heater_bed]
heater_pin = PB10
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PC0
max_power = 1.0
min_temp = 0
max_temp = 130
control = pid
pid_kp = 73.560
pid_ki = 0.863
pid_kd = 1566.832

[neopixel Main_LED]
pin = PC5
chain_count = 24
color_order = GRB
initial_red = 0.0
initial_green = 0.0
initial_blue = 0.0

[BDsensor]
scl_pin = EBBCan:PB9
sda_pin = EBBCan:PB8
delay = 20
z_offset = 0
x_offset = -34
y_offset = 0
position_endstop = 0.8
collision_homing = 0
collision_calibrate = 0
z_adjust = 0.0

[bed_mesh]
speed = 500
mesh_min = 50,50
mesh_max = 350,350
probe_count = 20, 20
mesh_pps = 2, 2
algorithm = bicubic
horizontal_move_z = 1
zero_reference_position = 200, 200

[adxl345]
cs_pin = EBBCan:PB12
spi_software_sclk_pin = EBBCan:PB10
spi_software_mosi_pin = EBBCan:PB11
spi_software_miso_pin = EBBCan:PB2
axes_map = x,y,z

[resonance_tester]
accel_chip = adxl345
probe_points = 
	200, 200, 20

[extruder]
step_pin = EBBCan:PD0
dir_pin = !EBBCan:PD1
enable_pin = !EBBCan:PD2
microsteps = 64
rotation_distance = 5.693950178
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = EBBCan: PB13
sensor_pin = EBBCan: PA3
sensor_type = ATC Semitec 104NT-4-R025H42G
min_temp = 0
max_temp = 300
control = pid
pid_kp = 44.021
pid_ki = 8.152
pid_kd = 59.428

[tmc2209 extruder]
uart_pin = EBBCan:PA15
interpolate = False
run_current = 0.800
stealthchop_threshold = 0

[filament_motion_sensor filament_sensor]
detection_length = 10.0
extruder = extruder
switch_pin = ^PA13
pause_on_runout = True
event_delay = 3.0
pause_delay = 0.5
runout_gcode = 
	M117 Runout Detected!

[gcode_macro M900]
gcode = 
	{% if 'K' in params %}
	{% if 'E' in params %}
	SET_PRESSURE_ADVANCE EXTRUDER={params.E} ADVANCE={params.K}
	{% else %}
	SET_PRESSURE_ADVANCE ADVANCE={params.K}
	{% endif %}
	{% endif %}

[gcode_macro Level_Bed]
gcode = 
	Z_TILT_ADJUST
	BED_MESH_CALIBRATE

[gcode_macro PARK]
gcode = 
	{% set th = printer.toolhead %}
	G0 Z40 F20000
	G0 X{th.axis_maximum.x//2} Y{th.axis_maximum.y//2} Z40 F30000

[gcode_macro G32]
gcode = 
	SAVE_GCODE_STATE NAME=STATE_G32
	G90
	G28
	Z_TILT_ADJUST
	G28
	PARK
	RESTORE_GCODE_STATE NAME=STATE_G32

[gcode_macro M0]
gcode = 
	PAUSE

[gcode_macro G29]
gcode = 
	{% if printer.idle_timeout.state == "Printing" %}
	{action_respond_info("This command cannot be used while printing")}
	{% elif printer.toolhead.homed_axes != "xyz" %}
	{action_respond_info("Please home XYZ first")}
	{% else %}
	SAVE_GCODE_STATE NAME=STATE_G29
	G90
	G28
	Z_TILT_ADJUST
	G28
	PARK
	BED_MESH_CALIBRATE
	BED_MESH_PROFILE SAVE=p1
	BED_MESH_PROFILE LOAD="p1"
	RESTORE_GCODE_STATE NAME=STATE_G29
	{% endif %}

[force_move]
enable_force_move = True

[firmware_retraction]
retract_length = 0.5
retract_speed = 40
unretract_extra_length = 0.1
unretract_speed = 30

[verify_heater heater_bed]
max_error = 120
hysteresis = 5
heating_gain = 2

[verify_heater extruder]
max_error = 120
check_gain_time = 90
hysteresis = 5
heating_gain = 2

[gcode_macro M486]
gcode = 
	
	
	
	
	
	
	
	
	
	
	
	{% if 'exclude_object' not in printer %}
	{action_raise_error("[exclude_object] is not enabled")}
	{% endif %}
	
	{% if 'T' in params %}
	EXCLUDE_OBJECT RESET=1
	
	{% for i in range(params.T | int) %}
	EXCLUDE_OBJECT_DEFINE NAME={i}
	{% endfor %}
	{% endif %}
	
	{% if 'C' in params %}
	EXCLUDE_OBJECT CURRENT=1
	{% endif %}
	
	{% if 'P' in params %}
	EXCLUDE_OBJECT NAME={params.P}
	{% endif %}
	
	{% if 'S' in params %}
	{% if params.S == '-1' %}
	{% if printer.exclude_object.current_object %}
	EXCLUDE_OBJECT_END NAME={printer.exclude_object.current_object}
	{% endif %}
	{% else %}
	EXCLUDE_OBJECT_START NAME={params.S}
	{% endif %}
	{% endif %}
	
	{% if 'U' in params %}
	EXCLUDE_OBJECT RESET=1 NAME={params.U}
	{% endif %}

[gcode_arcs]
resolution = 1.0

[gcode_macro G12]
gcode = 
	{% set CLEANTYPE = params.P|default(2) %}
	{% set RADI = params.R|default(2) %}
	{% set repetitions = params.S|default(2) %}
	{% set triangles = params.T|default(2) %}
	{% set th = printer.toolhead %}
	
	{% if printer.idle_timeout.state == "Printing" %}
	{action_respond_info("This command cannot be used while printing")}
	{% elif printer.toolhead.homed_axes != "xyz" %}
	{action_respond_info("Please home XYZ first")}
	{% else %}
	{action_respond_info("Cleaning Printhead")}
	SAVE_GCODE_STATE NAME=STATE_G12
	G90
	{% if params.P == '0' %}
	{action_respond_info("Cleaning Printhead back and forward")}
	G0 X405 Y400 Z1 F3600
	{% if repetitions == '1' %}
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	{% elif repetitions == '2' %}
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	{% elif repetitions == '3' %}
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	{% elif repetitions == '4' %}
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	{% elif repetitions == '5' %}
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	G0 X405 Y380 Z1
	G0 X405 Y400 Z1
	{% endif %}
	{% elif CLEANTYPE == '1' %}
	G0 X405 Y400 Z1 F3600
	
	
	{% elif CLEANTYPE == '2' %}
	G0 X405 Y400 Z1 F3600
	G3 X405 Y390 R{RADI} P{repetitions}
	G2 X405 Y390 R{RADI} P{repetitions}
	{% endif %}
	G0 X{th.axis_maximum.x//2} Y{th.axis_maximum.y//2} Z30 F3600
	RESTORE_GCODE_STATE NAME=STATE_G12
	{action_respond_info("Cleaning Done")}
	{% endif %}

[exclude_object]

[input_shaper]

[bed_mesh default]
version = 1
points = 
	1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 0.990000, 0.985000, 0.985000, 0.990000, 0.995000, 0.990000, 0.975000, 0.970000, 0.985000, 0.985000, 0.975000, 0.970000
	1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 0.995000, 0.980000, 0.970000, 0.965000, 0.960000, 0.960000, 0.935000, 0.905000, 0.910000, 0.920000, 0.920000, 0.915000, 0.920000, 0.920000, 0.905000
	1.000000, 1.000000, 1.000000, 1.000000, 0.990000, 0.970000, 0.960000, 0.950000, 0.940000, 0.930000, 0.895000, 0.860000, 0.860000, 0.840000, 0.825000, 0.805000, 0.800000, 0.800000, 0.800000, 0.800000
	1.000000, 1.000000, 1.000000, 1.000000, 0.985000, 0.960000, 0.945000, 0.910000, 0.890000, 0.870000, 0.865000, 0.745000, 0.695000, 0.680000, 0.685000, 0.640000, 0.635000, 0.625000, 0.625000, 0.625000
	1.000000, 1.000000, 1.000000, 0.995000, 0.925000, 0.900000, 0.865000, 0.830000, 0.740000, 0.690000, 0.675000, 0.645000, 0.640000, 0.525000, 0.515000, 0.480000, 0.480000, 0.475000, 0.465000, 0.465000
	1.000000, 1.000000, 1.000000, 0.920000, 0.860000, 0.830000, 0.800000, 0.755000, 0.635000, 0.560000, 0.505000, 0.450000, 0.425000, 0.395000, 0.365000, 0.340000, 0.315000, 0.315000, 0.315000, 0.305000
	1.000000, 1.000000, 0.975000, 0.885000, 0.810000, 0.760000, 0.725000, 0.620000, 0.510000, 0.435000, 0.375000, 0.305000, 0.280000, 0.250000, 0.215000, 0.180000, 0.175000, 0.170000, 0.160000, 0.165000
	0.985000, 0.970000, 0.840000, 0.825000, 0.750000, 0.670000, 0.550000, 0.440000, 0.355000, 0.280000, 0.215000, 0.180000, 0.125000, 0.100000, 0.080000, 0.040000, 0.015000, 0.015000, 0.005000, 0.010000
	0.880000, 0.845000, 0.780000, 0.690000, 0.625000, 0.580000, 0.475000, 0.355000, 0.250000, 0.160000, 0.095000, 0.030000, -0.000000, -0.040000, -0.060000, -0.090000, -0.110000, -0.110000, -0.110000, -0.115000
	0.760000, 0.725000, 0.670000, 0.585000, 0.525000, 0.460000, 0.360000, 0.240000, 0.125000, 0.040000, -0.050000, -0.100000, -0.140000, -0.155000, -0.190000, -0.220000, -0.230000, -0.235000, -0.220000, -0.225000
	0.635000, 0.600000, 0.525000, 0.460000, 0.380000, 0.320000, 0.235000, 0.205000, 0.155000, -0.080000, -0.150000, -0.220000, -0.275000, -0.280000, -0.325000, -0.335000, -0.360000, -0.350000, -0.365000, -0.350000
	0.505000, 0.465000, 0.410000, 0.330000, 0.260000, 0.180000, 0.090000, -0.040000, -0.145000, -0.215000, -0.300000, -0.350000, -0.395000, -0.435000, -0.440000, -0.475000, -0.490000, -0.485000, -0.490000, -0.485000
	0.385000, 0.350000, 0.270000, 0.195000, 0.125000, 0.080000, -0.020000, -0.150000, -0.265000, -0.345000, -0.400000, -0.480000, -0.520000, -0.535000, -0.565000, -0.590000, -0.600000, -0.600000, -0.590000, -0.600000
	0.265000, 0.225000, 0.170000, 0.080000, 0.025000, -0.020000, -0.130000, -0.240000, -0.350000, -0.460000, -0.525000, -0.580000, -0.615000, -0.645000, -0.685000, -0.695000, -0.710000, -0.710000, -0.715000, -0.710000
	0.170000, 0.120000, 0.045000, -0.020000, -0.075000, -0.135000, -0.225000, -0.350000, -0.475000, -0.550000, -0.605000, -0.665000, -0.715000, -0.715000, -0.765000, -0.790000, -0.800000, -0.795000, -0.785000, -0.800000
	0.070000, 0.045000, -0.020000, -0.105000, -0.175000, -0.250000, -0.370000, -0.480000, -0.580000, -0.655000, -0.730000, -0.785000, -0.825000, -0.845000, -0.875000, -0.895000, -0.900000, -0.885000, -0.890000, -0.880000
	0.000000, -0.045000, -0.110000, -0.210000, -0.270000, -0.320000, -0.410000, -0.565000, -0.670000, -0.755000, -0.825000, -0.880000, -0.910000, -0.910000, -0.960000, -0.995000, -0.995000, -0.990000, -0.990000, -0.985000
	-0.020000, -0.080000, -0.155000, -0.250000, -0.310000, -0.365000, -0.465000, -0.630000, -0.750000, -0.840000, -0.895000, -0.950000, -0.990000, -1.010000, -1.030000, -1.040000, -1.055000, -1.060000, -1.035000, -1.050000
	-0.040000, -0.075000, -0.210000, -0.310000, -0.365000, -0.420000, -0.550000, -0.705000, -0.825000, -0.925000, -1.005000, -1.055000, -1.075000, -1.100000, -1.115000, -1.155000, -1.155000, -1.130000, -1.145000, -1.140000
	-0.005000, -0.050000, -0.150000, -0.255000, -0.350000, -0.415000, -0.545000, -0.710000, -0.855000, -0.950000, -1.065000, -1.100000, -1.145000, -1.165000, -1.185000, -1.205000, -1.210000, -1.205000, -1.195000, -1.185000
x_count = 20
y_count = 20
mesh_x_pps = 2
mesh_y_pps = 2
algo = bicubic
tension = 0.2
min_x = 50.0
max_x = 349.82
min_y = 50.0
max_y = 349.82
=======================
BMxx80: Oversampling: Temp 2x Humid 2x Pressure 2x
BMxx80: IIR: 1x
Extruder max_extrude_ratio=0.266081
mcu 'mcu': Starting CAN connect
Created a socket
webhooks client 548336030608: New connection
webhooks client 548336030608: Client info {'program': 'Moonraker', 'version': 'v0.8.0-387-gb8ba6c0'}
Loaded MCU 'mcu' 127 commands (v0.12.0-267-g12cd1d9e / gcc: (15:12.2.rel1-1) 12.2.1 20221205 binutils: (2.40-2+18+b1) 2.40)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c1=PB6,PB7 BUS_PINS_i2c1a=PB8,PB9 BUS_PINS_i2c2=PB10,PB11 BUS_PINS_i2c2a=PH4,PH5 BUS_PINS_i2c3=PA8,PC9 BUS_PINS_i2c3a=PH7,PH8 BUS_PINS_sdio=PC12,PD2,PC8,PC9,PC10,PC11 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2a=PC2,PC3,PB10 BUS_PINS_spi2b=PI2,PI3,PI1 BUS_PINS_spi3=PB4,PB5,PB3 BUS_PINS_spi3a=PC11,PC12,PC10 CANBUS_BRIDGE=1 CLOCK_FREQ=168000000 MCU=stm32f407xx PWM_MAX=255 RECEIVE_WINDOW=192 RESERVE_PINS_CAN=PB8,PB9 RESERVE_PINS_USB=PA11,PA12 RESERVE_PINS_crystal=PH0,PH1 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu 'EBBCan': Starting CAN connect
Created a socket
Loaded MCU 'EBBCan' 119 commands (v0.12.0-267-g12cd1d9e-dirty-20240725_173632-Core400 / gcc: (15:12.2.rel1-1) 12.2.1 20221205 binutils: (2.40-2+18+b1) 2.40)
MCU 'EBBCan' config: ADC_MAX=4095 BUS_PINS_i2c1_PA9_PA10=PA9,PA10 BUS_PINS_i2c1_PB6_PB7=PB6,PB7 BUS_PINS_i2c1_PB8_PB9=PB8,PB9 BUS_PINS_i2c2_PB10_PB11=PB10,PB11 BUS_PINS_i2c2_PB13_PB14=PB13,PB14 BUS_PINS_i2c3_PB3_PB4=PB3,PB4 BUS_PINS_i2c3_PC0_PC1=PC0,PC1 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2_PB2_PB11_PB10=PB2,PB11,PB10 BUS_PINS_spi2a=PC2,PC3,PB10 BUS_PINS_spi3=PB4,PB5,PB3 CANBUS_FREQUENCY=1000000 CLOCK_FREQ=64000000 MCU=stm32g0b1xx PWM_MAX=255 RECEIVE_WINDOW=192 RESERVE_PINS_CAN=PB0,PB1 RESERVE_PINS_crystal=PF0,PF1 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu 'PITB': Starting CAN connect
Created a socket
mcu 'PITB': got {'count': 826, 'sum': 180076, 'sumsq': 579594, '#name': 'stats', '#sent_time': 21.541353561, '#receive_time': 21.547914893999998}
Loaded MCU 'PITB' 115 commands (v0.12.0-267-g12cd1d9e / gcc: (15:12.2.rel1-1) 12.2.1 20221205 binutils: (2.40-2+18+b1) 2.40)
MCU 'PITB' config: ADC_MAX=4095 BUS_PINS_i2c0a=gpio0,gpio1 BUS_PINS_i2c0b=gpio4,gpio5 BUS_PINS_i2c0c=gpio8,gpio9 BUS_PINS_i2c0d=gpio12,gpio13 BUS_PINS_i2c0e=gpio16,gpio17 BUS_PINS_i2c0f=gpio20,gpio21 BUS_PINS_i2c0g=gpio24,gpio25 BUS_PINS_i2c0h=gpio28,gpio29 BUS_PINS_i2c1a=gpio2,gpio3 BUS_PINS_i2c1b=gpio6,gpio7 BUS_PINS_i2c1c=gpio10,gpio11 BUS_PINS_i2c1d=gpio14,gpio15 BUS_PINS_i2c1e=gpio18,gpio19 BUS_PINS_i2c1f=gpio22,gpio23 BUS_PINS_i2c1g=gpio26,gpio27 BUS_PINS_spi0a=gpio0,gpio3,gpio2 BUS_PINS_spi0b=gpio4,gpio7,gpio6 BUS_PINS_spi0c=gpio16,gpio19,gpio18 BUS_PINS_spi0d=gpio20,gpio23,gpio22 BUS_PINS_spi1a=gpio8,gpio11,gpio10 BUS_PINS_spi1b=gpio12,gpio15,gpio14 BUS_PINS_spi1c=gpio24,gpio27,gpio26 CANBUS_FREQUENCY=1000000 CLOCK_FREQ=12000000 MCU=rp2040 PWM_MAX=255 RECEIVE_WINDOW=192 RESERVE_PINS_CAN=gpio9,gpio8 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu_temperature 'PITB' nominal base=437.226612 slope=-1917.489831
mcu_temperature 'mcu' nominal base=-279.593496 slope=1331.707317
mcu_temperature 'EBBCan' nominal base=-269.710145 slope=1305.652174
Sending MCU 'mcu' printer configuration...
Configured MCU 'mcu' (1024 moves)
Sending MCU 'EBBCan' printer configuration...
Configured MCU 'EBBCan' (1024 moves)
Sending MCU 'PITB' printer configuration...
Configured MCU 'PITB' (1024 moves)
bme280: Found Chip BMP280 at 0x76
TMC stepper_x failed to init: Unable to write tmc spi 'stepper_x' register GLOBALSCALER
TMC stepper_y failed to init: Unable to write tmc spi 'stepper_y' register GLOBALSCALER
Starting heater checks for heater_bed
bed_mesh: generated points
Index |  Tool Adjusted  |   Probe
  0   | (84.0, 50.0)    | (50.0, 50.0)
  1   | (99.8, 50.0)    | (65.8, 50.0)
  2   | (115.6, 50.0)   | (81.6, 50.0)
  3   | (131.3, 50.0)   | (97.3, 50.0)
  4   | (147.1, 50.0)   | (113.1, 50.0)
  5   | (162.9, 50.0)   | (128.9, 50.0)
  6   | (178.7, 50.0)   | (144.7, 50.0)
  7   | (194.5, 50.0)   | (160.5, 50.0)
  8   | (210.2, 50.0)   | (176.2, 50.0)
  9   | (226.0, 50.0)   | (192.0, 50.0)
  10  | (241.8, 50.0)   | (207.8, 50.0)
  11  | (257.6, 50.0)   | (223.6, 50.0)
  12  | (273.4, 50.0)   | (239.4, 50.0)
  13  | (289.1, 50.0)   | (255.1, 50.0)
  14  | (304.9, 50.0)   | (270.9, 50.0)
  15  | (320.7, 50.0)   | (286.7, 50.0)
  16  | (336.5, 50.0)   | (302.5, 50.0)
  17  | (352.3, 50.0)   | (318.3, 50.0)
  18  | (368.0, 50.0)   | (334.0, 50.0)
  19  | (383.8, 50.0)   | (349.8, 50.0)
  20  | (383.8, 65.8)   | (349.8, 65.8)
  21  | (368.0, 65.8)   | (334.0, 65.8)
  22  | (352.3, 65.8)   | (318.3, 65.8)
  23  | (336.5, 65.8)   | (302.5, 65.8)
  24  | (320.7, 65.8)   | (286.7, 65.8)
  25  | (304.9, 65.8)   | (270.9, 65.8)
  26  | (289.1, 65.8)   | (255.1, 65.8)
  27  | (273.4, 65.8)   | (239.4, 65.8)
  28  | (257.6, 65.8)   | (223.6, 65.8)
  29  | (241.8, 65.8)   | (207.8, 65.8)
  30  | (226.0, 65.8)   | (192.0, 65.8)
  31  | (210.2, 65.8)   | (176.2, 65.8)
  32  | (194.5, 65.8)   | (160.5, 65.8)
  33  | (178.7, 65.8)   | (144.7, 65.8)
  34  | (162.9, 65.8)   | (128.9, 65.8)
  35  | (147.1, 65.8)   | (113.1, 65.8)
  36  | (131.3, 65.8)   | (97.3, 65.8)
  37  | (115.6, 65.8)   | (81.6, 65.8)
  38  | (99.8, 65.8)    | (65.8, 65.8)
  39  | (84.0, 65.8)    | (50.0, 65.8)
  40  | (84.0, 81.6)    | (50.0, 81.6)
  41  | (99.8, 81.6)    | (65.8, 81.6)
  42  | (115.6, 81.6)   | (81.6, 81.6)
  43  | (131.3, 81.6)   | (97.3, 81.6)
  44  | (147.1, 81.6)   | (113.1, 81.6)
  45  | (162.9, 81.6)   | (128.9, 81.6)
  46  | (178.7, 81.6)   | (144.7, 81.6)
  47  | (194.5, 81.6)   | (160.5, 81.6)
  48  | (210.2, 81.6)   | (176.2, 81.6)
  49  | (226.0, 81.6)   | (192.0, 81.6)
  50  | (241.8, 81.6)   | (207.8, 81.6)
  51  | (257.6, 81.6)   | (223.6, 81.6)
  52  | (273.4, 81.6)   | (239.4, 81.6)
  53  | (289.1, 81.6)   | (255.1, 81.6)
  54  | (304.9, 81.6)   | (270.9, 81.6)
  55  | (320.7, 81.6)   | (286.7, 81.6)
  56  | (336.5, 81.6)   | (302.5, 81.6)
  57  | (352.3, 81.6)   | (318.3, 81.6)
  58  | (368.0, 81.6)   | (334.0, 81.6)
  59  | (383.8, 81.6)   | (349.8, 81.6)
  60  | (383.8, 97.3)   | (349.8, 97.3)
  61  | (368.0, 97.3)   | (334.0, 97.3)
  62  | (352.3, 97.3)   | (318.3, 97.3)
  63  | (336.5, 97.3)   | (302.5, 97.3)
  64  | (320.7, 97.3)   | (286.7, 97.3)
  65  | (304.9, 97.3)   | (270.9, 97.3)
  66  | (289.1, 97.3)   | (255.1, 97.3)
  67  | (273.4, 97.3)   | (239.4, 97.3)
  68  | (257.6, 97.3)   | (223.6, 97.3)
  69  | (241.8, 97.3)   | (207.8, 97.3)
  70  | (226.0, 97.3)   | (192.0, 97.3)
  71  | (210.2, 97.3)   | (176.2, 97.3)
  72  | (194.5, 97.3)   | (160.5, 97.3)
  73  | (178.7, 97.3)   | (144.7, 97.3)
  74  | (162.9, 97.3)   | (128.9, 97.3)
  75  | (147.1, 97.3)   | (113.1, 97.3)
  76  | (131.3, 97.3)   | (97.3, 97.3)
  77  | (115.6, 97.3)   | (81.6, 97.3)
  78  | (99.8, 97.3)    | (65.8, 97.3)
  79  | (84.0, 97.3)    | (50.0, 97.3)
  80  | (84.0, 113.1)   | (50.0, 113.1)
  81  | (99.8, 113.1)   | (65.8, 113.1)
  82  | (115.6, 113.1)  | (81.6, 113.1)
  83  | (131.3, 113.1)  | (97.3, 113.1)
  84  | (147.1, 113.1)  | (113.1, 113.1)
  85  | (162.9, 113.1)  | (128.9, 113.1)
  86  | (178.7, 113.1)  | (144.7, 113.1)
  87  | (194.5, 113.1)  | (160.5, 113.1)
  88  | (210.2, 113.1)  | (176.2, 113.1)
  89  | (226.0, 113.1)  | (192.0, 113.1)
  90  | (241.8, 113.1)  | (207.8, 113.1)
  91  | (257.6, 113.1)  | (223.6, 113.1)
  92  | (273.4, 113.1)  | (239.4, 113.1)
  93  | (289.1, 113.1)  | (255.1, 113.1)
  94  | (304.9, 113.1)  | (270.9, 113.1)
  95  | (320.7, 113.1)  | (286.7, 113.1)
  96  | (336.5, 113.1)  | (302.5, 113.1)
  97  | (352.3, 113.1)  | (318.3, 113.1)
  98  | (368.0, 113.1)  | (334.0, 113.1)
  99  | (383.8, 113.1)  | (349.8, 113.1)
  100 | (383.8, 128.9)  | (349.8, 128.9)
  101 | (368.0, 128.9)  | (334.0, 128.9)
  102 | (352.3, 128.9)  | (318.3, 128.9)
  103 | (336.5, 128.9)  | (302.5, 128.9)
  104 | (320.7, 128.9)  | (286.7, 128.9)
  105 | (304.9, 128.9)  | (270.9, 128.9)
  106 | (289.1, 128.9)  | (255.1, 128.9)
  107 | (273.4, 128.9)  | (239.4, 128.9)
  108 | (257.6, 128.9)  | (223.6, 128.9)
  109 | (241.8, 128.9)  | (207.8, 128.9)
  110 | (226.0, 128.9)  | (192.0, 128.9)
  111 | (210.2, 128.9)  | (176.2, 128.9)
  112 | (194.5, 128.9)  | (160.5, 128.9)
  113 | (178.7, 128.9)  | (144.7, 128.9)
  114 | (162.9, 128.9)  | (128.9, 128.9)
  115 | (147.1, 128.9)  | (113.1, 128.9)
  116 | (131.3, 128.9)  | (97.3, 128.9)
  117 | (115.6, 128.9)  | (81.6, 128.9)
  118 | (99.8, 128.9)   | (65.8, 128.9)
  119 | (84.0, 128.9)   | (50.0, 128.9)
  120 | (84.0, 144.7)   | (50.0, 144.7)
  121 | (99.8, 144.7)   | (65.8, 144.7)
  122 | (115.6, 144.7)  | (81.6, 144.7)
  123 | (131.3, 144.7)  | (97.3, 144.7)
  124 | (147.1, 144.7)  | (113.1, 144.7)
  125 | (162.9, 144.7)  | (128.9, 144.7)
  126 | (178.7, 144.7)  | (144.7, 144.7)
  127 | (194.5, 144.7)  | (160.5, 144.7)
  128 | (210.2, 144.7)  | (176.2, 144.7)
  129 | (226.0, 144.7)  | (192.0, 144.7)
  130 | (241.8, 144.7)  | (207.8, 144.7)
  131 | (257.6, 144.7)  | (223.6, 144.7)
  132 | (273.4, 144.7)  | (239.4, 144.7)
  133 | (289.1, 144.7)  | (255.1, 144.7)
  134 | (304.9, 144.7)  | (270.9, 144.7)
  135 | (320.7, 144.7)  | (286.7, 144.7)
  136 | (336.5, 144.7)  | (302.5, 144.7)
  137 | (352.3, 144.7)  | (318.3, 144.7)
  138 | (368.0, 144.7)  | (334.0, 144.7)
  139 | (383.8, 144.7)  | (349.8, 144.7)
  140 | (383.8, 160.5)  | (349.8, 160.5)
  141 | (368.0, 160.5)  | (334.0, 160.5)
  142 | (352.3, 160.5)  | (318.3, 160.5)
  143 | (336.5, 160.5)  | (302.5, 160.5)
  144 | (320.7, 160.5)  | (286.7, 160.5)
  145 | (304.9, 160.5)  | (270.9, 160.5)
  146 | (289.1, 160.5)  | (255.1, 160.5)
  147 | (273.4, 160.5)  | (239.4, 160.5)
  148 | (257.6, 160.5)  | (223.6, 160.5)
  149 | (241.8, 160.5)  | (207.8, 160.5)
  150 | (226.0, 160.5)  | (192.0, 160.5)
  151 | (210.2, 160.5)  | (176.2, 160.5)
  152 | (194.5, 160.5)  | (160.5, 160.5)
  153 | (178.7, 160.5)  | (144.7, 160.5)
  154 | (162.9, 160.5)  | (128.9, 160.5)
  155 | (147.1, 160.5)  | (113.1, 160.5)
  156 | (131.3, 160.5)  | (97.3, 160.5)
  157 | (115.6, 160.5)  | (81.6, 160.5)
  158 | (99.8, 160.5)   | (65.8, 160.5)
  159 | (84.0, 160.5)   | (50.0, 160.5)
  160 | (84.0, 176.2)   | (50.0, 176.2)
  161 | (99.8, 176.2)   | (65.8, 176.2)
  162 | (115.6, 176.2)  | (81.6, 176.2)
  163 | (131.3, 176.2)  | (97.3, 176.2)
  164 | (147.1, 176.2)  | (113.1, 176.2)
  165 | (162.9, 176.2)  | (128.9, 176.2)
  166 | (178.7, 176.2)  | (144.7, 176.2)
  167 | (194.5, 176.2)  | (160.5, 176.2)
  168 | (210.2, 176.2)  | (176.2, 176.2)
  169 | (226.0, 176.2)  | (192.0, 176.2)
  170 | (241.8, 176.2)  | (207.8, 176.2)
  171 | (257.6, 176.2)  | (223.6, 176.2)
  172 | (273.4, 176.2)  | (239.4, 176.2)
  173 | (289.1, 176.2)  | (255.1, 176.2)
  174 | (304.9, 176.2)  | (270.9, 176.2)
  175 | (320.7, 176.2)  | (286.7, 176.2)
  176 | (336.5, 176.2)  | (302.5, 176.2)
  177 | (352.3, 176.2)  | (318.3, 176.2)
  178 | (368.0, 176.2)  | (334.0, 176.2)
  179 | (383.8, 176.2)  | (349.8, 176.2)
  180 | (383.8, 192.0)  | (349.8, 192.0)
  181 | (368.0, 192.0)  | (334.0, 192.0)
  182 | (352.3, 192.0)  | (318.3, 192.0)
  183 | (336.5, 192.0)  | (302.5, 192.0)
  184 | (320.7, 192.0)  | (286.7, 192.0)
  185 | (304.9, 192.0)  | (270.9, 192.0)
  186 | (289.1, 192.0)  | (255.1, 192.0)
  187 | (273.4, 192.0)  | (239.4, 192.0)
  188 | (257.6, 192.0)  | (223.6, 192.0)
  189 | (241.8, 192.0)  | (207.8, 192.0)
  190 | (226.0, 192.0)  | (192.0, 192.0)
  191 | (210.2, 192.0)  | (176.2, 192.0)
  192 | (194.5, 192.0)  | (160.5, 192.0)
  193 | (178.7, 192.0)  | (144.7, 192.0)
  194 | (162.9, 192.0)  | (128.9, 192.0)
  195 | (147.1, 192.0)  | (113.1, 192.0)
  196 | (131.3, 192.0)  | (97.3, 192.0)
  197 | (115.6, 192.0)  | (81.6, 192.0)
  198 | (99.8, 192.0)   | (65.8, 192.0)
  199 | (84.0, 192.0)   | (50.0, 192.0)
  200 | (84.0, 207.8)   | (50.0, 207.8)
  201 | (99.8, 207.8)   | (65.8, 207.8)
  202 | (115.6, 207.8)  | (81.6, 207.8)
  203 | (131.3, 207.8)  | (97.3, 207.8)
  204 | (147.1, 207.8)  | (113.1, 207.8)
  205 | (162.9, 207.8)  | (128.9, 207.8)
  206 | (178.7, 207.8)  | (144.7, 207.8)
  207 | (194.5, 207.8)  | (160.5, 207.8)
  208 | (210.2, 207.8)  | (176.2, 207.8)
  209 | (226.0, 207.8)  | (192.0, 207.8)
  210 | (241.8, 207.8)  | (207.8, 207.8)
  211 | (257.6, 207.8)  | (223.6, 207.8)
  212 | (273.4, 207.8)  | (239.4, 207.8)
  213 | (289.1, 207.8)  | (255.1, 207.8)
  214 | (304.9, 207.8)  | (270.9, 207.8)
  215 | (320.7, 207.8)  | (286.7, 207.8)
  216 | (336.5, 207.8)  | (302.5, 207.8)
  217 | (352.3, 207.8)  | (318.3, 207.8)
  218 | (368.0, 207.8)  | (334.0, 207.8)
  219 | (383.8, 207.8)  | (349.8, 207.8)
  220 | (383.8, 223.6)  | (349.8, 223.6)
  221 | (368.0, 223.6)  | (334.0, 223.6)
  222 | (352.3, 223.6)  | (318.3, 223.6)
  223 | (336.5, 223.6)  | (302.5, 223.6)
  224 | (320.7, 223.6)  | (286.7, 223.6)
  225 | (304.9, 223.6)  | (270.9, 223.6)
  226 | (289.1, 223.6)  | (255.1, 223.6)
  227 | (273.4, 223.6)  | (239.4, 223.6)
  228 | (257.6, 223.6)  | (223.6, 223.6)
  229 | (241.8, 223.6)  | (207.8, 223.6)
  230 | (226.0, 223.6)  | (192.0, 223.6)
  231 | (210.2, 223.6)  | (176.2, 223.6)
  232 | (194.5, 223.6)  | (160.5, 223.6)
  233 | (178.7, 223.6)  | (144.7, 223.6)
  234 | (162.9, 223.6)  | (128.9, 223.6)
  235 | (147.1, 223.6)  | (113.1, 223.6)
  236 | (131.3, 223.6)  | (97.3, 223.6)
  237 | (115.6, 223.6)  | (81.6, 223.6)
  238 | (99.8, 223.6)   | (65.8, 223.6)
  239 | (84.0, 223.6)   | (50.0, 223.6)
  240 | (84.0, 239.4)   | (50.0, 239.4)
  241 | (99.8, 239.4)   | (65.8, 239.4)
  242 | (115.6, 239.4)  | (81.6, 239.4)
  243 | (131.3, 239.4)  | (97.3, 239.4)
  244 | (147.1, 239.4)  | (113.1, 239.4)
  245 | (162.9, 239.4)  | (128.9, 239.4)
  246 | (178.7, 239.4)  | (144.7, 239.4)
  247 | (194.5, 239.4)  | (160.5, 239.4)
  248 | (210.2, 239.4)  | (176.2, 239.4)
  249 | (226.0, 239.4)  | (192.0, 239.4)
  250 | (241.8, 239.4)  | (207.8, 239.4)
  251 | (257.6, 239.4)  | (223.6, 239.4)
  252 | (273.4, 239.4)  | (239.4, 239.4)
  253 | (289.1, 239.4)  | (255.1, 239.4)
  254 | (304.9, 239.4)  | (270.9, 239.4)
  255 | (320.7, 239.4)  | (286.7, 239.4)
  256 | (336.5, 239.4)  | (302.5, 239.4)
  257 | (352.3, 239.4)  | (318.3, 239.4)
  258 | (368.0, 239.4)  | (334.0, 239.4)
  259 | (383.8, 239.4)  | (349.8, 239.4)
  260 | (383.8, 255.1)  | (349.8, 255.1)
  261 | (368.0, 255.1)  | (334.0, 255.1)
  262 | (352.3, 255.1)  | (318.3, 255.1)
  263 | (336.5, 255.1)  | (302.5, 255.1)
  264 | (320.7, 255.1)  | (286.7, 255.1)
  265 | (304.9, 255.1)  | (270.9, 255.1)
  266 | (289.1, 255.1)  | (255.1, 255.1)
  267 | (273.4, 255.1)  | (239.4, 255.1)
  268 | (257.6, 255.1)  | (223.6, 255.1)
  269 | (241.8, 255.1)  | (207.8, 255.1)
  270 | (226.0, 255.1)  | (192.0, 255.1)
  271 | (210.2, 255.1)  | (176.2, 255.1)
  272 | (194.5, 255.1)  | (160.5, 255.1)
  273 | (178.7, 255.1)  | (144.7, 255.1)
  274 | (162.9, 255.1)  | (128.9, 255.1)
  275 | (147.1, 255.1)  | (113.1, 255.1)
  276 | (131.3, 255.1)  | (97.3, 255.1)
  277 | (115.6, 255.1)  | (81.6, 255.1)
  278 | (99.8, 255.1)   | (65.8, 255.1)
  279 | (84.0, 255.1)   | (50.0, 255.1)
  280 | (84.0, 270.9)   | (50.0, 270.9)
  281 | (99.8, 270.9)   | (65.8, 270.9)
  282 | (115.6, 270.9)  | (81.6, 270.9)
  283 | (131.3, 270.9)  | (97.3, 270.9)
  284 | (147.1, 270.9)  | (113.1, 270.9)
  285 | (162.9, 270.9)  | (128.9, 270.9)
  286 | (178.7, 270.9)  | (144.7, 270.9)
  287 | (194.5, 270.9)  | (160.5, 270.9)
  288 | (210.2, 270.9)  | (176.2, 270.9)
  289 | (226.0, 270.9)  | (192.0, 270.9)
  290 | (241.8, 270.9)  | (207.8, 270.9)
  291 | (257.6, 270.9)  | (223.6, 270.9)
  292 | (273.4, 270.9)  | (239.4, 270.9)
  293 | (289.1, 270.9)  | (255.1, 270.9)
  294 | (304.9, 270.9)  | (270.9, 270.9)
  295 | (320.7, 270.9)  | (286.7, 270.9)
  296 | (336.5, 270.9)  | (302.5, 270.9)
  297 | (352.3, 270.9)  | (318.3, 270.9)
  298 | (368.0, 270.9)  | (334.0, 270.9)
  299 | (383.8, 270.9)  | (349.8, 270.9)
  300 | (383.8, 286.7)  | (349.8, 286.7)
  301 | (368.0, 286.7)  | (334.0, 286.7)
  302 | (352.3, 286.7)  | (318.3, 286.7)
  303 | (336.5, 286.7)  | (302.5, 286.7)
  304 | (320.7, 286.7)  | (286.7, 286.7)
  305 | (304.9, 286.7)  | (270.9, 286.7)
  306 | (289.1, 286.7)  | (255.1, 286.7)
  307 | (273.4, 286.7)  | (239.4, 286.7)
  308 | (257.6, 286.7)  | (223.6, 286.7)
  309 | (241.8, 286.7)  | (207.8, 286.7)
  310 | (226.0, 286.7)  | (192.0, 286.7)
  311 | (210.2, 286.7)  | (176.2, 286.7)
  312 | (194.5, 286.7)  | (160.5, 286.7)
  313 | (178.7, 286.7)  | (144.7, 286.7)
  314 | (162.9, 286.7)  | (128.9, 286.7)
  315 | (147.1, 286.7)  | (113.1, 286.7)
  316 | (131.3, 286.7)  | (97.3, 286.7)
  317 | (115.6, 286.7)  | (81.6, 286.7)
  318 | (99.8, 286.7)   | (65.8, 286.7)
  319 | (84.0, 286.7)   | (50.0, 286.7)
  320 | (84.0, 302.5)   | (50.0, 302.5)
  321 | (99.8, 302.5)   | (65.8, 302.5)
  322 | (115.6, 302.5)  | (81.6, 302.5)
  323 | (131.3, 302.5)  | (97.3, 302.5)
  324 | (147.1, 302.5)  | (113.1, 302.5)
  325 | (162.9, 302.5)  | (128.9, 302.5)
  326 | (178.7, 302.5)  | (144.7, 302.5)
  327 | (194.5, 302.5)  | (160.5, 302.5)
  328 | (210.2, 302.5)  | (176.2, 302.5)
  329 | (226.0, 302.5)  | (192.0, 302.5)
  330 | (241.8, 302.5)  | (207.8, 302.5)
  331 | (257.6, 302.5)  | (223.6, 302.5)
  332 | (273.4, 302.5)  | (239.4, 302.5)
  333 | (289.1, 302.5)  | (255.1, 302.5)
  334 | (304.9, 302.5)  | (270.9, 302.5)
  335 | (320.7, 302.5)  | (286.7, 302.5)
  336 | (336.5, 302.5)  | (302.5, 302.5)
  337 | (352.3, 302.5)  | (318.3, 302.5)
  338 | (368.0, 302.5)  | (334.0, 302.5)
  339 | (383.8, 302.5)  | (349.8, 302.5)
  340 | (383.8, 318.3)  | (349.8, 318.3)
  341 | (368.0, 318.3)  | (334.0, 318.3)
  342 | (352.3, 318.3)  | (318.3, 318.3)
  343 | (336.5, 318.3)  | (302.5, 318.3)
  344 | (320.7, 318.3)  | (286.7, 318.3)
  345 | (304.9, 318.3)  | (270.9, 318.3)
  346 | (289.1, 318.3)  | (255.1, 318.3)
  347 | (273.4, 318.3)  | (239.4, 318.3)
  348 | (257.6, 318.3)  | (223.6, 318.3)
  349 | (241.8, 318.3)  | (207.8, 318.3)
  350 | (226.0, 318.3)  | (192.0, 318.3)
  351 | (210.2, 318.3)  | (176.2, 318.3)
  352 | (194.5, 318.3)  | (160.5, 318.3)
  353 | (178.7, 318.3)  | (144.7, 318.3)
  354 | (162.9, 318.3)  | (128.9, 318.3)
  355 | (147.1, 318.3)  | (113.1, 318.3)
  356 | (131.3, 318.3)  | (97.3, 318.3)
  357 | (115.6, 318.3)  | (81.6, 318.3)
  358 | (99.8, 318.3)   | (65.8, 318.3)
  359 | (84.0, 318.3)   | (50.0, 318.3)
  360 | (84.0, 334.0)   | (50.0, 334.0)
  361 | (99.8, 334.0)   | (65.8, 334.0)
  362 | (115.6, 334.0)  | (81.6, 334.0)
  363 | (131.3, 334.0)  | (97.3, 334.0)
  364 | (147.1, 334.0)  | (113.1, 334.0)
  365 | (162.9, 334.0)  | (128.9, 334.0)
  366 | (178.7, 334.0)  | (144.7, 334.0)
  367 | (194.5, 334.0)  | (160.5, 334.0)
  368 | (210.2, 334.0)  | (176.2, 334.0)
  369 | (226.0, 334.0)  | (192.0, 334.0)
  370 | (241.8, 334.0)  | (207.8, 334.0)
  371 | (257.6, 334.0)  | (223.6, 334.0)
  372 | (273.4, 334.0)  | (239.4, 334.0)
  373 | (289.1, 334.0)  | (255.1, 334.0)
  374 | (304.9, 334.0)  | (270.9, 334.0)
  375 | (320.7, 334.0)  | (286.7, 334.0)
  376 | (336.5, 334.0)  | (302.5, 334.0)
  377 | (352.3, 334.0)  | (318.3, 334.0)
  378 | (368.0, 334.0)  | (334.0, 334.0)
  379 | (383.8, 334.0)  | (349.8, 334.0)
  380 | (383.8, 349.8)  | (349.8, 349.8)
  381 | (368.0, 349.8)  | (334.0, 349.8)
  382 | (352.3, 349.8)  | (318.3, 349.8)
  383 | (336.5, 349.8)  | (302.5, 349.8)
  384 | (320.7, 349.8)  | (286.7, 349.8)
  385 | (304.9, 349.8)  | (270.9, 349.8)
  386 | (289.1, 349.8)  | (255.1, 349.8)
  387 | (273.4, 349.8)  | (239.4, 349.8)
  388 | (257.6, 349.8)  | (223.6, 349.8)
  389 | (241.8, 349.8)  | (207.8, 349.8)
  390 | (226.0, 349.8)  | (192.0, 349.8)
  391 | (210.2, 349.8)  | (176.2, 349.8)
  392 | (194.5, 349.8)  | (160.5, 349.8)
  393 | (178.7, 349.8)  | (144.7, 349.8)
  394 | (162.9, 349.8)  | (128.9, 349.8)
  395 | (147.1, 349.8)  | (113.1, 349.8)
  396 | (131.3, 349.8)  | (97.3, 349.8)
  397 | (115.6, 349.8)  | (81.6, 349.8)
  398 | (99.8, 349.8)   | (65.8, 349.8)
  399 | (84.0, 349.8)   | (50.0, 349.8)
bed_mesh: zero_reference_position is (200.00, 200.00)
Starting heater checks for extruder
Stats 23.1: gcodein=0  mcu: mcu_awake=0.019 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3233 bytes_read=6972 bytes_retransmit=0 bytes_invalid=0 send_seq=254 receive_seq=254 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167996594 EBBCan: mcu_awake=0.008 mcu_task_avg=0.000015 mcu_task_stddev=0.000018 bytes_write=1462 bytes_read=5086 bytes_retransmit=0 bytes_invalid=0 send_seq=150 receive_seq=150 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64002211 adj=64002974 PITB: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=1342 bytes_read=4853 bytes_retransmit=0 bytes_invalid=0 send_seq=138 receive_seq=138 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=11999457 adj=11998930 mcu_pitb: temp=33.9 enclosure_temp: temp=23.8  Bed_Top: temp=26.0 Raspberry_Pi: temp=43.3 mcu_Monster: temp=24.6 mcu_ebb36: temp=28.9 heater_bed: target=0 temp=26.0 pwm=0.000 sysload=0.86 cputime=4.049 memavail=1525916 print_time=36.838 buffer_time=0.249 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
webhooks: registering remote method 'shutdown_machine' for connection id: 548336030608
webhooks: registering remote method 'reboot_machine' for connection id: 548336030608
webhooks: registering remote method 'pause_job_queue' for connection id: 548336030608
webhooks: registering remote method 'start_job_queue' for connection id: 548336030608
webhooks: registering remote method 'timelapse_newframe' for connection id: 548336030608
webhooks: registering remote method 'timelapse_saveFrames' for connection id: 548336030608
webhooks: registering remote method 'timelapse_render' for connection id: 548336030608
Stats 24.1: gcodein=0  mcu: mcu_awake=0.019 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3254 bytes_read=7125 bytes_retransmit=0 bytes_invalid=0 send_seq=256 receive_seq=256 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=98 freq=167997799 EBBCan: mcu_awake=0.008 mcu_task_avg=0.000015 mcu_task_stddev=0.000018 bytes_write=1468 bytes_read=5189 bytes_retransmit=0 bytes_invalid=0 send_seq=151 receive_seq=151 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999946 adj=64003772 PITB: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=1373 bytes_read=4944 bytes_retransmit=0 bytes_invalid=0 send_seq=141 receive_seq=141 retransmit_seq=0 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=11999940 adj=12000038 mcu_pitb: temp=34.0 enclosure_temp: temp=25.2  Bed_Top: temp=25.9 Raspberry_Pi: temp=42.4 mcu_Monster: temp=24.6 mcu_ebb36: temp=28.9 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.86 cputime=4.101 memavail=1526384 print_time=39.351 buffer_time=1.755 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 25.1: gcodein=0  mcu: mcu_awake=0.019 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3357 bytes_read=7323 bytes_retransmit=0 bytes_invalid=0 send_seq=264 receive_seq=264 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=36 freq=167998177 EBBCan: mcu_awake=0.008 mcu_task_avg=0.000015 mcu_task_stddev=0.000018 bytes_write=1474 bytes_read=5321 bytes_retransmit=0 bytes_invalid=0 send_seq=152 receive_seq=152 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999192 adj=63997834 PITB: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=1409 bytes_read=5054 bytes_retransmit=0 bytes_invalid=0 send_seq=145 receive_seq=145 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000046 adj=12000570 mcu_pitb: temp=34.0 enclosure_temp: temp=25.2  Bed_Top: temp=25.9 Raspberry_Pi: temp=41.9 mcu_Monster: temp=25.1 mcu_ebb36: temp=28.8 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.79 cputime=4.122 memavail=1527232 print_time=39.351 buffer_time=0.755 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 26.1: gcodein=0  mcu: mcu_awake=0.019 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3419 bytes_read=7520 bytes_retransmit=0 bytes_invalid=0 send_seq=269 receive_seq=269 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167998390 EBBCan: mcu_awake=0.008 mcu_task_avg=0.000015 mcu_task_stddev=0.000018 bytes_write=1480 bytes_read=5424 bytes_retransmit=0 bytes_invalid=0 send_seq=153 receive_seq=153 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999118 adj=63996310 PITB: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=1475 bytes_read=5188 bytes_retransmit=0 bytes_invalid=0 send_seq=152 receive_seq=152 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000082 adj=12000717 mcu_pitb: temp=34.1 enclosure_temp: temp=25.2  Bed_Top: temp=25.9 Raspberry_Pi: temp=41.9 mcu_Monster: temp=25.2 mcu_ebb36: temp=28.9 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.79 cputime=4.138 memavail=1528004 print_time=39.351 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 27.1: gcodein=0  mcu: mcu_awake=0.016 mcu_task_avg=0.000005 mcu_task_stddev=0.000015 bytes_write=3425 bytes_read=7684 bytes_retransmit=0 bytes_invalid=0 send_seq=270 receive_seq=270 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167998698 EBBCan: mcu_awake=0.006 mcu_task_avg=0.000016 mcu_task_stddev=0.000068 bytes_write=1486 bytes_read=5556 bytes_retransmit=0 bytes_invalid=0 send_seq=154 receive_seq=154 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999331 adj=63995957 PITB: mcu_awake=0.019 mcu_task_avg=0.000047 mcu_task_stddev=0.000214 bytes_write=1511 bytes_read=5299 bytes_retransmit=0 bytes_invalid=0 send_seq=156 receive_seq=156 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000120 adj=12000761 mcu_pitb: temp=34.1 enclosure_temp: temp=25.2  Bed_Top: temp=25.8 Raspberry_Pi: temp=41.9 mcu_Monster: temp=25.0 mcu_ebb36: temp=29.1 heater_bed: target=0 temp=26.3 pwm=0.000 sysload=0.79 cputime=4.165 memavail=1535436 print_time=39.351 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 28.1: gcodein=0  mcu: mcu_awake=0.016 mcu_task_avg=0.000005 mcu_task_stddev=0.000015 bytes_write=3431 bytes_read=7847 bytes_retransmit=0 bytes_invalid=0 send_seq=271 receive_seq=271 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167998916 EBBCan: mcu_awake=0.006 mcu_task_avg=0.000016 mcu_task_stddev=0.000068 bytes_write=1492 bytes_read=5674 bytes_retransmit=0 bytes_invalid=0 send_seq=155 receive_seq=155 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999312 adj=63996988 PITB: mcu_awake=0.019 mcu_task_avg=0.000047 mcu_task_stddev=0.000214 bytes_write=1547 bytes_read=5409 bytes_retransmit=0 bytes_invalid=0 send_seq=160 receive_seq=160 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000150 adj=12000671 mcu_pitb: temp=34.1 enclosure_temp: temp=25.2  Bed_Top: temp=25.9 Raspberry_Pi: temp=41.4 mcu_Monster: temp=25.1 mcu_ebb36: temp=28.9 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.79 cputime=4.180 memavail=1535056 print_time=39.351 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 29.1: gcodein=0  mcu: mcu_awake=0.016 mcu_task_avg=0.000005 mcu_task_stddev=0.000015 bytes_write=3437 bytes_read=8024 bytes_retransmit=0 bytes_invalid=0 send_seq=272 receive_seq=272 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999044 EBBCan: mcu_awake=0.006 mcu_task_avg=0.000016 mcu_task_stddev=0.000068 bytes_write=1498 bytes_read=5777 bytes_retransmit=0 bytes_invalid=0 send_seq=156 receive_seq=156 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999345 adj=63997411 PITB: mcu_awake=0.019 mcu_task_avg=0.000047 mcu_task_stddev=0.000214 bytes_write=1583 bytes_read=5505 bytes_retransmit=0 bytes_invalid=0 send_seq=164 receive_seq=164 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000175 adj=12000587 mcu_pitb: temp=34.1 enclosure_temp: temp=25.2  Bed_Top: temp=26.0 Raspberry_Pi: temp=41.4 mcu_Monster: temp=25.0 mcu_ebb36: temp=28.9 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.79 cputime=4.196 memavail=1534052 print_time=39.351 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 30.1: gcodein=0  mcu: mcu_awake=0.016 mcu_task_avg=0.000005 mcu_task_stddev=0.000015 bytes_write=3443 bytes_read=8172 bytes_retransmit=0 bytes_invalid=0 send_seq=273 receive_seq=273 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999180 EBBCan: mcu_awake=0.006 mcu_task_avg=0.000016 mcu_task_stddev=0.000068 bytes_write=1504 bytes_read=5894 bytes_retransmit=0 bytes_invalid=0 send_seq=157 receive_seq=157 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999342 adj=63997936 PITB: mcu_awake=0.019 mcu_task_avg=0.000047 mcu_task_stddev=0.000214 bytes_write=1649 bytes_read=5639 bytes_retransmit=0 bytes_invalid=0 send_seq=171 receive_seq=171 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000187 adj=12000541 mcu_pitb: temp=34.1 enclosure_temp: temp=25.2  Bed_Top: temp=25.9 Raspberry_Pi: temp=41.4 mcu_Monster: temp=24.8 mcu_ebb36: temp=28.9 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.73 cputime=4.213 memavail=1533108 print_time=39.351 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 31.1: gcodein=0  mcu: mcu_awake=0.016 mcu_task_avg=0.000005 mcu_task_stddev=0.000015 bytes_write=3449 bytes_read=8335 bytes_retransmit=0 bytes_invalid=0 send_seq=274 receive_seq=274 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999275 EBBCan: mcu_awake=0.006 mcu_task_avg=0.000016 mcu_task_stddev=0.000068 bytes_write=1510 bytes_read=6012 bytes_retransmit=0 bytes_invalid=0 send_seq=158 receive_seq=158 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999351 adj=63998199 PITB: mcu_awake=0.019 mcu_task_avg=0.000047 mcu_task_stddev=0.000214 bytes_write=1680 bytes_read=5744 bytes_retransmit=0 bytes_invalid=0 send_seq=174 receive_seq=174 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000193 adj=12000472 mcu_pitb: temp=34.1 enclosure_temp: temp=25.2  Bed_Top: temp=25.8 Raspberry_Pi: temp=40.9 mcu_Monster: temp=24.8 mcu_ebb36: temp=29.0 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.73 cputime=4.227 memavail=1533108 print_time=39.351 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 32.1: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3455 bytes_read=8527 bytes_retransmit=0 bytes_invalid=0 send_seq=275 receive_seq=275 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999351 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1516 bytes_read=6129 bytes_retransmit=0 bytes_invalid=0 send_seq=159 receive_seq=159 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999373 adj=63998466 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000184 bytes_write=1711 bytes_read=5850 bytes_retransmit=0 bytes_invalid=0 send_seq=177 receive_seq=177 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000210 adj=12000410 mcu_pitb: temp=34.2 enclosure_temp: temp=25.2  Bed_Top: temp=25.8 Raspberry_Pi: temp=40.9 mcu_Monster: temp=25.0 mcu_ebb36: temp=29.0 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.73 cputime=4.249 memavail=1533116 print_time=39.351 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 33.1: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3461 bytes_read=8675 bytes_retransmit=0 bytes_invalid=0 send_seq=276 receive_seq=276 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999526 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1522 bytes_read=6246 bytes_retransmit=0 bytes_invalid=0 send_seq=160 receive_seq=160 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999428 adj=63998729 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000184 bytes_write=1742 bytes_read=5941 bytes_retransmit=0 bytes_invalid=0 send_seq=180 receive_seq=180 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000224 adj=12000408 mcu_pitb: temp=34.3 enclosure_temp: temp=25.2  Bed_Top: temp=25.8 Raspberry_Pi: temp=39.9 mcu_Monster: temp=24.9 mcu_ebb36: temp=29.0 heater_bed: target=0 temp=26.3 pwm=0.000 sysload=0.73 cputime=4.277 memavail=1533116 print_time=39.351 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 34.1: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3467 bytes_read=8838 bytes_retransmit=0 bytes_invalid=0 send_seq=277 receive_seq=277 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999647 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1528 bytes_read=6364 bytes_retransmit=0 bytes_invalid=0 send_seq=161 receive_seq=161 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999441 adj=63998897 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000184 bytes_write=1803 bytes_read=6084 bytes_retransmit=0 bytes_invalid=0 send_seq=186 receive_seq=186 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000232 adj=12000372 mcu_pitb: temp=34.5 enclosure_temp: temp=25.2  Bed_Top: temp=25.8 Raspberry_Pi: temp=40.9 mcu_Monster: temp=25.0 mcu_ebb36: temp=29.0 heater_bed: target=0 temp=26.3 pwm=0.000 sysload=0.73 cputime=4.307 memavail=1533116 print_time=39.351 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 35.1: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3473 bytes_read=9015 bytes_retransmit=0 bytes_invalid=0 send_seq=278 receive_seq=278 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999679 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1534 bytes_read=6467 bytes_retransmit=0 bytes_invalid=0 send_seq=162 receive_seq=162 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999446 adj=63998934 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000184 bytes_write=1834 bytes_read=6175 bytes_retransmit=0 bytes_invalid=0 send_seq=189 receive_seq=189 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000234 adj=12000338 mcu_pitb: temp=34.5 enclosure_temp: temp=25.2  Bed_Top: temp=26.0 Raspberry_Pi: temp=40.9 mcu_Monster: temp=25.0 mcu_ebb36: temp=29.0 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.67 cputime=4.322 memavail=1533116 print_time=39.351 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 36.1: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3479 bytes_read=9163 bytes_retransmit=0 bytes_invalid=0 send_seq=279 receive_seq=279 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999729 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1540 bytes_read=6584 bytes_retransmit=0 bytes_invalid=0 send_seq=163 receive_seq=163 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999453 adj=63999063 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000184 bytes_write=1865 bytes_read=6266 bytes_retransmit=0 bytes_invalid=0 send_seq=192 receive_seq=192 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000236 adj=12000316 mcu_pitb: temp=34.5 enclosure_temp: temp=25.2  Bed_Top: temp=25.8 Raspberry_Pi: temp=41.4 mcu_Monster: temp=25.0 mcu_ebb36: temp=29.0 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.67 cputime=4.336 memavail=1533116 print_time=39.351 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 37.1: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3485 bytes_read=9339 bytes_retransmit=0 bytes_invalid=0 send_seq=280 receive_seq=280 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999746 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1546 bytes_read=6716 bytes_retransmit=0 bytes_invalid=0 send_seq=164 receive_seq=164 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999457 adj=63999136 PITB: mcu_awake=0.013 mcu_task_avg=0.000061 mcu_task_stddev=0.000206 bytes_write=1896 bytes_read=6386 bytes_retransmit=0 bytes_invalid=0 send_seq=195 receive_seq=195 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000237 adj=12000295 mcu_pitb: temp=34.5 enclosure_temp: temp=25.2  Bed_Top: temp=25.9 Raspberry_Pi: temp=39.9 mcu_Monster: temp=24.9 mcu_ebb36: temp=29.1 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.67 cputime=4.351 memavail=1532908 print_time=39.351 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 38.1: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3491 bytes_read=9504 bytes_retransmit=0 bytes_invalid=0 send_seq=281 receive_seq=281 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999831 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1558 bytes_read=6835 bytes_retransmit=0 bytes_invalid=0 send_seq=166 receive_seq=166 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999464 adj=63999225 PITB: mcu_awake=0.013 mcu_task_avg=0.000061 mcu_task_stddev=0.000206 bytes_write=1962 bytes_read=6520 bytes_retransmit=0 bytes_invalid=0 send_seq=202 receive_seq=202 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000239 adj=12000282 mcu_pitb: temp=34.5 enclosure_temp: temp=25.2  Bed_Top: temp=25.9 Raspberry_Pi: temp=41.4 mcu_Monster: temp=24.8 mcu_ebb36: temp=28.9 heater_bed: target=0 temp=26.3 pwm=0.000 sysload=0.67 cputime=4.368 memavail=1532684 print_time=39.351 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 39.1: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3497 bytes_read=9648 bytes_retransmit=0 bytes_invalid=0 send_seq=282 receive_seq=282 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999860 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1564 bytes_read=6952 bytes_retransmit=0 bytes_invalid=0 send_seq=167 receive_seq=167 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999470 adj=63999182 PITB: mcu_awake=0.013 mcu_task_avg=0.000061 mcu_task_stddev=0.000206 bytes_write=1998 bytes_read=6616 bytes_retransmit=0 bytes_invalid=0 send_seq=206 receive_seq=206 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000242 adj=12000256 mcu_pitb: temp=34.5 enclosure_temp: temp=25.2  Bed_Top: temp=25.8 Raspberry_Pi: temp=40.9 mcu_Monster: temp=24.9 mcu_ebb36: temp=29.1 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.67 cputime=4.384 memavail=1530212 print_time=39.351 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 40.1: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3503 bytes_read=9825 bytes_retransmit=0 bytes_invalid=0 send_seq=283 receive_seq=283 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999872 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1570 bytes_read=7070 bytes_retransmit=0 bytes_invalid=0 send_seq=168 receive_seq=168 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999475 adj=63999243 PITB: mcu_awake=0.013 mcu_task_avg=0.000061 mcu_task_stddev=0.000206 bytes_write=2034 bytes_read=6726 bytes_retransmit=0 bytes_invalid=0 send_seq=210 receive_seq=210 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000260 adj=12000257 mcu_pitb: temp=34.6 enclosure_temp: temp=25.2  Bed_Top: temp=26.0 Raspberry_Pi: temp=40.9 mcu_Monster: temp=24.8 mcu_ebb36: temp=29.2 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.62 cputime=4.409 memavail=1532212 print_time=39.351 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 41.1: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3509 bytes_read=9988 bytes_retransmit=0 bytes_invalid=0 send_seq=284 receive_seq=284 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999867 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1576 bytes_read=7173 bytes_retransmit=0 bytes_invalid=0 send_seq=169 receive_seq=169 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999477 adj=63999312 PITB: mcu_awake=0.013 mcu_task_avg=0.000061 mcu_task_stddev=0.000206 bytes_write=2065 bytes_read=6817 bytes_retransmit=0 bytes_invalid=0 send_seq=213 receive_seq=213 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000260 adj=12000343 mcu_pitb: temp=34.5 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=40.9 mcu_Monster: temp=25.0 mcu_ebb36: temp=29.2 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.62 cputime=4.424 memavail=1531988 print_time=39.351 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 42.1: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3515 bytes_read=10151 bytes_retransmit=0 bytes_invalid=0 send_seq=285 receive_seq=285 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999873 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1582 bytes_read=7319 bytes_retransmit=0 bytes_invalid=0 send_seq=170 receive_seq=170 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999487 adj=63999388 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000182 bytes_write=2131 bytes_read=6966 bytes_retransmit=0 bytes_invalid=0 send_seq=220 receive_seq=220 retransmit_seq=0 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000259 adj=12000329 mcu_pitb: temp=34.6 enclosure_temp: temp=25.2  Bed_Top: temp=25.9 Raspberry_Pi: temp=41.4 mcu_Monster: temp=24.9 mcu_ebb36: temp=29.0 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.62 cputime=4.441 memavail=1531512 print_time=39.351 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 43.1: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3521 bytes_read=10328 bytes_retransmit=0 bytes_invalid=0 send_seq=286 receive_seq=286 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999902 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1588 bytes_read=7422 bytes_retransmit=0 bytes_invalid=0 send_seq=171 receive_seq=171 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999489 adj=63999464 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000182 bytes_write=2188 bytes_read=7094 bytes_retransmit=0 bytes_invalid=0 send_seq=225 receive_seq=225 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000260 adj=12000305 mcu_pitb: temp=34.6 enclosure_temp: temp=25.2  Bed_Top: temp=26.0 Raspberry_Pi: temp=39.9 mcu_Monster: temp=24.9 mcu_ebb36: temp=29.0 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.62 cputime=4.458 memavail=1533060 print_time=56.147 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 44.1: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3527 bytes_read=10491 bytes_retransmit=0 bytes_invalid=0 send_seq=287 receive_seq=287 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999951 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1594 bytes_read=7525 bytes_retransmit=0 bytes_invalid=0 send_seq=172 receive_seq=172 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999490 adj=63999427 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000182 bytes_write=2224 bytes_read=7190 bytes_retransmit=0 bytes_invalid=0 send_seq=229 receive_seq=229 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000261 adj=12000293 mcu_pitb: temp=34.6 enclosure_temp: temp=25.2  Bed_Top: temp=25.9 Raspberry_Pi: temp=41.9 mcu_Monster: temp=25.1 mcu_ebb36: temp=29.2 heater_bed: target=0 temp=26.3 pwm=0.000 sysload=0.62 cputime=4.473 memavail=1536704 print_time=56.147 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 45.1: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3533 bytes_read=10639 bytes_retransmit=0 bytes_invalid=0 send_seq=288 receive_seq=288 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999949 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1600 bytes_read=7657 bytes_retransmit=0 bytes_invalid=0 send_seq=173 receive_seq=173 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999511 adj=63999344 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000182 bytes_write=2260 bytes_read=7286 bytes_retransmit=0 bytes_invalid=0 send_seq=233 receive_seq=233 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000260 adj=12000266 mcu_pitb: temp=34.9 enclosure_temp: temp=25.3  Bed_Top: temp=25.8 Raspberry_Pi: temp=41.9 mcu_Monster: temp=25.0 mcu_ebb36: temp=29.2 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.57 cputime=4.491 memavail=1536480 print_time=56.147 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 46.1: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3539 bytes_read=10816 bytes_retransmit=0 bytes_invalid=0 send_seq=289 receive_seq=289 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999983 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1606 bytes_read=7760 bytes_retransmit=0 bytes_invalid=0 send_seq=174 receive_seq=174 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999521 adj=63999524 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000182 bytes_write=2326 bytes_read=7434 bytes_retransmit=0 bytes_invalid=0 send_seq=240 receive_seq=240 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=16 freq=12000264 adj=12000266 mcu_pitb: temp=34.8 enclosure_temp: temp=25.3  Bed_Top: temp=26.1 Raspberry_Pi: temp=41.4 mcu_Monster: temp=25.1 mcu_ebb36: temp=29.2 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.57 cputime=4.521 memavail=1536032 print_time=59.857 buffer_time=0.245 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Unable to write tmc spi 'stepper_x' register COOLCONF
Stats 47.1: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3545 bytes_read=10994 bytes_retransmit=0 bytes_invalid=0 send_seq=290 receive_seq=290 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999995 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1612 bytes_read=7877 bytes_retransmit=0 bytes_invalid=0 send_seq=175 receive_seq=175 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999520 adj=63999505 PITB: mcu_awake=0.012 mcu_task_avg=0.000048 mcu_task_stddev=0.000163 bytes_write=2477 bytes_read=7645 bytes_retransmit=0 bytes_invalid=0 send_seq=251 receive_seq=251 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000266 adj=12000275 mcu_pitb: temp=34.9 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=40.9 mcu_Monster: temp=25.0 mcu_ebb36: temp=29.2 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.57 cputime=4.549 memavail=1528508 print_time=59.857 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 48.1: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3551 bytes_read=11142 bytes_retransmit=0 bytes_invalid=0 send_seq=291 receive_seq=291 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999987 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1618 bytes_read=8009 bytes_retransmit=0 bytes_invalid=0 send_seq=176 receive_seq=176 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999530 adj=63999467 PITB: mcu_awake=0.012 mcu_task_avg=0.000048 mcu_task_stddev=0.000163 bytes_write=2513 bytes_read=7741 bytes_retransmit=0 bytes_invalid=0 send_seq=255 receive_seq=255 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000266 adj=12000278 mcu_pitb: temp=35.0 enclosure_temp: temp=25.3  Bed_Top: temp=25.8 Raspberry_Pi: temp=42.4 mcu_Monster: temp=25.0 mcu_ebb36: temp=29.5 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.57 cputime=4.563 memavail=1528508 print_time=59.857 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 49.1: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3557 bytes_read=11319 bytes_retransmit=0 bytes_invalid=0 send_seq=292 receive_seq=292 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999989 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1624 bytes_read=8112 bytes_retransmit=0 bytes_invalid=0 send_seq=177 receive_seq=177 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999529 adj=63999574 PITB: mcu_awake=0.012 mcu_task_avg=0.000048 mcu_task_stddev=0.000163 bytes_write=2549 bytes_read=7851 bytes_retransmit=0 bytes_invalid=0 send_seq=259 receive_seq=259 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000266 adj=12000281 mcu_pitb: temp=35.0 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=41.4 mcu_Monster: temp=25.1 mcu_ebb36: temp=29.2 heater_bed: target=0 temp=26.4 pwm=0.000 sysload=0.57 cputime=4.578 memavail=1534724 print_time=59.857 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 50.1: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3563 bytes_read=11482 bytes_retransmit=0 bytes_invalid=0 send_seq=293 receive_seq=293 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999989 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1630 bytes_read=8215 bytes_retransmit=0 bytes_invalid=0 send_seq=178 receive_seq=178 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999528 adj=63999548 PITB: mcu_awake=0.012 mcu_task_avg=0.000048 mcu_task_stddev=0.000163 bytes_write=2615 bytes_read=7985 bytes_retransmit=0 bytes_invalid=0 send_seq=266 receive_seq=266 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000267 adj=12000276 mcu_pitb: temp=35.0 enclosure_temp: temp=25.3  Bed_Top: temp=25.8 Raspberry_Pi: temp=41.9 mcu_Monster: temp=25.0 mcu_ebb36: temp=29.4 heater_bed: target=0 temp=26.3 pwm=0.000 sysload=0.60 cputime=4.594 memavail=1534536 print_time=59.857 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 51.1: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3569 bytes_read=11630 bytes_retransmit=0 bytes_invalid=0 send_seq=294 receive_seq=294 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=167999996 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1636 bytes_read=8347 bytes_retransmit=0 bytes_invalid=0 send_seq=179 receive_seq=179 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999524 adj=63999535 PITB: mcu_awake=0.012 mcu_task_avg=0.000048 mcu_task_stddev=0.000163 bytes_write=2646 bytes_read=8076 bytes_retransmit=0 bytes_invalid=0 send_seq=269 receive_seq=269 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000270 adj=12000281 mcu_pitb: temp=35.0 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=41.9 mcu_Monster: temp=25.0 mcu_ebb36: temp=29.2 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.60 cputime=4.609 memavail=1533316 print_time=59.857 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 52.1: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3575 bytes_read=11822 bytes_retransmit=0 bytes_invalid=0 send_seq=295 receive_seq=295 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000047 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000010 bytes_write=1642 bytes_read=8464 bytes_retransmit=0 bytes_invalid=0 send_seq=180 receive_seq=180 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999546 adj=63999488 PITB: mcu_awake=0.013 mcu_task_avg=0.000060 mcu_task_stddev=0.000194 bytes_write=2677 bytes_read=8196 bytes_retransmit=0 bytes_invalid=0 send_seq=272 receive_seq=272 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000272 adj=12000294 mcu_pitb: temp=35.0 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=40.9 mcu_Monster: temp=24.9 mcu_ebb36: temp=29.2 heater_bed: target=0 temp=26.3 pwm=0.000 sysload=0.60 cputime=4.631 memavail=1533316 print_time=59.857 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 53.1: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3581 bytes_read=11985 bytes_retransmit=0 bytes_invalid=0 send_seq=296 receive_seq=296 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000063 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000010 bytes_write=1648 bytes_read=8560 bytes_retransmit=0 bytes_invalid=0 send_seq=181 receive_seq=181 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999552 adj=63999510 PITB: mcu_awake=0.013 mcu_task_avg=0.000060 mcu_task_stddev=0.000194 bytes_write=2708 bytes_read=8287 bytes_retransmit=0 bytes_invalid=0 send_seq=275 receive_seq=275 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=16 freq=12000272 adj=12000276 mcu_pitb: temp=35.0 enclosure_temp: temp=25.3  Bed_Top: temp=25.8 Raspberry_Pi: temp=40.9 mcu_Monster: temp=25.0 mcu_ebb36: temp=29.3 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.60 cputime=4.658 memavail=1533320 print_time=66.756 buffer_time=0.139 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Unable to write tmc spi 'stepper_x' register COOLCONF
Stats 54.1: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3587 bytes_read=12133 bytes_retransmit=0 bytes_invalid=0 send_seq=297 receive_seq=297 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000069 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000010 bytes_write=1654 bytes_read=8683 bytes_retransmit=0 bytes_invalid=0 send_seq=182 receive_seq=182 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999552 adj=63999519 PITB: mcu_awake=0.013 mcu_task_avg=0.000060 mcu_task_stddev=0.000194 bytes_write=2874 bytes_read=8506 bytes_retransmit=0 bytes_invalid=0 send_seq=286 receive_seq=286 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000274 adj=12000262 mcu_pitb: temp=35.0 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=42.8 mcu_Monster: temp=25.0 mcu_ebb36: temp=29.4 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.60 cputime=4.686 memavail=1524752 print_time=66.756 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 55.1: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3593 bytes_read=12310 bytes_retransmit=0 bytes_invalid=0 send_seq=298 receive_seq=298 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000080 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000010 bytes_write=1660 bytes_read=8779 bytes_retransmit=0 bytes_invalid=0 send_seq=183 receive_seq=183 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999549 adj=63999501 PITB: mcu_awake=0.013 mcu_task_avg=0.000060 mcu_task_stddev=0.000194 bytes_write=2905 bytes_read=8611 bytes_retransmit=0 bytes_invalid=0 send_seq=289 receive_seq=289 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000274 adj=12000275 mcu_pitb: temp=35.0 enclosure_temp: temp=25.3  Bed_Top: temp=26.0 Raspberry_Pi: temp=40.9 mcu_Monster: temp=25.0 mcu_ebb36: temp=29.4 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.55 cputime=4.701 memavail=1522996 print_time=66.756 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 56.1: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3599 bytes_read=12473 bytes_retransmit=0 bytes_invalid=0 send_seq=299 receive_seq=299 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000077 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000010 bytes_write=1666 bytes_read=8875 bytes_retransmit=0 bytes_invalid=0 send_seq=184 receive_seq=184 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999546 adj=63999449 PITB: mcu_awake=0.013 mcu_task_avg=0.000060 mcu_task_stddev=0.000194 bytes_write=2936 bytes_read=8702 bytes_retransmit=0 bytes_invalid=0 send_seq=292 receive_seq=292 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000274 adj=12000267 mcu_pitb: temp=35.2 enclosure_temp: temp=25.3  Bed_Top: temp=26.0 Raspberry_Pi: temp=41.4 mcu_Monster: temp=24.9 mcu_ebb36: temp=29.4 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.55 cputime=4.716 memavail=1522996 print_time=66.756 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 57.1: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3605 bytes_read=12636 bytes_retransmit=0 bytes_invalid=0 send_seq=300 receive_seq=300 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000083 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1672 bytes_read=9019 bytes_retransmit=0 bytes_invalid=0 send_seq=185 receive_seq=185 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999545 adj=63999456 PITB: mcu_awake=0.012 mcu_task_avg=0.000051 mcu_task_stddev=0.000184 bytes_write=2972 bytes_read=8813 bytes_retransmit=0 bytes_invalid=0 send_seq=296 receive_seq=296 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000274 adj=12000270 mcu_pitb: temp=35.3 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=41.9 mcu_Monster: temp=25.0 mcu_ebb36: temp=29.4 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.55 cputime=4.733 memavail=1531268 print_time=66.756 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 58.1: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3611 bytes_read=12828 bytes_retransmit=0 bytes_invalid=0 send_seq=301 receive_seq=301 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000078 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1678 bytes_read=9122 bytes_retransmit=0 bytes_invalid=0 send_seq=186 receive_seq=186 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999542 adj=63999438 PITB: mcu_awake=0.012 mcu_task_avg=0.000051 mcu_task_stddev=0.000184 bytes_write=3033 bytes_read=8956 bytes_retransmit=0 bytes_invalid=0 send_seq=302 receive_seq=302 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000274 adj=12000267 mcu_pitb: temp=35.4 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=41.9 mcu_Monster: temp=24.8 mcu_ebb36: temp=29.3 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.55 cputime=4.750 memavail=1531044 print_time=66.756 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 59.1: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3617 bytes_read=12976 bytes_retransmit=0 bytes_invalid=0 send_seq=302 receive_seq=302 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000094 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1684 bytes_read=9225 bytes_retransmit=0 bytes_invalid=0 send_seq=187 receive_seq=187 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999549 adj=63999454 PITB: mcu_awake=0.012 mcu_task_avg=0.000051 mcu_task_stddev=0.000184 bytes_write=3079 bytes_read=9066 bytes_retransmit=0 bytes_invalid=0 send_seq=307 receive_seq=307 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000274 adj=12000268 mcu_pitb: temp=35.3 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=42.4 mcu_Monster: temp=25.0 mcu_ebb36: temp=29.6 heater_bed: target=0 temp=26.3 pwm=0.000 sysload=0.55 cputime=4.771 memavail=1529560 print_time=66.756 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 60.1: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3629 bytes_read=13140 bytes_retransmit=0 bytes_invalid=0 send_seq=304 receive_seq=304 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000090 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1690 bytes_read=9357 bytes_retransmit=0 bytes_invalid=0 send_seq=188 receive_seq=188 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999547 adj=63999474 PITB: mcu_awake=0.012 mcu_task_avg=0.000051 mcu_task_stddev=0.000184 bytes_write=3115 bytes_read=9162 bytes_retransmit=0 bytes_invalid=0 send_seq=311 receive_seq=311 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000275 adj=12000261 mcu_pitb: temp=35.4 enclosure_temp: temp=25.3  Bed_Top: temp=26.0 Raspberry_Pi: temp=42.4 mcu_Monster: temp=25.2 mcu_ebb36: temp=29.6 heater_bed: target=0 temp=26.3 pwm=0.000 sysload=0.51 cputime=4.785 memavail=1529576 print_time=66.756 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 61.1: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3635 bytes_read=13332 bytes_retransmit=0 bytes_invalid=0 send_seq=305 receive_seq=305 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000091 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1696 bytes_read=9460 bytes_retransmit=0 bytes_invalid=0 send_seq=189 receive_seq=189 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999546 adj=63999481 PITB: mcu_awake=0.012 mcu_task_avg=0.000051 mcu_task_stddev=0.000184 bytes_write=3151 bytes_read=9272 bytes_retransmit=0 bytes_invalid=0 send_seq=315 receive_seq=315 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000275 adj=12000272 mcu_pitb: temp=35.5 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=42.8 mcu_Monster: temp=25.0 mcu_ebb36: temp=29.5 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.51 cputime=4.801 memavail=1529328 print_time=66.756 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 62.1: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3641 bytes_read=13495 bytes_retransmit=0 bytes_invalid=0 send_seq=306 receive_seq=306 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000091 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1702 bytes_read=9577 bytes_retransmit=0 bytes_invalid=0 send_seq=190 receive_seq=190 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999544 adj=63999473 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000181 bytes_write=3187 bytes_read=9383 bytes_retransmit=0 bytes_invalid=0 send_seq=319 receive_seq=319 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=16 freq=12000274 adj=12000271 mcu_pitb: temp=35.5 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=41.9 mcu_Monster: temp=25.0 mcu_ebb36: temp=29.3 heater_bed: target=0 temp=26.3 pwm=0.000 sysload=0.51 cputime=4.816 memavail=1529328 print_time=75.731 buffer_time=0.111 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Unable to write tmc spi 'stepper_x' register COOLCONF
Stats 63.1: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3647 bytes_read=13635 bytes_retransmit=0 bytes_invalid=0 send_seq=307 receive_seq=307 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000088 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1708 bytes_read=9709 bytes_retransmit=0 bytes_invalid=0 send_seq=191 receive_seq=191 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999545 adj=63999470 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000181 bytes_write=3373 bytes_read=9622 bytes_retransmit=0 bytes_invalid=0 send_seq=334 receive_seq=334 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000274 adj=12000261 mcu_pitb: temp=35.5 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=43.3 mcu_Monster: temp=24.9 mcu_ebb36: temp=29.5 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.51 cputime=4.837 memavail=1526328 print_time=75.731 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 64.1: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3653 bytes_read=13816 bytes_retransmit=0 bytes_invalid=0 send_seq=308 receive_seq=308 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000134 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1714 bytes_read=9812 bytes_retransmit=0 bytes_invalid=0 send_seq=192 receive_seq=192 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999554 adj=63999496 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000181 bytes_write=3404 bytes_read=9727 bytes_retransmit=0 bytes_invalid=0 send_seq=337 receive_seq=337 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000274 adj=12000267 mcu_pitb: temp=35.5 enclosure_temp: temp=25.3  Bed_Top: temp=26.0 Raspberry_Pi: temp=43.3 mcu_Monster: temp=25.0 mcu_ebb36: temp=29.6 heater_bed: target=0 temp=26.3 pwm=0.000 sysload=0.51 cputime=4.854 memavail=1525832 print_time=75.731 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 65.1: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3659 bytes_read=13964 bytes_retransmit=0 bytes_invalid=0 send_seq=309 receive_seq=309 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000138 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1720 bytes_read=9915 bytes_retransmit=0 bytes_invalid=0 send_seq=193 receive_seq=193 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999557 adj=63999423 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000181 bytes_write=3435 bytes_read=9818 bytes_retransmit=0 bytes_invalid=0 send_seq=340 receive_seq=340 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000275 adj=12000238 mcu_pitb: temp=35.5 enclosure_temp: temp=25.3  Bed_Top: temp=26.0 Raspberry_Pi: temp=41.4 mcu_Monster: temp=25.1 mcu_ebb36: temp=29.4 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.47 cputime=4.880 memavail=1525384 print_time=75.731 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 66.1: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3665 bytes_read=14112 bytes_retransmit=0 bytes_invalid=0 send_seq=310 receive_seq=310 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000149 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1726 bytes_read=10047 bytes_retransmit=0 bytes_invalid=0 send_seq=194 receive_seq=194 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999561 adj=63999456 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000181 bytes_write=3471 bytes_read=9914 bytes_retransmit=0 bytes_invalid=0 send_seq=344 receive_seq=344 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000276 adj=12000251 mcu_pitb: temp=35.5 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=41.4 mcu_Monster: temp=25.2 mcu_ebb36: temp=29.6 heater_bed: target=0 temp=26.3 pwm=0.000 sysload=0.47 cputime=4.907 memavail=1531564 print_time=75.731 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 67.1: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3671 bytes_read=14319 bytes_retransmit=0 bytes_invalid=0 send_seq=311 receive_seq=311 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000153 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1732 bytes_read=10164 bytes_retransmit=0 bytes_invalid=0 send_seq=195 receive_seq=195 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999567 adj=63999459 PITB: mcu_awake=0.012 mcu_task_avg=0.000049 mcu_task_stddev=0.000174 bytes_write=3532 bytes_read=10072 bytes_retransmit=0 bytes_invalid=0 send_seq=350 receive_seq=350 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000277 adj=12000253 mcu_pitb: temp=35.5 enclosure_temp: temp=25.3  Bed_Top: temp=26.0 Raspberry_Pi: temp=41.9 mcu_Monster: temp=25.1 mcu_ebb36: temp=29.4 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.47 cputime=4.938 memavail=1530864 print_time=75.731 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 68.1: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3677 bytes_read=14467 bytes_retransmit=0 bytes_invalid=0 send_seq=312 receive_seq=312 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000161 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1738 bytes_read=10267 bytes_retransmit=0 bytes_invalid=0 send_seq=196 receive_seq=196 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999568 adj=63999516 PITB: mcu_awake=0.012 mcu_task_avg=0.000049 mcu_task_stddev=0.000174 bytes_write=3563 bytes_read=10163 bytes_retransmit=0 bytes_invalid=0 send_seq=353 receive_seq=353 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000277 adj=12000263 mcu_pitb: temp=35.5 enclosure_temp: temp=25.3  Bed_Top: temp=26.0 Raspberry_Pi: temp=41.9 mcu_Monster: temp=25.1 mcu_ebb36: temp=29.5 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.47 cputime=4.965 memavail=1530872 print_time=75.731 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 69.1: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3683 bytes_read=14615 bytes_retransmit=0 bytes_invalid=0 send_seq=313 receive_seq=313 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000175 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1744 bytes_read=10399 bytes_retransmit=0 bytes_invalid=0 send_seq=197 receive_seq=197 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999568 adj=63999497 PITB: mcu_awake=0.012 mcu_task_avg=0.000049 mcu_task_stddev=0.000174 bytes_write=3594 bytes_read=10254 bytes_retransmit=0 bytes_invalid=0 send_seq=356 receive_seq=356 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000281 adj=12000265 mcu_pitb: temp=35.5 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=42.4 mcu_Monster: temp=25.2 mcu_ebb36: temp=29.4 heater_bed: target=0 temp=26.3 pwm=0.000 sysload=0.47 cputime=4.991 memavail=1530872 print_time=75.731 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 70.1: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3689 bytes_read=14807 bytes_retransmit=0 bytes_invalid=0 send_seq=314 receive_seq=314 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000169 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1750 bytes_read=10502 bytes_retransmit=0 bytes_invalid=0 send_seq=198 receive_seq=198 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999566 adj=63999445 PITB: mcu_awake=0.012 mcu_task_avg=0.000049 mcu_task_stddev=0.000174 bytes_write=3630 bytes_read=10364 bytes_retransmit=0 bytes_invalid=0 send_seq=360 receive_seq=360 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000281 adj=12000290 mcu_pitb: temp=35.5 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=41.9 mcu_Monster: temp=25.2 mcu_ebb36: temp=29.4 heater_bed: target=0 temp=26.3 pwm=0.000 sysload=0.43 cputime=5.007 memavail=1530872 print_time=75.731 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 71.1: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3695 bytes_read=14955 bytes_retransmit=0 bytes_invalid=0 send_seq=315 receive_seq=315 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000170 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1756 bytes_read=10605 bytes_retransmit=0 bytes_invalid=0 send_seq=199 receive_seq=199 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999564 adj=63999461 PITB: mcu_awake=0.012 mcu_task_avg=0.000049 mcu_task_stddev=0.000174 bytes_write=3686 bytes_read=10488 bytes_retransmit=0 bytes_invalid=0 send_seq=365 receive_seq=365 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000280 adj=12000286 mcu_pitb: temp=35.5 enclosure_temp: temp=25.3  Bed_Top: temp=26.0 Raspberry_Pi: temp=41.4 mcu_Monster: temp=25.2 mcu_ebb36: temp=29.6 heater_bed: target=0 temp=26.3 pwm=0.000 sysload=0.43 cputime=5.022 memavail=1530876 print_time=75.731 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 72.1: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3701 bytes_read=15118 bytes_retransmit=0 bytes_invalid=0 send_seq=316 receive_seq=316 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000159 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1762 bytes_read=10751 bytes_retransmit=0 bytes_invalid=0 send_seq=200 receive_seq=200 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999566 adj=63999449 PITB: mcu_awake=0.013 mcu_task_avg=0.000060 mcu_task_stddev=0.000201 bytes_write=3717 bytes_read=10594 bytes_retransmit=0 bytes_invalid=0 send_seq=368 receive_seq=368 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000280 adj=12000274 mcu_pitb: temp=35.6 enclosure_temp: temp=25.3  Bed_Top: temp=26.0 Raspberry_Pi: temp=41.9 mcu_Monster: temp=25.3 mcu_ebb36: temp=29.6 heater_bed: target=0 temp=26.3 pwm=0.000 sysload=0.43 cputime=5.036 memavail=1530876 print_time=75.731 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 73.1: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3707 bytes_read=15310 bytes_retransmit=0 bytes_invalid=0 send_seq=317 receive_seq=317 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000153 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1768 bytes_read=10854 bytes_retransmit=0 bytes_invalid=0 send_seq=201 receive_seq=201 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999565 adj=63999527 PITB: mcu_awake=0.013 mcu_task_avg=0.000060 mcu_task_stddev=0.000201 bytes_write=3748 bytes_read=10699 bytes_retransmit=0 bytes_invalid=0 send_seq=371 receive_seq=371 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000280 adj=12000279 mcu_pitb: temp=35.8 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=42.4 mcu_Monster: temp=25.5 mcu_ebb36: temp=29.4 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.43 cputime=5.051 memavail=1530120 print_time=75.731 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 74.1: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3713 bytes_read=15458 bytes_retransmit=0 bytes_invalid=0 send_seq=318 receive_seq=318 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000147 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1774 bytes_read=10957 bytes_retransmit=0 bytes_invalid=0 send_seq=202 receive_seq=202 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999563 adj=63999539 PITB: mcu_awake=0.013 mcu_task_avg=0.000060 mcu_task_stddev=0.000201 bytes_write=3779 bytes_read=10790 bytes_retransmit=0 bytes_invalid=0 send_seq=374 receive_seq=374 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000280 adj=12000287 mcu_pitb: temp=35.8 enclosure_temp: temp=25.3  Bed_Top: temp=25.8 Raspberry_Pi: temp=42.4 mcu_Monster: temp=25.2 mcu_ebb36: temp=29.6 heater_bed: target=0 temp=26.3 pwm=0.000 sysload=0.43 cputime=5.066 memavail=1523080 print_time=75.731 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 75.1: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3719 bytes_read=15606 bytes_retransmit=0 bytes_invalid=0 send_seq=319 receive_seq=319 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000154 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1780 bytes_read=11089 bytes_retransmit=0 bytes_invalid=0 send_seq=203 receive_seq=203 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999564 adj=63999533 PITB: mcu_awake=0.013 mcu_task_avg=0.000060 mcu_task_stddev=0.000201 bytes_write=3835 bytes_read=10928 bytes_retransmit=0 bytes_invalid=0 send_seq=379 receive_seq=379 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000281 adj=12000285 mcu_pitb: temp=35.9 enclosure_temp: temp=25.3  Bed_Top: temp=26.0 Raspberry_Pi: temp=41.4 mcu_Monster: temp=25.3 mcu_ebb36: temp=29.4 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.40 cputime=5.095 memavail=1524844 print_time=75.731 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 76.1: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3725 bytes_read=15798 bytes_retransmit=0 bytes_invalid=0 send_seq=320 receive_seq=320 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000174 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1786 bytes_read=11192 bytes_retransmit=0 bytes_invalid=0 send_seq=204 receive_seq=204 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999565 adj=63999508 PITB: mcu_awake=0.013 mcu_task_avg=0.000060 mcu_task_stddev=0.000201 bytes_write=3872 bytes_read=11035 bytes_retransmit=0 bytes_invalid=0 send_seq=383 receive_seq=383 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000281 adj=12000287 mcu_pitb: temp=35.8 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=41.4 mcu_Monster: temp=25.2 mcu_ebb36: temp=29.6 heater_bed: target=0 temp=26.3 pwm=0.000 sysload=0.40 cputime=5.123 memavail=1533600 print_time=75.731 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 77.1: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3731 bytes_read=15961 bytes_retransmit=0 bytes_invalid=0 send_seq=321 receive_seq=321 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000171 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1792 bytes_read=11309 bytes_retransmit=0 bytes_invalid=0 send_seq=205 receive_seq=205 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999567 adj=63999436 PITB: mcu_awake=0.012 mcu_task_avg=0.000057 mcu_task_stddev=0.000198 bytes_write=3908 bytes_read=11146 bytes_retransmit=0 bytes_invalid=0 send_seq=387 receive_seq=387 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000282 adj=12000269 mcu_pitb: temp=35.9 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=42.4 mcu_Monster: temp=25.3 mcu_ebb36: temp=29.6 heater_bed: target=0 temp=26.4 pwm=0.000 sysload=0.40 cputime=5.149 memavail=1533348 print_time=75.731 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 78.1: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3737 bytes_read=16109 bytes_retransmit=0 bytes_invalid=0 send_seq=322 receive_seq=322 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000211 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1798 bytes_read=11441 bytes_retransmit=0 bytes_invalid=0 send_seq=206 receive_seq=206 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999569 adj=63999487 PITB: mcu_awake=0.012 mcu_task_avg=0.000057 mcu_task_stddev=0.000198 bytes_write=3939 bytes_read=11251 bytes_retransmit=0 bytes_invalid=0 send_seq=390 receive_seq=390 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000283 adj=12000275 mcu_pitb: temp=35.9 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=41.9 mcu_Monster: temp=25.2 mcu_ebb36: temp=29.6 heater_bed: target=0 temp=26.3 pwm=0.000 sysload=0.40 cputime=5.177 memavail=1532900 print_time=75.731 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 79.1: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3743 bytes_read=16301 bytes_retransmit=0 bytes_invalid=0 send_seq=323 receive_seq=323 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000205 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1804 bytes_read=11544 bytes_retransmit=0 bytes_invalid=0 send_seq=207 receive_seq=207 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999570 adj=63999341 PITB: mcu_awake=0.012 mcu_task_avg=0.000057 mcu_task_stddev=0.000198 bytes_write=3995 bytes_read=11375 bytes_retransmit=0 bytes_invalid=0 send_seq=395 receive_seq=395 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000282 adj=12000255 mcu_pitb: temp=35.9 enclosure_temp: temp=25.3  Bed_Top: temp=26.1 Raspberry_Pi: temp=41.9 mcu_Monster: temp=25.2 mcu_ebb36: temp=29.6 heater_bed: target=0 temp=26.3 pwm=0.000 sysload=0.40 cputime=5.205 memavail=1532396 print_time=75.731 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 80.1: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3749 bytes_read=16449 bytes_retransmit=0 bytes_invalid=0 send_seq=324 receive_seq=324 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000197 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1810 bytes_read=11647 bytes_retransmit=0 bytes_invalid=0 send_seq=208 receive_seq=208 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999567 adj=63999411 PITB: mcu_awake=0.012 mcu_task_avg=0.000057 mcu_task_stddev=0.000198 bytes_write=4026 bytes_read=11466 bytes_retransmit=0 bytes_invalid=0 send_seq=398 receive_seq=398 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000282 adj=12000258 mcu_pitb: temp=35.9 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=41.9 mcu_Monster: temp=25.2 mcu_ebb36: temp=29.5 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.44 cputime=5.220 memavail=1532172 print_time=75.731 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Unable to write tmc spi 'stepper_x' register GCONF
Stats 81.1: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3755 bytes_read=16597 bytes_retransmit=0 bytes_invalid=0 send_seq=325 receive_seq=325 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000191 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1816 bytes_read=11779 bytes_retransmit=0 bytes_invalid=0 send_seq=209 receive_seq=209 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999602 adj=63999440 PITB: mcu_awake=0.012 mcu_task_avg=0.000057 mcu_task_stddev=0.000198 bytes_write=4167 bytes_read=11666 bytes_retransmit=0 bytes_invalid=0 send_seq=407 receive_seq=407 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000282 adj=12000266 mcu_pitb: temp=35.9 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=42.4 mcu_Monster: temp=25.3 mcu_ebb36: temp=29.8 heater_bed: target=0 temp=26.3 pwm=0.000 sysload=0.44 cputime=5.242 memavail=1523644 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 82.1: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3761 bytes_read=16804 bytes_retransmit=0 bytes_invalid=0 send_seq=326 receive_seq=326 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000184 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1822 bytes_read=11882 bytes_retransmit=0 bytes_invalid=0 send_seq=210 receive_seq=210 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999597 adj=63999876 PITB: mcu_awake=0.012 mcu_task_avg=0.000050 mcu_task_stddev=0.000185 bytes_write=4198 bytes_read=11772 bytes_retransmit=0 bytes_invalid=0 send_seq=410 receive_seq=410 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000281 adj=12000266 mcu_pitb: temp=35.9 enclosure_temp: temp=25.3  Bed_Top: temp=26.0 Raspberry_Pi: temp=42.4 mcu_Monster: temp=25.2 mcu_ebb36: temp=29.7 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.44 cputime=5.258 memavail=1523396 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 83.1: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3767 bytes_read=16952 bytes_retransmit=0 bytes_invalid=0 send_seq=327 receive_seq=327 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000175 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1828 bytes_read=11999 bytes_retransmit=0 bytes_invalid=0 send_seq=211 receive_seq=211 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999592 adj=63999751 PITB: mcu_awake=0.012 mcu_task_avg=0.000050 mcu_task_stddev=0.000185 bytes_write=4254 bytes_read=11896 bytes_retransmit=0 bytes_invalid=0 send_seq=415 receive_seq=415 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000282 adj=12000270 mcu_pitb: temp=35.9 enclosure_temp: temp=25.3  Bed_Top: temp=26.0 Raspberry_Pi: temp=42.4 mcu_Monster: temp=25.1 mcu_ebb36: temp=29.6 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.44 cputime=5.274 memavail=1531960 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 84.1: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3773 bytes_read=17100 bytes_retransmit=0 bytes_invalid=0 send_seq=328 receive_seq=328 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000168 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1834 bytes_read=12131 bytes_retransmit=0 bytes_invalid=0 send_seq=212 receive_seq=212 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999588 adj=63999686 PITB: mcu_awake=0.012 mcu_task_avg=0.000050 mcu_task_stddev=0.000185 bytes_write=4285 bytes_read=12001 bytes_retransmit=0 bytes_invalid=0 send_seq=418 receive_seq=418 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000282 adj=12000282 mcu_pitb: temp=35.9 enclosure_temp: temp=25.3  Bed_Top: temp=26.2 Raspberry_Pi: temp=42.4 mcu_Monster: temp=25.4 mcu_ebb36: temp=29.8 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.44 cputime=5.291 memavail=1530208 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 85.1: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3779 bytes_read=17292 bytes_retransmit=0 bytes_invalid=0 send_seq=329 receive_seq=329 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000166 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1840 bytes_read=12234 bytes_retransmit=0 bytes_invalid=0 send_seq=213 receive_seq=213 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999587 adj=63999631 PITB: mcu_awake=0.012 mcu_task_avg=0.000050 mcu_task_stddev=0.000185 bytes_write=4321 bytes_read=12097 bytes_retransmit=0 bytes_invalid=0 send_seq=422 receive_seq=422 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000282 adj=12000283 mcu_pitb: temp=35.9 enclosure_temp: temp=25.3  Bed_Top: temp=26.0 Raspberry_Pi: temp=42.4 mcu_Monster: temp=25.4 mcu_ebb36: temp=29.7 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.49 cputime=5.318 memavail=1529760 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 86.1: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3785 bytes_read=17440 bytes_retransmit=0 bytes_invalid=0 send_seq=330 receive_seq=330 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000164 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1846 bytes_read=12337 bytes_retransmit=0 bytes_invalid=0 send_seq=214 receive_seq=214 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999585 adj=63999594 PITB: mcu_awake=0.012 mcu_task_avg=0.000050 mcu_task_stddev=0.000185 bytes_write=4352 bytes_read=12188 bytes_retransmit=0 bytes_invalid=0 send_seq=425 receive_seq=425 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000282 adj=12000284 mcu_pitb: temp=36.0 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=41.9 mcu_Monster: temp=25.2 mcu_ebb36: temp=29.6 heater_bed: target=0 temp=26.3 pwm=0.000 sysload=0.49 cputime=5.344 memavail=1529060 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 87.1: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3791 bytes_read=17602 bytes_retransmit=0 bytes_invalid=0 send_seq=331 receive_seq=331 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000165 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1852 bytes_read=12469 bytes_retransmit=0 bytes_invalid=0 send_seq=215 receive_seq=215 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999583 adj=63999564 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000195 bytes_write=4408 bytes_read=12341 bytes_retransmit=0 bytes_invalid=0 send_seq=430 receive_seq=430 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000282 adj=12000284 mcu_pitb: temp=36.0 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=41.9 mcu_Monster: temp=25.2 mcu_ebb36: temp=29.7 heater_bed: target=0 temp=26.3 pwm=0.000 sysload=0.49 cputime=5.374 memavail=1529824 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 88.1: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3797 bytes_read=17791 bytes_retransmit=0 bytes_invalid=0 send_seq=332 receive_seq=332 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000165 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1858 bytes_read=12586 bytes_retransmit=0 bytes_invalid=0 send_seq=216 receive_seq=216 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999586 adj=63999533 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000195 bytes_write=4439 bytes_read=12432 bytes_retransmit=0 bytes_invalid=0 send_seq=433 receive_seq=433 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000282 adj=12000283 mcu_pitb: temp=36.1 enclosure_temp: temp=25.3  Bed_Top: temp=25.8 Raspberry_Pi: temp=42.8 mcu_Monster: temp=25.3 mcu_ebb36: temp=29.7 heater_bed: target=0 temp=26.3 pwm=0.000 sysload=0.49 cputime=5.403 memavail=1531924 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 89.1: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3803 bytes_read=17929 bytes_retransmit=0 bytes_invalid=0 send_seq=333 receive_seq=333 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000164 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1864 bytes_read=12689 bytes_retransmit=0 bytes_invalid=0 send_seq=217 receive_seq=217 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999583 adj=63999556 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000195 bytes_write=4470 bytes_read=12523 bytes_retransmit=0 bytes_invalid=0 send_seq=436 receive_seq=436 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000282 adj=12000282 mcu_pitb: temp=36.1 enclosure_temp: temp=25.3  Bed_Top: temp=25.8 Raspberry_Pi: temp=41.9 mcu_Monster: temp=25.4 mcu_ebb36: temp=29.8 heater_bed: target=0 temp=26.3 pwm=0.000 sysload=0.49 cputime=5.428 memavail=1530920 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 90.1: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3809 bytes_read=18070 bytes_retransmit=0 bytes_invalid=0 send_seq=334 receive_seq=334 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000160 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1870 bytes_read=12821 bytes_retransmit=0 bytes_invalid=0 send_seq=218 receive_seq=218 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999578 adj=63999520 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000195 bytes_write=4501 bytes_read=12628 bytes_retransmit=0 bytes_invalid=0 send_seq=439 receive_seq=439 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000282 adj=12000278 mcu_pitb: temp=36.1 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=42.8 mcu_Monster: temp=25.3 mcu_ebb36: temp=29.9 heater_bed: target=0 temp=26.3 pwm=0.000 sysload=0.45 cputime=5.444 memavail=1530708 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 91.1: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3815 bytes_read=18262 bytes_retransmit=0 bytes_invalid=0 send_seq=335 receive_seq=335 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000158 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1876 bytes_read=12924 bytes_retransmit=0 bytes_invalid=0 send_seq=219 receive_seq=219 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999574 adj=63999483 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000195 bytes_write=4557 bytes_read=12752 bytes_retransmit=0 bytes_invalid=0 send_seq=444 receive_seq=444 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000282 adj=12000273 mcu_pitb: temp=36.3 enclosure_temp: temp=25.3  Bed_Top: temp=25.8 Raspberry_Pi: temp=41.9 mcu_Monster: temp=25.3 mcu_ebb36: temp=29.7 heater_bed: target=0 temp=26.3 pwm=0.000 sysload=0.45 cputime=5.461 memavail=1529700 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 92.1: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3821 bytes_read=18424 bytes_retransmit=0 bytes_invalid=0 send_seq=336 receive_seq=336 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000150 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1882 bytes_read=13027 bytes_retransmit=0 bytes_invalid=0 send_seq=220 receive_seq=220 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999571 adj=63999445 PITB: mcu_awake=0.013 mcu_task_avg=0.000061 mcu_task_stddev=0.000209 bytes_write=4588 bytes_read=12858 bytes_retransmit=0 bytes_invalid=0 send_seq=447 receive_seq=447 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000282 adj=12000276 mcu_pitb: temp=36.2 enclosure_temp: temp=25.3  Bed_Top: temp=26.0 Raspberry_Pi: temp=42.4 mcu_Monster: temp=25.4 mcu_ebb36: temp=29.7 heater_bed: target=0 temp=26.3 pwm=0.000 sysload=0.45 cputime=5.477 memavail=1522924 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 93.1: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3827 bytes_read=18572 bytes_retransmit=0 bytes_invalid=0 send_seq=337 receive_seq=337 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000142 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1888 bytes_read=13173 bytes_retransmit=0 bytes_invalid=0 send_seq=221 receive_seq=221 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999567 adj=63999471 PITB: mcu_awake=0.013 mcu_task_avg=0.000061 mcu_task_stddev=0.000209 bytes_write=4619 bytes_read=12963 bytes_retransmit=0 bytes_invalid=0 send_seq=450 receive_seq=450 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000281 adj=12000278 mcu_pitb: temp=36.3 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=42.4 mcu_Monster: temp=25.4 mcu_ebb36: temp=29.9 heater_bed: target=0 temp=26.4 pwm=0.000 sysload=0.45 cputime=5.492 memavail=1522928 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 94.1: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3833 bytes_read=18764 bytes_retransmit=0 bytes_invalid=0 send_seq=338 receive_seq=338 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000159 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1894 bytes_read=13276 bytes_retransmit=0 bytes_invalid=0 send_seq=222 receive_seq=222 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999563 adj=63999465 PITB: mcu_awake=0.013 mcu_task_avg=0.000061 mcu_task_stddev=0.000209 bytes_write=4650 bytes_read=13054 bytes_retransmit=0 bytes_invalid=0 send_seq=453 receive_seq=453 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000281 adj=12000278 mcu_pitb: temp=36.2 enclosure_temp: temp=25.3  Bed_Top: temp=25.8 Raspberry_Pi: temp=42.8 mcu_Monster: temp=25.3 mcu_ebb36: temp=29.7 heater_bed: target=0 temp=26.3 pwm=0.000 sysload=0.45 cputime=5.510 memavail=1531456 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 95.1: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3839 bytes_read=18912 bytes_retransmit=0 bytes_invalid=0 send_seq=339 receive_seq=339 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000159 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1900 bytes_read=13379 bytes_retransmit=0 bytes_invalid=0 send_seq=223 receive_seq=223 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999562 adj=63999347 PITB: mcu_awake=0.013 mcu_task_avg=0.000061 mcu_task_stddev=0.000209 bytes_write=4696 bytes_read=13164 bytes_retransmit=0 bytes_invalid=0 send_seq=458 receive_seq=458 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000281 adj=12000255 mcu_pitb: temp=36.3 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=41.9 mcu_Monster: temp=25.3 mcu_ebb36: temp=29.8 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.49 cputime=5.538 memavail=1531460 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 96.1: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3845 bytes_read=19060 bytes_retransmit=0 bytes_invalid=0 send_seq=340 receive_seq=340 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000157 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1906 bytes_read=13511 bytes_retransmit=0 bytes_invalid=0 send_seq=224 receive_seq=224 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999561 adj=63999376 PITB: mcu_awake=0.013 mcu_task_avg=0.000061 mcu_task_stddev=0.000209 bytes_write=4752 bytes_read=13302 bytes_retransmit=0 bytes_invalid=0 send_seq=463 receive_seq=463 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000281 adj=12000265 mcu_pitb: temp=36.4 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=43.3 mcu_Monster: temp=25.3 mcu_ebb36: temp=29.6 heater_bed: target=0 temp=26.4 pwm=0.000 sysload=0.49 cputime=5.567 memavail=1531012 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 97.1: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3851 bytes_read=19267 bytes_retransmit=0 bytes_invalid=0 send_seq=341 receive_seq=341 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000163 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1912 bytes_read=13614 bytes_retransmit=0 bytes_invalid=0 send_seq=225 receive_seq=225 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999560 adj=63999399 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000194 bytes_write=4783 bytes_read=13408 bytes_retransmit=0 bytes_invalid=0 send_seq=466 receive_seq=466 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000281 adj=12000267 mcu_pitb: temp=36.3 enclosure_temp: temp=25.3  Bed_Top: temp=25.8 Raspberry_Pi: temp=42.4 mcu_Monster: temp=25.4 mcu_ebb36: temp=29.6 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.49 cputime=5.594 memavail=1531544 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 98.1: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3857 bytes_read=19415 bytes_retransmit=0 bytes_invalid=0 send_seq=342 receive_seq=342 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000160 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1918 bytes_read=13731 bytes_retransmit=0 bytes_invalid=0 send_seq=226 receive_seq=226 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999559 adj=63999382 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000194 bytes_write=4814 bytes_read=13499 bytes_retransmit=0 bytes_invalid=0 send_seq=469 receive_seq=469 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000282 adj=12000266 mcu_pitb: temp=36.3 enclosure_temp: temp=25.3  Bed_Top: temp=26.0 Raspberry_Pi: temp=42.4 mcu_Monster: temp=25.3 mcu_ebb36: temp=29.9 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.49 cputime=5.619 memavail=1531292 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 99.1: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3863 bytes_read=19563 bytes_retransmit=0 bytes_invalid=0 send_seq=343 receive_seq=343 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000155 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1924 bytes_read=13863 bytes_retransmit=0 bytes_invalid=0 send_seq=227 receive_seq=227 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999558 adj=63999409 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000194 bytes_write=4845 bytes_read=13604 bytes_retransmit=0 bytes_invalid=0 send_seq=472 receive_seq=472 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000282 adj=12000274 mcu_pitb: temp=36.5 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=41.9 mcu_Monster: temp=25.4 mcu_ebb36: temp=29.7 heater_bed: target=0 temp=26.3 pwm=0.000 sysload=0.49 cputime=5.645 memavail=1531076 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 100.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3869 bytes_read=19755 bytes_retransmit=0 bytes_invalid=0 send_seq=344 receive_seq=344 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000144 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1936 bytes_read=13982 bytes_retransmit=0 bytes_invalid=0 send_seq=229 receive_seq=229 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999559 adj=63999445 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000194 bytes_write=4901 bytes_read=13728 bytes_retransmit=0 bytes_invalid=0 send_seq=477 receive_seq=477 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000281 adj=12000278 mcu_pitb: temp=36.4 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=42.4 mcu_Monster: temp=25.4 mcu_ebb36: temp=29.8 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.45 cputime=5.662 memavail=1531340 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 101.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3875 bytes_read=19903 bytes_retransmit=0 bytes_invalid=0 send_seq=345 receive_seq=345 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000134 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1942 bytes_read=14085 bytes_retransmit=0 bytes_invalid=0 send_seq=230 receive_seq=230 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999556 adj=63999536 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000194 bytes_write=4932 bytes_read=13819 bytes_retransmit=0 bytes_invalid=0 send_seq=480 receive_seq=480 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000280 adj=12000279 mcu_pitb: temp=36.4 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=42.8 mcu_Monster: temp=25.5 mcu_ebb36: temp=29.9 heater_bed: target=0 temp=26.3 pwm=0.000 sysload=0.45 cputime=5.677 memavail=1531116 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 102.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3881 bytes_read=20065 bytes_retransmit=0 bytes_invalid=0 send_seq=346 receive_seq=346 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000126 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1948 bytes_read=14217 bytes_retransmit=0 bytes_invalid=0 send_seq=231 receive_seq=231 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999556 adj=63999533 PITB: mcu_awake=0.012 mcu_task_avg=0.000057 mcu_task_stddev=0.000201 bytes_write=4963 bytes_read=13939 bytes_retransmit=0 bytes_invalid=0 send_seq=483 receive_seq=483 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000280 adj=12000279 mcu_pitb: temp=36.4 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=42.8 mcu_Monster: temp=25.4 mcu_ebb36: temp=29.6 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.45 cputime=5.693 memavail=1530892 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 103.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3887 bytes_read=20257 bytes_retransmit=0 bytes_invalid=0 send_seq=347 receive_seq=347 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000128 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1954 bytes_read=14334 bytes_retransmit=0 bytes_invalid=0 send_seq=232 receive_seq=232 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999552 adj=63999560 PITB: mcu_awake=0.012 mcu_task_avg=0.000057 mcu_task_stddev=0.000201 bytes_write=4994 bytes_read=14030 bytes_retransmit=0 bytes_invalid=0 send_seq=486 receive_seq=486 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000280 adj=12000282 mcu_pitb: temp=36.5 enclosure_temp: temp=25.3  Bed_Top: temp=26.0 Raspberry_Pi: temp=43.8 mcu_Monster: temp=25.5 mcu_ebb36: temp=29.8 heater_bed: target=0 temp=26.4 pwm=0.000 sysload=0.45 cputime=5.707 memavail=1530892 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 104.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3893 bytes_read=20405 bytes_retransmit=0 bytes_invalid=0 send_seq=348 receive_seq=348 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000120 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1960 bytes_read=14437 bytes_retransmit=0 bytes_invalid=0 send_seq=233 receive_seq=233 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999550 adj=63999490 PITB: mcu_awake=0.012 mcu_task_avg=0.000057 mcu_task_stddev=0.000201 bytes_write=5050 bytes_read=14154 bytes_retransmit=0 bytes_invalid=0 send_seq=491 receive_seq=491 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000279 adj=12000270 mcu_pitb: temp=36.5 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=42.8 mcu_Monster: temp=25.4 mcu_ebb36: temp=30.0 heater_bed: target=0 temp=26.5 pwm=0.000 sysload=0.45 cputime=5.724 memavail=1530668 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 105.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3899 bytes_read=20553 bytes_retransmit=0 bytes_invalid=0 send_seq=349 receive_seq=349 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000120 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1966 bytes_read=14569 bytes_retransmit=0 bytes_invalid=0 send_seq=234 receive_seq=234 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999551 adj=63999509 PITB: mcu_awake=0.012 mcu_task_avg=0.000057 mcu_task_stddev=0.000201 bytes_write=5081 bytes_read=14259 bytes_retransmit=0 bytes_invalid=0 send_seq=494 receive_seq=494 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000279 adj=12000270 mcu_pitb: temp=36.4 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=42.8 mcu_Monster: temp=25.4 mcu_ebb36: temp=29.8 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.50 cputime=5.752 memavail=1530676 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 106.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3905 bytes_read=20745 bytes_retransmit=0 bytes_invalid=0 send_seq=350 receive_seq=350 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000117 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1972 bytes_read=14672 bytes_retransmit=0 bytes_invalid=0 send_seq=235 receive_seq=235 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999549 adj=63999514 PITB: mcu_awake=0.012 mcu_task_avg=0.000057 mcu_task_stddev=0.000201 bytes_write=5112 bytes_read=14350 bytes_retransmit=0 bytes_invalid=0 send_seq=497 receive_seq=497 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000279 adj=12000270 mcu_pitb: temp=36.4 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=41.9 mcu_Monster: temp=25.4 mcu_ebb36: temp=29.8 heater_bed: target=0 temp=26.3 pwm=0.000 sysload=0.50 cputime=5.780 memavail=1530676 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 107.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3911 bytes_read=20907 bytes_retransmit=0 bytes_invalid=0 send_seq=351 receive_seq=351 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000113 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1978 bytes_read=14775 bytes_retransmit=0 bytes_invalid=0 send_seq=236 receive_seq=236 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999549 adj=63999505 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000199 bytes_write=5143 bytes_read=14456 bytes_retransmit=0 bytes_invalid=0 send_seq=500 receive_seq=500 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000280 adj=12000274 mcu_pitb: temp=36.5 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=42.4 mcu_Monster: temp=25.5 mcu_ebb36: temp=29.7 heater_bed: target=0 temp=26.3 pwm=0.000 sysload=0.50 cputime=5.806 memavail=1530928 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 108.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3917 bytes_read=21055 bytes_retransmit=0 bytes_invalid=0 send_seq=352 receive_seq=352 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000113 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1984 bytes_read=14921 bytes_retransmit=0 bytes_invalid=0 send_seq=237 receive_seq=237 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999548 adj=63999522 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000199 bytes_write=5204 bytes_read=14599 bytes_retransmit=0 bytes_invalid=0 send_seq=506 receive_seq=506 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000280 adj=12000290 mcu_pitb: temp=36.6 enclosure_temp: temp=25.3  Bed_Top: temp=26.0 Raspberry_Pi: temp=42.4 mcu_Monster: temp=25.5 mcu_ebb36: temp=29.9 heater_bed: target=0 temp=26.3 pwm=0.000 sysload=0.50 cputime=5.837 memavail=1533176 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 109.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3923 bytes_read=21247 bytes_retransmit=0 bytes_invalid=0 send_seq=353 receive_seq=353 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000111 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1990 bytes_read=15024 bytes_retransmit=0 bytes_invalid=0 send_seq=238 receive_seq=238 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999548 adj=63999514 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000199 bytes_write=5240 bytes_read=14695 bytes_retransmit=0 bytes_invalid=0 send_seq=510 receive_seq=510 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000280 adj=12000284 mcu_pitb: temp=36.5 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=41.9 mcu_Monster: temp=25.4 mcu_ebb36: temp=30.0 heater_bed: target=0 temp=26.4 pwm=0.000 sysload=0.50 cputime=5.862 memavail=1532196 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 110.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3929 bytes_read=21395 bytes_retransmit=0 bytes_invalid=0 send_seq=354 receive_seq=354 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000119 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1996 bytes_read=15127 bytes_retransmit=0 bytes_invalid=0 send_seq=239 receive_seq=239 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999545 adj=63999517 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000199 bytes_write=5276 bytes_read=14791 bytes_retransmit=0 bytes_invalid=0 send_seq=514 receive_seq=514 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000280 adj=12000285 mcu_pitb: temp=36.6 enclosure_temp: temp=25.3  Bed_Top: temp=26.1 Raspberry_Pi: temp=42.8 mcu_Monster: temp=25.4 mcu_ebb36: temp=29.9 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.54 cputime=5.877 memavail=1531696 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 111.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=3935 bytes_read=21543 bytes_retransmit=0 bytes_invalid=0 send_seq=355 receive_seq=355 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000128 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=2002 bytes_read=15259 bytes_retransmit=0 bytes_invalid=0 send_seq=240 receive_seq=240 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999542 adj=63999438 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000199 bytes_write=5312 bytes_read=14901 bytes_retransmit=0 bytes_invalid=0 send_seq=518 receive_seq=518 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000279 adj=12000269 mcu_pitb: temp=36.6 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=42.4 mcu_Monster: temp=25.7 mcu_ebb36: temp=30.0 heater_bed: target=0 temp=26.3 pwm=0.000 sysload=0.54 cputime=5.893 memavail=1534116 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 112.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3941 bytes_read=21750 bytes_retransmit=0 bytes_invalid=0 send_seq=356 receive_seq=356 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000117 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=2008 bytes_read=15362 bytes_retransmit=0 bytes_invalid=0 send_seq=241 receive_seq=241 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999541 adj=63999361 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000199 bytes_write=5378 bytes_read=15035 bytes_retransmit=0 bytes_invalid=0 send_seq=525 receive_seq=525 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000279 adj=12000254 mcu_pitb: temp=36.8 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=42.4 mcu_Monster: temp=25.5 mcu_ebb36: temp=30.0 heater_bed: target=0 temp=26.1 pwm=0.000 sysload=0.54 cputime=5.909 memavail=1533364 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 113.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3947 bytes_read=21898 bytes_retransmit=0 bytes_invalid=0 send_seq=357 receive_seq=357 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000108 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=2014 bytes_read=15479 bytes_retransmit=0 bytes_invalid=0 send_seq=242 receive_seq=242 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999538 adj=63999448 PITB: mcu_awake=0.013 mcu_task_avg=0.000060 mcu_task_stddev=0.000190 bytes_write=5414 bytes_read=15146 bytes_retransmit=0 bytes_invalid=0 send_seq=529 receive_seq=529 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000279 adj=12000264 mcu_pitb: temp=37.0 enclosure_temp: temp=25.3  Bed_Top: temp=26.0 Raspberry_Pi: temp=43.3 mcu_Monster: temp=25.4 mcu_ebb36: temp=29.9 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.54 cputime=5.925 memavail=1533140 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 114.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3953 bytes_read=22043 bytes_retransmit=0 bytes_invalid=0 send_seq=358 receive_seq=358 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000100 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=2020 bytes_read=15611 bytes_retransmit=0 bytes_invalid=0 send_seq=243 receive_seq=243 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999534 adj=63999451 PITB: mcu_awake=0.013 mcu_task_avg=0.000060 mcu_task_stddev=0.000190 bytes_write=5450 bytes_read=15256 bytes_retransmit=0 bytes_invalid=0 send_seq=533 receive_seq=533 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000278 adj=12000269 mcu_pitb: temp=37.0 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=43.3 mcu_Monster: temp=25.4 mcu_ebb36: temp=29.9 heater_bed: target=0 temp=26.3 pwm=0.000 sysload=0.54 cputime=5.943 memavail=1531700 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 115.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3959 bytes_read=22222 bytes_retransmit=0 bytes_invalid=0 send_seq=359 receive_seq=359 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000098 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=2026 bytes_read=15714 bytes_retransmit=0 bytes_invalid=0 send_seq=244 receive_seq=244 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999534 adj=63999457 PITB: mcu_awake=0.013 mcu_task_avg=0.000060 mcu_task_stddev=0.000190 bytes_write=5486 bytes_read=15352 bytes_retransmit=0 bytes_invalid=0 send_seq=537 receive_seq=537 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000278 adj=12000270 mcu_pitb: temp=37.1 enclosure_temp: temp=25.3  Bed_Top: temp=25.8 Raspberry_Pi: temp=43.3 mcu_Monster: temp=25.7 mcu_ebb36: temp=29.9 heater_bed: target=0 temp=26.3 pwm=0.000 sysload=0.74 cputime=5.971 memavail=1531900 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 116.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3965 bytes_read=22369 bytes_retransmit=0 bytes_invalid=0 send_seq=360 receive_seq=360 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000097 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=2032 bytes_read=15817 bytes_retransmit=0 bytes_invalid=0 send_seq=245 receive_seq=245 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999533 adj=63999480 PITB: mcu_awake=0.013 mcu_task_avg=0.000060 mcu_task_stddev=0.000190 bytes_write=5552 bytes_read=15486 bytes_retransmit=0 bytes_invalid=0 send_seq=544 receive_seq=544 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000278 adj=12000270 mcu_pitb: temp=37.1 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=42.8 mcu_Monster: temp=25.4 mcu_ebb36: temp=29.8 heater_bed: target=0 temp=26.3 pwm=0.000 sysload=0.74 cputime=6.001 memavail=1531900 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 117.2: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3971 bytes_read=22532 bytes_retransmit=0 bytes_invalid=0 send_seq=361 receive_seq=361 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000090 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=2038 bytes_read=15949 bytes_retransmit=0 bytes_invalid=0 send_seq=246 receive_seq=246 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999532 adj=63999470 PITB: mcu_awake=0.013 mcu_task_avg=0.000060 mcu_task_stddev=0.000190 bytes_write=5588 bytes_read=15596 bytes_retransmit=0 bytes_invalid=0 send_seq=548 receive_seq=548 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000278 adj=12000271 mcu_pitb: temp=37.1 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=41.9 mcu_Monster: temp=25.4 mcu_ebb36: temp=30.0 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.74 cputime=6.028 memavail=1532712 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 118.2: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3977 bytes_read=22724 bytes_retransmit=0 bytes_invalid=0 send_seq=362 receive_seq=362 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000086 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000010 bytes_write=2044 bytes_read=16066 bytes_retransmit=0 bytes_invalid=0 send_seq=247 receive_seq=247 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999529 adj=63999503 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000179 bytes_write=5619 bytes_read=15702 bytes_retransmit=0 bytes_invalid=0 send_seq=551 receive_seq=551 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000278 adj=12000278 mcu_pitb: temp=37.0 enclosure_temp: temp=25.3  Bed_Top: temp=26.0 Raspberry_Pi: temp=42.8 mcu_Monster: temp=25.5 mcu_ebb36: temp=30.2 heater_bed: target=0 temp=26.3 pwm=0.000 sysload=0.74 cputime=6.050 memavail=1532712 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 119.2: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3983 bytes_read=22872 bytes_retransmit=0 bytes_invalid=0 send_seq=363 receive_seq=363 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000083 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000010 bytes_write=2050 bytes_read=16169 bytes_retransmit=0 bytes_invalid=0 send_seq=248 receive_seq=248 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999528 adj=63999482 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000179 bytes_write=5650 bytes_read=15793 bytes_retransmit=0 bytes_invalid=0 send_seq=554 receive_seq=554 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000278 adj=12000282 mcu_pitb: temp=37.3 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=42.4 mcu_Monster: temp=25.5 mcu_ebb36: temp=30.0 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.74 cputime=6.064 memavail=1531716 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 120.2: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=3989 bytes_read=23020 bytes_retransmit=0 bytes_invalid=0 send_seq=364 receive_seq=364 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000079 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000010 bytes_write=2056 bytes_read=16294 bytes_retransmit=0 bytes_invalid=0 send_seq=249 receive_seq=249 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999525 adj=63999482 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000179 bytes_write=5706 bytes_read=15931 bytes_retransmit=0 bytes_invalid=0 send_seq=559 receive_seq=559 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000278 adj=12000277 mcu_pitb: temp=37.2 enclosure_temp: temp=25.3  Bed_Top: temp=26.0 Raspberry_Pi: temp=43.8 mcu_Monster: temp=25.5 mcu_ebb36: temp=30.0 heater_bed: target=0 temp=26.3 pwm=0.000 sysload=0.76 cputime=6.080 memavail=1531140 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 121.2: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000005 mcu_task_stddev=0.000002 bytes_write=4001 bytes_read=23228 bytes_retransmit=0 bytes_invalid=0 send_seq=366 receive_seq=366 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000066 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000010 bytes_write=2062 bytes_read=16390 bytes_retransmit=0 bytes_invalid=0 send_seq=250 receive_seq=250 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999522 adj=63999464 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000179 bytes_write=5737 bytes_read=16022 bytes_retransmit=0 bytes_invalid=0 send_seq=562 receive_seq=562 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000277 adj=12000282 mcu_pitb: temp=37.3 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=43.3 mcu_Monster: temp=25.3 mcu_ebb36: temp=29.9 heater_bed: target=0 temp=26.3 pwm=0.000 sysload=0.76 cputime=6.095 memavail=1531184 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 122.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=4007 bytes_read=23390 bytes_retransmit=0 bytes_invalid=0 send_seq=367 receive_seq=367 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000061 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000010 bytes_write=2068 bytes_read=16486 bytes_retransmit=0 bytes_invalid=0 send_seq=251 receive_seq=251 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999519 adj=63999505 PITB: mcu_awake=0.012 mcu_task_avg=0.000055 mcu_task_stddev=0.000179 bytes_write=5768 bytes_read=16113 bytes_retransmit=0 bytes_invalid=0 send_seq=565 receive_seq=565 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000277 adj=12000287 mcu_pitb: temp=37.3 enclosure_temp: temp=25.3  Bed_Top: temp=26.0 Raspberry_Pi: temp=42.4 mcu_Monster: temp=25.5 mcu_ebb36: temp=30.0 heater_bed: target=0 temp=26.3 pwm=0.000 sysload=0.76 cputime=6.109 memavail=1531184 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 123.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=4013 bytes_read=23538 bytes_retransmit=0 bytes_invalid=0 send_seq=368 receive_seq=368 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000060 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=2074 bytes_read=16623 bytes_retransmit=0 bytes_invalid=0 send_seq=252 receive_seq=252 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999524 adj=63999486 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000199 bytes_write=5804 bytes_read=16238 bytes_retransmit=0 bytes_invalid=0 send_seq=569 receive_seq=569 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000276 adj=12000280 mcu_pitb: temp=37.3 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=44.3 mcu_Monster: temp=25.5 mcu_ebb36: temp=30.1 heater_bed: target=0 temp=26.3 pwm=0.000 sysload=0.76 cputime=6.130 memavail=1531232 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 124.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=4019 bytes_read=23730 bytes_retransmit=0 bytes_invalid=0 send_seq=369 receive_seq=369 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000055 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=2080 bytes_read=16723 bytes_retransmit=0 bytes_invalid=0 send_seq=253 receive_seq=253 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999523 adj=63999563 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000199 bytes_write=5860 bytes_read=16362 bytes_retransmit=0 bytes_invalid=0 send_seq=574 receive_seq=574 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000277 adj=12000274 mcu_pitb: temp=37.3 enclosure_temp: temp=25.3  Bed_Top: temp=26.0 Raspberry_Pi: temp=43.8 mcu_Monster: temp=25.6 mcu_ebb36: temp=30.0 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.76 cputime=6.156 memavail=1530992 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 125.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=4025 bytes_read=23878 bytes_retransmit=0 bytes_invalid=0 send_seq=370 receive_seq=370 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000050 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=2086 bytes_read=16826 bytes_retransmit=0 bytes_invalid=0 send_seq=254 receive_seq=254 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999520 adj=63999564 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000199 bytes_write=5891 bytes_read=16453 bytes_retransmit=0 bytes_invalid=0 send_seq=577 receive_seq=577 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000276 adj=12000285 mcu_pitb: temp=37.3 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=43.8 mcu_Monster: temp=25.7 mcu_ebb36: temp=30.0 heater_bed: target=0 temp=26.2 pwm=0.000 sysload=0.70 cputime=6.170 memavail=1530992 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 126.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=4031 bytes_read=24026 bytes_retransmit=0 bytes_invalid=0 send_seq=371 receive_seq=371 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000046 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=2092 bytes_read=16958 bytes_retransmit=0 bytes_invalid=0 send_seq=255 receive_seq=255 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999523 adj=63999539 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000199 bytes_write=5922 bytes_read=16558 bytes_retransmit=0 bytes_invalid=0 send_seq=580 receive_seq=580 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000276 adj=12000280 mcu_pitb: temp=37.3 enclosure_temp: temp=25.3  Bed_Top: temp=25.8 Raspberry_Pi: temp=42.8 mcu_Monster: temp=25.5 mcu_ebb36: temp=29.9 heater_bed: target=0 temp=26.3 pwm=0.000 sysload=0.70 cputime=6.185 memavail=1530992 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 127.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000003 bytes_write=4037 bytes_read=24232 bytes_retransmit=0 bytes_invalid=0 send_seq=372 receive_seq=372 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=168000040 EBBCan: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=2098 bytes_read=17061 bytes_retransmit=0 bytes_invalid=0 send_seq=256 receive_seq=256 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63999520 adj=63999593 PITB: mcu_awake=0.012 mcu_task_avg=0.000056 mcu_task_stddev=0.000199 bytes_write=5953 bytes_read=16649 bytes_retransmit=0 bytes_invalid=0 send_seq=583 receive_seq=583 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000275 adj=12000276 mcu_pitb: temp=37.3 enclosure_temp: temp=25.3  Bed_Top: temp=25.9 Raspberry_Pi: temp=42.8 mcu_Monster: temp=25.5 mcu_ebb36: temp=29.8 heater_bed: target=0 temp=26.3 pwm=0.000 sysload=0.70 cputime=6.199 memavail=1530992 print_time=94.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
